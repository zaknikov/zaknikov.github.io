"use strict";(self["webpackChunkorbital"]=self["webpackChunkorbital"]||[]).push([[252],{444328:function(t,e,s){s.r(e),s.d(e,{Animation:function(){return i}});class i{constructor(t,e,s,i){this._images=[],this._countSprite=e,this.imgLoaded=0,this._loadAnimation(t,s,i)}_loadAnimation(t,e,i){let a=[];for(let n=0;n<this._countSprite;n++){const e=new Promise(((e,a)=>{const o=t.replace("?",n),l=s(18116)("./"+o),r=new Image;r.src=l,this._images.push(r),r.addEventListener("load",(()=>{this.imgLoaded++,i(),e()})),r.addEventListener("error",(t=>{console.log(t),a(t)}))}));a.push(e)}Promise.all(a).then((()=>{e()})).catch((t=>{e(t)}))}findFrame(t){return this._images[t]}}},696762:function(t,e,s){s.r(e),s.d(e,{Animator:function(){return r}});s(21703);var i=s(444328),a=s(489520),n=s(816165),o=s(575174),l=s(539680);class r{constructor(t,e,s,i,a){this.canvasGroup=t,this.animationsPattern=e,this._options=s,this.hotspots,this._tilesCanvas=t.tilesCanvas,this._animCanvas=t.animation,this._eventsCanvas=t.eventsCanvas,this._hotspotRegions=i,this._regionInfo=a,this.init()}init(){this._currentWidth=0,this._currentHeight=0,this._countFrames=this._options.framesCount,this._tlTimeDraw=this._options.timeLineSpeed,this._animations=[],this.maxWidth=this._options.maxWidth,this.maxHeight=this._options.maxHeight,this._animationIndex=this._options.animStart,this._frameIndex=this._options.frameStart,this.mobileWidth=500,this._reverse=!1,this._isPlaying=!1,this._currentFrame,this._animationsReady=!1,this.cancel=!1,this._tilesController=null,this._resizer=null,this.percentLoaded=0,this._countAnimLoaded=0,this._zoomPoints=void 0,this._animCtx=this._animCanvas.getContext("2d"),this._tilesCtx=this._tilesCanvas.getContext("2d"),this._loadAnimations()}_loadAnimations(){console.log("loading..");let t=[];const e=this.animationsPattern.length*this._countFrames;for(let s=0;s<this.animationsPattern.length;s++){const a=new Promise(((t,a)=>{const n=this.animationsPattern[s],o=new i.Animation(n,this._countFrames,(e=>{this.cancel&&a("cancel"),"undefined"!==typeof e?a(e):t()}),(()=>{this._countAnimLoaded++,this.percentLoaded=Math.round(this._countAnimLoaded/e*100),window.dispatchEvent(new CustomEvent("OnLoadingChange",{bubbles:!1}))}));this._animations.push(o)}));t.push(a)}Promise.all(t).then((()=>{console.log("all animations loaded!"),this._animationsReady=!0,this._setup()})).catch((t=>{if("cancel"!==t)throw window.dispatchEvent(new CustomEvent("OnError",{bubbles:!1})),new Error("Error while loading animations! please check your images...")}))}_setup(){this._frameIndex=Math.min(Math.max(parseInt(this._frameIndex),0),this._countFrames-1),this._animationIndex=Math.min(Math.max(parseInt(this._animationIndex),0),this._animations.length-1),this._resizer=new l.Resizer(this.canvasGroup),this._initTiles(),this.hotspots=new a.Hotspots(this.canvasGroup,this._hotspotRegions,this._regionInfo),this._inputSystem=new o.InputSystem(this._eventsCanvas,{width:this.maxWidth,height:this.maxHeight},this._options.zoomOptions,this._options.dragOptions),this._inputSystem.rect.addEventListener("OnZoom",(()=>{this._onZoomEvent()})),this._inputSystem.rect.addEventListener("OnDrag",(t=>{this.onDragEvent(t)})),window.onresize=()=>{this._resizer.resize(),this._inputSystem.zoom.setMaxZoom(),this.requestFrameDraw()},window.dispatchEvent(new CustomEvent("OnAnimatorReady",{bubbles:!1}))}_initTiles(){this._tilesController=new n.TilesController(this._options)}run(){this._showAnimationFrame(this._animationIndex,this._frameIndex),this._options.autoplay&&window.setTimeout((()=>this.play()),0)}play(){this._isPlaying||(window.requestAnimationFrame((t=>{this._update(t)})),this._isPlaying=!0)}stop(){this._isPlaying&&(window.cancelAnimationFrame((t=>{this._update(t)})),this._isPlaying=!1)}_update(t){if(!this._animationsReady)return;void 0===this._startTime&&(this._startTime=t);const e=t-this._startTime;e>=this._tlTimeDraw&&this._isPlaying&&(this._step(),window.dispatchEvent(new CustomEvent("OnUpdateTimeline",{bubbles:!1})),this._startTime=t),window.requestAnimationFrame((t=>{this._update(t)}))}_step(t){t=void 0==t?this._reverse:t,t?this._setPrevIndex():this._setNextIndex(),this._showAnimationFrame(this._animationIndex,this._frameIndex)}requestFrameDraw(){window.requestAnimationFrame((()=>{this._draw()}))}_draw(){if(!this._animationsReady)return;const t=this._getAnimation();this._currentFrame=t.findFrame(this._frameIndex);const e=this._inputSystem.zoom.currentScale;this._currentWidth=this.maxWidth*e,this._currentHeight=this.maxHeight*e,this._setZoomOffset();let s=Math.round(.5*this._animCanvas.width-.5*this._currentWidth-this._offsetX),i=Math.round(.5*this._animCanvas.height-.5*this._currentHeight-this._offsetY);this._animCanvas.width<this.mobileWidth&&(s=Math.round(.5*this._animCanvas.width-.5*this._currentWidth),i=Math.round(.5*this._animCanvas.height-.5*this._currentHeight),this._offsetX=0,this._offsetY=0),this._tilesCtx.clearRect(0,0,this._tilesCanvas.width,this._tilesCanvas.height),this._animCtx.clearRect(0,0,this._animCanvas.width,this._animCanvas.height);const a=this._animationIndex,n=this._frameIndex,o=this._offsetX,l=this._offsetY,r=this._tilesController.fetchTiles(a,n,this._currentWidth,e);r.then((t=>{const r=this._inputSystem.zoom.currentScale;r===e&&a===this._animationIndex&&n===this._frameIndex&&o===this._offsetX&&l===this._offsetY&&this._tilesCtx.drawImage(t,s,i,this._currentWidth,this._currentHeight)})).catch((()=>{})),this.hotspots.drawHts(this._animationIndex,this._frameIndex,this._currentWidth,this._currentHeight,this._offsetX,this._offsetY),this._animCtx.drawImage(this._currentFrame,s,i,this._currentWidth,this._currentHeight)}_setZoomOffset(){if(void 0===this._offsetX&&(this._offsetX=0),void 0===this._offsetY&&(this._offsetY=0),void 0===this._zoomPoints)return;const t=.5*this._animCanvas.width,e=.5*this._animCanvas.height,s=t-.5*this._currentWidth+this._offsetX,i=e-.5*this._currentHeight+this._offsetY,a=s+.5*this._currentWidth,n=i+.5*this._currentHeight;let o,l;this._inputSystem.zoom.isZoomIn&&-1!=this._zoomPoints?(o=this._zoomPoints.x-a,l=this._zoomPoints.y-n):(o=t-a,l=e-n);const r=.1,c=.1*this._animCanvas.width,h=Math.atan2(l,o);let d=Math.sqrt(Math.pow(o,2)+Math.pow(l,2));d>c&&(d=c),this._offsetX+=Math.round(d*Math.cos(h)*r),this._offsetY+=Math.round(d*Math.sin(h)*r),this._zoomPoints=void 0}switchAnimation(t){t<0||t>=this._animations.length||this._showAnimationFrame(t,this._frameIndex)}_showAnimationFrame(t,e){this._animationIndex=t,this._frameIndex=e,this.requestFrameDraw()}playFrame(t){this.stop(),this._step(t)}_getAnimation(){return this._animations[this._animationIndex]}_setNextIndex(){this._frameIndex++,this._frameIndex>=this._countFrames&&(this._frameIndex=0)}_setPrevIndex(){this._frameIndex--,this._frameIndex<0&&(this._frameIndex=this._countFrames-1)}_onZoomEvent(){this._zoomLerp(),this.stop(),this.requestFrameDraw()}_zoomLerp(){const t=this._inputSystem.zoom.zoomPoints;this._zoomPoints=-1!=t?t:-1}onDragEvent(t){this.playFrame(t.detail)}}},354757:function(t,e,s){s.r(e),s.d(e,{CanvasBuilder:function(){return i}});s(21703);class i{constructor(t){this._parentId=t,this._parentElem}createLayers(){if(this._parentElem=document.getElementById(this._parentId),!this._parentElem)throw alert("Orbital dom element not found !! "+this._parentId),new Error("Orbital dom element not found !!"+this._parentId);const t=this.createCanvas("eventsCanvas",99),e=this.createCanvas("htEffectCanvas",5),s=this.createCanvas("htDrawCanvas",4),i=this.createCanvas("tilesCanvas",3),a=this.createCanvas("animCanvas",2),n=this.createCanvas("htRefCanvas",1);n.style.left="-300%",n.style.visibility="hidden";const o={animation:a,hotspotsRef:n,hotspotsDraw:s,hotspotsEffects:e,eventsCanvas:t,tilesCanvas:i};return o}createCanvas(t,e){if(null===this._parentElem)return;const s=document.createElement("canvas");return s.id=t,s.width=document.documentElement.clientWidth,s.height=document.documentElement.clientHeight,s.style.position="fixed",s.style.zIndex=e,s.style.top=0,s.style.left=0,this._parentElem.appendChild(s),s}}},251230:function(t,e,s){s.r(e),s.d(e,{Drag:function(){return i}});class i{constructor(t,e){this.rect=t,this._sensitivity=e.sensitivity,this._threshold=e.threshold,this._throwSens=e.throwSens,this._maxVelocity=e.maxVelocity,this._maxStepsCaptures=50,this.velocity=void 0,this.isDragging=!1,this.reverse=!0,this._prevX=void 0,this._prevT=void 0,this._lastDiff=void 0,this._bounding,this._waitTimout,this.init()}get _bounding(){return this.rect.getBoundingClientRect()}init(){this.clear()}clear(){this.isDragging=!1,this._prevX=void 0,this._prevT=void 0,this._lastDiff=void 0,clearTimeout(this._waitTimout)}mouseDown(t){this._startEvent(t.clientX)}mouseMove(t){this.isDragging&&this._rotate(t.clientX)}mouseUp(){this._endEvent()}touchStart(t){const e=t.touches;e.length>1?this.clear():this._startEvent(e[0].clientX)}touchMove(t){if(!this.isDragging)return;const e=t.touches;e.length>1?this.clear():this._rotate(e[0].clientX)}touchEnd(){this._endEvent()}_startEvent(t){this.isDragging=!0,this._prevX=this._getCurrentX(t),this._prevT=Date.now(),clearTimeout(this._waitTimout)}_endEvent(){this.isDragging=!1,this._throw(),this._lastDiff=void 0}async _rotate(t){const e=this._getCurrentX(t);this._lastDiff=Math.round(e-this._prevX);const s=Date.now(),i=s-this._prevT;if(this.velocity=Math.abs(this._lastDiff/i),Math.abs(this._lastDiff)>this._threshold){this.reverse=this._lastDiff>0;const t=Math.floor(this.velocity*this._sensitivity);for(let e=0;e<=t;e++)await this._wait(this.velocity),this.rect.dispatchEvent(new CustomEvent("OnDrag",{bubbles:!1,detail:this.reverse}));this._prevX=e,this._prevT=s}}async _throw(){const t=Math.abs(this._lastDiff);if(this.isDragging||void 0===this._lastDiff||t<this._threshold)return void this.clear();const e=this._lastDiff>0;let s=Math.round(Math.abs(this.velocity))*this._throwSens;s=s>this._maxStepsCaptures?this._maxStepsCaptures:s,this.velocity=this.velocity>this._maxVelocity?this._maxVelocity:this.velocity,this.velocity=this._maxVelocity-this.velocity;for(let i=0;i<s;i++){if(this.isDragging){this.clear();break}await this._wait(this.velocity),this.rect.dispatchEvent(new CustomEvent("OnDrag",{bubbles:!1,detail:e}));const t=this._easeOutSine(i/s);this.velocity+=t*this._sensitivity}}_easeOutSine(t){return Math.sin(t*Math.PI/2)}_wait(t){const e=new Promise((e=>{this._waitTimout=setTimeout((()=>{e()}),t)}));return e}_getCurrentX(t){return t-this._bounding.left}}},575174:function(t,e,s){s.r(e),s.d(e,{InputSystem:function(){return n}});var i=s(490842),a=s(251230);class n{constructor(t,e,s,n){this.rect=t,this.drag=new a.Drag(t,n),this.zoom=new i.Zoom(t,e,s),this.init()}_hasTouch(){return"ontouchstart"in window}init(){this._hasTouch()?(console.log("touch support"),this._touchListeners()):(this._mouseListeners(),this._pointerZoomEvent()),this.rect.addEventListener("wheel",(t=>{t.preventDefault(),this.zoom._wheelZoom(t)}))}_mouseListeners(){this.rect.onmousedown=t=>{0===t.button&&this._mouseDown(t)},this.rect.onmousemove=t=>{this._mouseMove(t)},this.rect.onmouseup=t=>{this._mouseUp(t)}}_touchListeners(){this.rect.addEventListener("touchstart",(t=>{this._touchStart(t)})),this.rect.addEventListener("touchmove",(t=>{t.preventDefault(),this._touchMove(t)}),{passive:!1}),this.rect.addEventListener("touchend",(t=>{this._touchEnd(t)}))}_pointerZoomEvent(){this.rect.addEventListener("pointerdown",(t=>{0===t.button?this.zoom.pointerStart(t):this.zoom.pointerEnd(t)})),this.rect.addEventListener("pointermove",(t=>{t.preventDefault(),this.zoom.pointerMove(t)})),this.rect.addEventListener("pointerup",(t=>{this.zoom.pointerEnd(t)})),this.rect.addEventListener("pointercancel",(t=>{this.zoom.pointerEnd(t)})),this.rect.addEventListener("pointerout",(t=>{this.zoom.pointerEnd(t)})),this.rect.addEventListener("pointerleave",(t=>{this.zoom.pointerEnd(t)}))}_mouseDown(t){this.drag._startEvent(t.clientX)}_mouseMove(t){this.zoom.isZooming?this.drag.clear():this.drag.mouseMove(t)}_mouseUp(t){this.drag.mouseUp(t)}_touchStart(t){const e=t.changedTouches;this.zoom.touchStart(t),this.drag._startEvent(e[0].clientX)}_touchMove(t){this.zoom.touchMove(t),this.zoom.isZooming?this.drag.clear():this.drag.touchMove(t)}_touchEnd(t){this.zoom.touchEnd(t),this.drag._endEvent()}}},490842:function(t,e,s){s.r(e),s.d(e,{Zoom:function(){return i}});class i{constructor(t,e,s){this.rect=t,this._naturalSizes=e,this.options=s,this.evCache=[],this.prevDiff=-1,this.prevTouchDiff=-1,this.isZooming=!1,this.zoomPoints=-1,this.init()}init(){this.defaultOptions={scaleFactor:.03,currentScale:.5,minScale:.26,maxScale:1,scaleMargins:.2,zoomInterval:16.66},this.setOptions(this.options),this.setMaxZoom()}setOptions(t){"undefined"==typeof t?this.options=this.defaultOptions:Object.keys(t).forEach((e=>{"undefined"!==typeof this.options[e]&&(this.options[e]=t[e])})),this.currentScale=this.options.initScale,this.scaleFactor=this.options.scaleFactor,this.minScale=this.options.minScale,this.maxScale=this.options.maxScale,this.scaleMargins=this.options.scaleMargins}touchStart(t){2===t.touches.length&&(this.isZooming=!0)}touchMove(t){if(2===t.touches.length){const e=Math.abs(t.touches[0].clientX-t.touches[1].clientX);if(this.prevTouchDiff>0){let s;e>this.prevTouchDiff&&(s=!0),e<this.prevTouchDiff&&(s=!1);const i=this._getPinchCenter(t.touches[1].clientX,t.touches[0].clientX,t.touches[1].clientY,t.touches[0].clientY);this._pinchZoom(s,i.xPoint,i.yPoint)}this.prevTouchDiff=e}}touchEnd(t){this.isZooming=!1,t.changedTouches.length<2&&(this.prevTouchDiff=-1)}pointerStart(t){this.evCache.push(t)}pointerMove(t){const e=this.evCache.findIndex((e=>e.pointerId===t.pointerId));if(this.evCache[e]=t,2===this.evCache.length){const t=Math.abs(this.evCache[0].clientX-this.evCache[1].clientX);if(this.prevDiff>0){let e=!0;t>this.prevDiff&&(e=!0),t<this.prevDiff&&(e=!1);const s=this._getPinchCenter(this.evCache[1].clientX,this.evCache[0].clientX,this.evCache[1].clientY,this.evCache[0].clientY);this._pinchZoom(e,s.xPoint,s.yPoint)}this.prevDiff=t}}pointerEnd(){this.isZooming=!1,this.evCache=[]}_getPinchCenter(t,e,s,i){const a=e-t,n=i-s,o=t+.5*a,l=s+.5*n;return{xPoint:o,yPoint:l}}_removeEvent(t){const e=this.evCache.findIndex((e=>e.pointerId===t.pointerId));this.evCache.splice(e,1)}setZoom(t){this._canZoom(t)&&(this.isZoomIn=t,this.isZooming=!0,this._limitScale(),this.zoomPoints=-1,this.rect.dispatchEvent(new CustomEvent("OnZoom",{bubbles:!1})),this.isZooming=!1)}_pinchZoom(t,e,s){this._canZoom(t)&&(this.isZoomIn=t,this.isZooming=!0,this._limitScale(),this._setZoomPoints(e,s),this.rect.dispatchEvent(new CustomEvent("OnZoom",{bubbles:!1})))}_wheelZoom(t){if(!this._canZoom(t.deltaY<0))return;this.isZoomIn=t.deltaY<0,this._limitScale();const e=t.clientX-this.rect.getBoundingClientRect().left,s=t.clientY-this.rect.getBoundingClientRect().top;this._setZoomPoints(e,s),this.rect.dispatchEvent(new CustomEvent("OnZoom",{bubbles:!1}))}_canZoom(t){const e=Date.now();void 0===this.zoomTimeStart&&(this.zoomTimeStart=e);const s=e-this.zoomTimeStart;if(s<=this.options.zoomInterval)return!1;if(this.zoomTimeStart=e,t){if(this.currentScale>=this.maxScale)return!1;this.currentScale+=this.scaleFactor}else{if(this.currentScale<=this.minScale)return!1;this.currentScale-=this.scaleFactor}return!0}_limitScale(){(this.currentScale>=this.maxScale||this.currentScale<=this.minScale)&&(this.currentScale=Math.min(Math.max(this.currentScale,this.minScale),this.maxScale))}setMaxZoom(){const t=this._naturalSizes.width;let e=document.documentElement.clientWidth/t;if(e+=this.scaleMargins,e>=1)this.currentScale=this.maxScale;else{if(e<=this.minScale)return this.maxScale=this.minScale,void(this.currentScale=this.minScale);this.maxScale=e,e<this.currentScale&&(this.currentScale=e)}}_setZoomPoints(t,e){this._canZoomInPoint()?this.zoomPoints={x:t,y:e}:this.zoomPoints=-1}_canZoomInPoint(){const t=.4,e=this.minScale+(this.maxScale-this.minScale)*t;return this.currentScale>e}}},489520:function(t,e,s){s.r(e),s.d(e,{Hotspots:function(){return n}});var i=s(976163),a=s(17639);class n{constructor(t,e,s){this._canvasGroup=t,this._hotspotRegions=e,this.regionsInfo=s,this.imgW,this.imgH,this.level=0,this.frame=0,this.htDrawCtx,this.htRefCtx,this.filtredRegions=[[[]]],this._uColorSet,this.filterOptions={},this._hsRefTimer,this._delayRefDraw=500,this._lastHovered=void 0,this.init()}init(){this.htDrawcanvas=this._canvasGroup.hotspotsDraw,this.htEffectCanvas=this._canvasGroup.hotspotsEffects,this.htRefCanvas=this._canvasGroup.hotspotsRef,this.htEvtCanvas=this._canvasGroup.eventsCanvas,this.htDrawCtx=this.htDrawcanvas.getContext("2d"),this.htEffectCtx=this.htEffectCanvas.getContext("2d"),this.htRefCtx=this.htRefCanvas.getContext("2d",{willReadFrequently:!0}),this.htEvtCtx=this.htRefCanvas.getContext("2d"),this.typesColors=a.hotspots.color_HS,this.setupFromXml(),this.drawHts(),this.hSEvents()}setupFromXml(){this._uColorSet=new Set,this._hotspotRegions.forEach((t=>{const e=t.$.id,s=this.regionsInfo[e].type,a=this.typesColors[s],n=.4;t.polygon.forEach((t=>{const s=t.$,o=parseInt(s.state),l=parseInt(s.column),r=this._formatPositions(s.vertices);let c=i.COLOR_HELPER.getUniqColor(this._uColorSet);this._uColorSet.add(c),c=i.COLOR_HELPER.hexToRgb(c);const h={name:e,polygon:r,colorRef:c,fillColor:a,alpha:n},d=i.COLOR_HELPER.getColorString(c);"undefined"===typeof this.filtredRegions[o]&&(this.filtredRegions[o]=[]),"undefined"===typeof this.filtredRegions[o][l]&&(this.filtredRegions[o][l]=[]),this.filtredRegions[o][l][d]=h}))})),this._hotspotRegions.length=0}drawHts(t,e,s,i,a,n){this.level=t,this.frame=e,this.imgW=s,this.imgH=i,this.offsetX=a,this.offsetY=n,this._drawHts()}_drawHts(){window.clearTimeout(this._hsRefTimer),this._clearCtx(this.htRefCtx),this._clearCtx(this.htEffectCtx),this.drawHotspots(),this._hsRefTimer=window.setTimeout((()=>{this.drawHotspotsRef()}),this._delayRefDraw)}drawHotspots(){this._clearCtx(this.htDrawCtx);const t=this._getCurrentRegion();void 0!=t&&Object.values(t).forEach((t=>{if(this.validate(t.name)){const e=t.polygon,s=i.COLOR_HELPER.getColorFill(i.COLOR_HELPER.hexToRgb(t.fillColor),t.alpha);this._drawPolygon(this.htDrawCtx,e,s,void 0,1)}}))}drawHotspotsRef(){const t=this._getCurrentRegion();void 0!=t&&(this._clearCtx(this.htRefCtx),Object.values(t).forEach((t=>{if(this.validate(t.name)){const e=t.polygon,s=i.COLOR_HELPER.getColorFill(t.colorRef,1);requestAnimationFrame((()=>this._drawPolygon(this.htRefCtx,e,s,void 0)))}})))}_drawPolygon(t,e,s,i,a=2){t.strokeStyle=i,t.lineWidth=1,t.fillStyle=s,t.lineWidth=a,t.beginPath();for(let n=0;n<e.length;n++){const s=e[n],i=Math.round(.5*(t.canvas.width-this.imgW)),a=Math.round(.5*(t.canvas.height-this.imgH)),o=s.x*this.imgW+i-this.offsetX,l=s.y*this.imgH+a-this.offsetY;t.lineTo(o,l)}t.fill(),t.closePath(),i&&t.stroke()}validate(t){const e=this.regionsInfo[t];if(void 0!==e){const t=parseInt(e.surface,10),s=e.type,i=this.filterOptions.surface,a=this.filterOptions.types;return void 0!==i&&void 0!==a&&(!(t<i.minSurface||t>i.maxSurface)&&!!a.includes(s))}return!1}setSurfaceFilter(t){this.filterOptions.surface={minSurface:t.min,maxSurface:t.max},this._updateHotspots()}setTypesFilter(t){this.filterOptions.types=t,this._updateHotspots()}_updateHotspots(){this._drawHts()}_formatPositions(t){let e=[];const s=t,i=s.split("|");for(let a=0;a<i.length;a++){const t=i[a].split(";");for(let s=0;s<t.length;s++){const i=t[s].split(",");e.push({x:i[0],y:i[1]})}}return e}hSEvents(){this.htEvtCanvas.addEventListener("mousemove",(t=>{this.mouseMoveEvent(t)})),window.PointerEvent?(this.htEvtCanvas.addEventListener("pointerdown",(t=>{this._startEvent(t)})),this.htEvtCanvas.addEventListener("pointerup",(t=>{this._canClick()&&this.clickEvent(t)}))):(this.htEvtCanvas.addEventListener("mousedown",(t=>{this._startEvent(t)})),this.htEvtCanvas.addEventListener("mouseup",(t=>{this._canClick()&&this.clickEvent(t)})),this.htEvtCanvas.addEventListener("touchstart",(t=>{this._startEvent(t)})),this.htEvtCanvas.addEventListener("touchend",(t=>{this._canClick()&&this.touchEvent(t)})))}mouseMoveEvent(t){const e=this._getHotspotData({x:t.clientX,y:t.clientY});void 0!==e?this._regionHoverState(e,{x:t.clientX,y:t.clientY}):this._regionOutState()}clickEvent(t){const e=this._getHotspotData({x:t.clientX,y:t.clientY});void 0!==e&&this._regionClickState(e,{x:t.clientX,y:t.clientY})}touchEvent(t){const e=t.changedTouches[0],s=this._getHotspotData({x:e.clientX,y:e.clientY});void 0!==s&&this._regionClickState(s,{x:e.clientX,y:e.clientY})}_startEvent(){this.timeStart=Date.now()}_canClick(){const t=Date.now(),e=t-this.timeStart;return e<300}_regionHoverState(t,e){const s=this._getSelectedHotspot(t);if(!s)return;const i=s.region;void 0===this._lastHovered?this._setHsEffect(i):this._lastHovered.name!==i.name&&(this._clearCtx(this.htEffectCtx),this._setHsEffect(i)),this.htEvtCanvas.style.cursor="pointer",window.dispatchEvent(new CustomEvent("OnHSHover",{bubbles:!1,detail:{mousePos:e,region:s.region}}))}_regionOutState(){void 0!==this._lastHovered&&(this._clearCtx(this.htEffectCtx),this._lastHovered=void 0),this.htEvtCanvas.style.cursor="default",window.dispatchEvent(new CustomEvent("OnHSHoverOut",{bubbles:!1}))}_regionClickState(t,e){this._regionOutState();const s=this._getSelectedHotspot(t);if(void 0===s)return;const i=s.region.name;window.dispatchEvent(new CustomEvent("OnHSClick",{bubbles:!1,detail:{mousePos:e,region:this.regionsInfo[i]}}))}_setHsEffect(t){this._drawPolygon(this.htEffectCtx,t.polygon,"transparent","#FFFFFF",2),this._lastHovered=t}_getHotspotData(t){const e=this.htDrawcanvas.getBoundingClientRect(),s=Math.round(t.x-e.left),i=Math.round(t.y-e.top),a=this.htRefCtx.getImageData(s,i,1,1),n=a.data;if(0!==n[0]||0!==n[1]||0!==n[2])return n}_getSelectedHotspot(t){const e=this._getCurrentRegion();if(void 0===e)return;const s={red:t[0],green:t[1],blue:t[2]},a=i.COLOR_HELPER.getColorString(s),n=e[a];return void 0!==n?{region:n}:void 0}_getCurrentRegion(){if("undefined"!==typeof this.filtredRegions[this.level]){if("undefined"!==typeof this.filtredRegions[this.level][this.frame])return this.filtredRegions[this.level][this.frame];this._clearCtx(this.htRefCtx)}else this._clearCtx(this.htRefCtx)}_clearCtx(t){t.clearRect(0,0,t.canvas.width,t.canvas.height)}}},438858:function(t,e,s){s.r(e),s.d(e,{Orbital:function(){return l}});var i=s(696762),a=s(354757),n=s(976163),o=s(17639);class l{constructor(t,e){this.xml,this.container=t,this._regionsInfo=e,this.animationsPaths=[],this.animator,this.canvasBuilder}init(){this.xml=new n.XmlManager("config.xml"),this.xml.loadXmlData((()=>{this.htFromXml=this.xml.getHotspots(),this._setup()}))}_setup(){const t=o.params,e=t.animationsCount;let s=t.imagesFolder+t.preloadedFolder;for(let i=0;i<e;i++){const t=s.replace(/%row/g,i).replace(/%col/g,"?");this.animationsPaths.push(t)}this.canvasBuilder=new a.CanvasBuilder(this.container);const n=this.canvasBuilder.createLayers(),l={maxWidth:t.maxWidth,maxHeight:t.maxHeight,imagesFolder:t.imagesFolder,framesCount:t.framesCount,timeLineSpeed:t.timeLineSpeed,autoplay:t.autoplay,frameStart:t.frameStart,animStart:t.animStart,tilesFolder:o.tiles.tilesFolder,breakpoints_sizes:o.tiles.breakpoints_sizes,breakpoints:o.tiles.breakpoints,breakpoints_folder:o.tiles.breakpoints_folder,maxCache:o.tiles.maxTilesCache,cropSize:o.tiles.cropSize,zoomOptions:o.controls.zoom,dragOptions:o.controls.drag};this.animator=new i.Animator(n,this.animationsPaths,l,this.htFromXml,this._regionsInfo),window.addEventListener("OnAnimatorReady",(()=>this.appReady()),{once:!0}),this._setConfigStyles()}_setConfigStyles(){void 0!==this.animator&&(document.getElementById(this.container).style.backgroundColor=o.params.bg_color)}appReady(){this.animationsPaths=null,this.animator.run(),window.dispatchEvent(new CustomEvent("OnAppReady",{bubbles:!1}))}getPercentLoaded(){return void 0===this.animator?0:this.animator.percentLoaded}playOrbital(){this.animator.play()}stopOrbital(){this.animator.stop()}next(){this.animator.playFrame(!1)}prev(){this.animator.playFrame(!0)}setLevel(t){this.animator.switchAnimation(t)}filterHSByPrice(t){void 0!==this.animator&&(this.animator.stop(),this.animator.hotspots.setSurfaceFilter(t))}filterHSByTypes(t){void 0!==this.animator&&(this.animator.stop(),this.animator.hotspots.setTypesFilter(t))}setZoomOptions(t){this.animator._inputSystem.zoom.setOptions(t)}setZoom(t){void 0!==this.animator&&this.animator._inputSystem.zoom.setZoom(t)}getParam(t){return o.params[t]}getHSParam(t){return o.hotspots[t]}getCurrentFrame(){if(void 0!==this.animator)return this.animator._frameIndex}unmountOrbital(){void 0!==this.animator&&(this.animator.cancel=!0)}}},539680:function(t,e,s){s.r(e),s.d(e,{Resizer:function(){return i}});class i{constructor(t){this.canvasObj=t,this.init()}init(){this.resize()}resize(){Object.values(this.canvasObj).forEach((t=>{t.width=document.documentElement.clientWidth,t.height=document.documentElement.clientHeight}))}}},816165:function(t,e,s){s.r(e),s.d(e,{TilesController:function(){return i}});s(21703);class i{constructor(t){if(this.options=t,"undefined"===typeof t.breakpoints_sizes&&"object"!==typeof t.breakpoints_sizes)throw alert("breakpoints not valid"),new Error("breakpoints not valid");this.naturalSizes=t.breakpoints_sizes,this.preloadedBP=this.naturalSizes.preloaded,this.cropSize=t.cropSize,this.maxCache=t.maxCache,this._currentNaturalWidth=null,this._animationIndex=0,this._currentFrame=0,this._currentBreakPoint,this._currentScale,this._cachedFrames=new Array,this._useCache=!0,this._timeOutLoad,this._firstFetch=!0,this.init()}init(){this._setLimitCache(),this.breakPoints=Object.entries(this.naturalSizes).sort((([,t],[,e])=>t-e)).reduce(((t,[e,s])=>({...t,[e]:s})),{})}_setLimitCache(){if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){if(!performance.memory)return void(this.maxCache=15);if(performance.memory.jsHeapSizeLimit<5e8)return void(this.maxCache=15)}}fetchTiles(t,e,s,i){if(this._setCurrentBP(s),this._setCurrentNaturalSize(this._currentBreakPoint),s<=this.preloadedBP)return this._loadTiles(!0);if(this._animationIndex=t,this._currentFrame=e,this._currentScale=i,this._firstFetch)return console.log("first fetch"),this._firstFetch=!1,this._loadTiles();if(this._useCache){const t=this._cachedFrames.find((t=>{if(t.animationIndex===this._animationIndex&&t.frame===this._currentFrame&&t.breakPoint===this._currentBreakPoint)return t}));if("undefined"!==typeof t)return this._loadExistingTiles(t)}return this._loadTiles()}_loadExistingTiles(t){return new Promise(((e,s)=>{t.animationIndex===this._animationIndex&&t.frame===this._currentFrame&&t.breakPoint===this._currentBreakPoint?e(t.canvas):s()}))}_loadTiles(t=!1){window.clearTimeout(this._timeOutLoad);const e=new Promise(((e,s)=>{t?s():this._timeOutLoad=window.setTimeout((()=>{const t=this._animationIndex,i=this._currentFrame,a=this._currentBreakPoint,n=this._currentScale,o=this._getTilesFolder(t,i,a);this._createAndLoadTiles(o,(o=>{if(this._useCache){const e={animationIndex:t,frame:i,breakPoint:a,canvas:o};this._addToCache(e)}this._canLoadImg(t,i,a,n)||s(),e(o)}))}),100)}));return e}_addToCache(t){this._cachedFrames.includes(t)||(this._checkCache(),this._cachedFrames.push(t))}_createAndLoadTiles(t,e){const i=this._currentNaturalWidth,a=this._calculateWithAspectRatio(i);let n=document.createElement("canvas"),o=n.getContext("2d");n.width=i,n.height=a;const l=this.cropSize,r=Math.floor(i/l),c=Math.floor(a/l),h=i%l,d=a%l,u=0!=h?r+1:r,m=0!=d?c+1:c;let v=new Array;for(let p=0;p<m;p++)for(let e=0;e<u;e++){const i=new Promise(((i,a)=>{let n=e*l,r=p*l;const c=u*p+e,h=`${t}p-${c}.jpg`,d=s(18116)("./"+h);let m=new Image;m.decoding="async",m.onload=()=>{o.drawImage(m,n,r),m=null,i()},m.onerror=()=>{m=null,a()},m.src=d}));v.push(i)}Promise.all(v).then((()=>{e(n),v=null}))}_canLoadImg(t,e,s,i){return t===this._animationIndex&&e===this._currentFrame&&s===this._currentBreakPoint&&i===this._currentScale}_draw(t,e,s,i){t.clearRect(s,i,t.canvas.width,t.canvas.height),t.drawImage(e,s,i)}_getTilesFolder(t,e,s){let i=this.options.imagesFolder+this.options.tilesFolder;for(const[a,n]of Object.entries(this.breakPoints))if(s===n){const s=this.options.breakpoints_folder[a];i=i.replace(/%row/g,t).replace("%bp",s).replace("%col",e);break}return i}_setCurrentNaturalSize(t){for(const[e,s]of Object.entries(this.breakPoints))if(s===t){this._currentNaturalWidth=this.naturalSizes[e];break}}_setCurrentBP(t){for(const[e=e,s]of Object.entries(this.breakPoints)){if(t<=s){this._currentBreakPoint=s;break}this._currentBreakPoint=s}}_checkCache(){if(this._cachedFrames.length>this.maxCache){let t=this._cachedFrames.shift();t.canvas=null,t=null}}_calculateWithAspectRatio(t){const e=this.options.maxWidth/this.options.maxHeight,s=t/e;return s}}},336343:function(t,e,s){s.r(e),s.d(e,{default:function(){return R}});var i=s(349242),a=s(373396),n=s(87139),o=s(44870),l=s(748240),r=s(461020);const c=t=>((0,a.dD)("data-v-131a944d"),t=t(),(0,a.Cn)(),t),h={class:"container-fluid card-foot mb-3"},d={class:"row align-items-center"},u=c((()=>(0,a._)("div",{class:"col"},[(0,a._)("span",{class:"text-secondary dispo"},"DisponibilitÃ©")],-1))),m={class:"col"},v={key:0,class:"text-success"},p=c((()=>(0,a._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.5em",height:"1.5em",fill:"currentColor",class:"bi bi-check-lg",viewBox:"0 0 16 16"},[(0,a._)("path",{d:"M12.736 3.97a.733.733 0 0 1 1.047 0c.286.289.29.756.01 1.05L7.88 12.01a.733.733 0 0 1-1.065.02L3.217 8.384a.757.757 0 0 1 0-1.06.733.733 0 0 1 1.047 0l3.052 3.093 5.4-6.425a.247.247 0 0 1 .02-.022Z"})],-1))),_=[p],f={key:1,class:"text-danger"},g=c((()=>(0,a._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.5em",height:"1.5em",fill:"currentColor",class:"bi bi-x",viewBox:"0 0 16 16"},[(0,a._)("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"})],-1))),w=[g],b={key:0,class:"form-parent d-flex flex-column justify-content-center align-items-center"},y={key:0,class:"me-3 h-100"},x=c((()=>(0,a._)("div",{class:"spinner-border text-type-color text-center",role:"status"},[(0,a._)("span",{class:"visually-hidden"},"Loading...")],-1))),C=[x],S={key:1,class:"col-12 my-2"},E={class:"form-check"},k=["name","id"],H=["for"],D={class:"form-check"},z=["name","id"],L=["for"],I={key:2,class:"form-footer w-100 col d-flex justify-content-between align-items-center"},O={class:"msg text-center w-75 p-2"};var M={__name:"EditAppt",props:{cardInfo:Object,colorType:String,isAdmin:{type:Boolean,default:!1}},setup(t){const e=t;(0,i.sj)((e=>({"5424deaa":t.colorType})));const s=(0,l.useRegionsStore)(),{regions:c,isError:p}=(0,r.Jk)(s),g=(0,o.iH)(e.cardInfo),x=(0,o.iH)(g.value.statut);let M=x.value;const P=(0,o.iH)(!1),T=(0,o.iH)(g.value.statut),R=(0,o.iH)(!1),F=(0,a.Fl)((()=>({"alert-success":"Disponible"===g.value.statut&&!R.value,"alert-danger":"Disponible"!==g.value.statut&&!R.value,"alert-warning":R.value})));function A(t){M!==x.value&&(P.value=!0,T.value="Loading",s.editStatus(t,x.value).then((e=>{if(p.value)return P.value=!1,R.value=!0,T.value=e,void window.setTimeout((()=>{const t=g.value.statut;R.value=!1,T.value=t,M=T.value=x.value=t}),1e3);g.value=c.value[t],M=x.value=g.value.statut,R.value=!1,P.value=!1,T.value=e,window.setTimeout((()=>{T.value=g.value.statut}),1e3)})))}return(0,a.YP)((()=>e.cardInfo),(()=>{g.value=e.cardInfo,M=x.value=g.value.statut})),(e,s)=>((0,a.wg)(),(0,a.iD)("div",h,[(0,a._)("div",d,[u,(0,a._)("div",m,["Disponible"==g.value.statut?((0,a.wg)(),(0,a.iD)("span",v,_)):((0,a.wg)(),(0,a.iD)("span",f,w))])]),t.isAdmin?((0,a.wg)(),(0,a.iD)("div",b,[P.value?((0,a.wg)(),(0,a.iD)("div",y,C)):(0,a.kq)("",!0),P.value?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",S,[(0,a._)("form",{action:"",onSubmit:s[2]||(s[2]=(0,i.iM)((()=>{}),["prevent"]))},[(0,a._)("div",E,[(0,a.wy)((0,a._)("input",{class:"form-check-input",type:"radio",value:"Disponible",name:g.value.statut,id:g.value.nom+"0","onUpdate:modelValue":s[0]||(s[0]=t=>x.value=t)},null,8,k),[[i.G2,x.value]]),(0,a._)("label",{class:"form-check-label",for:g.value.nom+"0"}," Disponible ",8,H)]),(0,a._)("div",D,[(0,a.wy)((0,a._)("input",{class:"form-check-input",type:"radio",value:"Indisponible",name:g.value.statut,id:g.value.nom+"1","onUpdate:modelValue":s[1]||(s[1]=t=>x.value=t)},null,8,z),[[i.G2,x.value]]),(0,a._)("label",{class:"form-check-label",for:g.value.nom+"1"}," Indisponible ",8,L)])],32)])),P.value?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",I,[(0,a._)("button",{class:"btn btn-success btn-sm",onClick:s[3]||(s[3]=t=>A(g.value.nom))},"Edit"),(0,a._)("div",O,[(0,a._)("div",{class:(0,n.C_)(["alert m-0 p-2",(0,o.SU)(F)])},(0,n.zw)(T.value),3)])]))])):(0,a.kq)("",!0)]))}},P=s(940089);const T=(0,P.Z)(M,[["__scopeId","data-v-131a944d"]]);var R=T},201555:function(t,e,s){s.r(e),s.d(e,{default:function(){return r}});var i=s(373396),a=s(87139),n=s(44870),o={__name:"AlertComponent",props:{message:{type:String,default:""},isSuccess:{type:Boolean,default:!0}},setup(t){const e=t,s=(0,n.qj)({"alert-danger":!e.isSuccess,"alert-success":e.isSuccess});return(0,i.m0)((()=>{const t=e.isSuccess;s["alert-danger"]=!t,s["alert-success"]=t})),(e,n)=>""!==t.message?((0,i.wg)(),(0,i.iD)("div",{key:0,class:(0,a.C_)(["alert text-center",s]),role:"alert"},(0,a.zw)(t.message),3)):(0,i.kq)("",!0)}};const l=o;var r=l},199437:function(t,e,s){s.r(e),s.d(e,{default:function(){return H}});var i=s(373396),a=s(44870),n=s(349242),o=s(780806),l=s(263091),r=s(461020);const c=t=>((0,i.dD)("data-v-1c5dd331"),t=t(),(0,i.Cn)(),t),h={class:"modal-dialog modal-dialog-centered"},d={class:"modal-content"},u=c((()=>(0,i._)("div",{class:"modal-header"},[(0,i._)("h1",{class:"modal-title lead fs-6",id:"exampleModalLabel"},"Screenshot"),(0,i._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),m={class:"modal-body"},v={key:0,class:"d-flex justify-content-center align-items-center loader"},p=c((()=>(0,i._)("div",{class:"spinner-border",role:"status"},[(0,i._)("span",{class:"visually-hidden"},"Loading...")],-1))),_=[p],f={key:1,class:"text-danger text-center fs-6 p-3"},g=["src"],w={class:"modal-footer"},b={class:"d-flex"},y=["disabled"],x=["disabled"],C=["href","download"];var S={__name:"CaptureModal",setup(t){const e=(0,l.useCaptureStore)(),{isLoading:s,isOpenModal:c,currentImage:p,captureLink:S,errorCapture:E}=(0,r.Jk)(e),k=(0,a.iH)(""),H=(0,a.iH)(null),D=(0,a.iH)(void 0),z=(0,a.iH)(null),L=(0,i.Fl)((()=>""!==k.value?`${k.value}.jpg`:"Screenshot.jpg"));(0,i.bv)((()=>{D.value=new o.u_(H.value),H.value.addEventListener("hidden.bs.modal",(()=>{c.value=!1,k.value=""}))})),(0,i.Ah)((()=>{D.value.dispose()})),(0,i.YP)(c,(()=>{c.value&&D.value.show()}));const I=()=>{z.value.click()};return(t,e)=>((0,i.wg)(),(0,i.iD)("div",null,[((0,i.wg)(),(0,i.j4)(i.lR,{to:"body"},[(0,i._)("div",{class:"modal fade",id:"capture-modal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref_key:"capture",ref:H},[(0,i._)("div",h,[(0,i._)("div",d,[u,(0,i._)("div",m,[(0,a.SU)(s)?((0,i.wg)(),(0,i.iD)("div",v,_)):(0,i.kq)("",!0),(0,a.SU)(E)?((0,i.wg)(),(0,i.iD)("h3",f," Une erreur s'est produite lors de la capture ! ")):((0,i.wg)(),(0,i.iD)("img",{key:2,src:(0,a.SU)(p),class:"img-fluid",alt:"",loading:"lazy"},null,8,g))]),(0,i._)("div",w,[(0,i._)("div",b,[(0,i.wy)((0,i._)("input",{class:"form-control form-control-sm mx-3",id:"filename",type:"text",placeholder:"Nom du fichier","aria-label":".form-control-sm name","onUpdate:modelValue":e[0]||(e[0]=t=>k.value=t),required:"",disabled:(0,a.SU)(s)||(0,a.SU)(E)},null,8,y),[[n.nr,k.value]]),(0,i._)("button",{type:"button",class:"btn btn-primary",disabled:(0,a.SU)(s)||(0,a.SU)(E),onClick:I},"Telecharger",8,x),(0,i.wy)((0,i._)("a",{href:(0,a.SU)(S),download:(0,a.SU)(L),ref_key:"downloadLink",ref:z},"Telecharger",8,C),[[n.F8,!1]])])])])])],512)]))]))}},E=s(940089);const k=(0,E.Z)(S,[["__scopeId","data-v-1c5dd331"]]);var H=k},52202:function(t,e,s){s.r(e),s.d(e,{default:function(){return x}});var i=s(349242),a=s(373396),n=s(87139),o=s(44870),l=s(780806),r=s(790508);const c={class:"container-fluid"},h={class:"row align-items-center position-relative"},d={class:"col"},u={class:"carousel-inner d-flex align-items-center"},m={class:"carousel-caption d-block d-md-block"},v={class:"p-0 m-0"},p={class:"p-0 m-0"},_={class:"carousel-indicators"},f=["data-bs-slide-to"],g=(0,a.uE)('<button class="carousel-control-prev" type="button" data-bs-target="#carousel-template" data-bs-slide="prev" data-v-50a58c0a><span class="" aria-hidden="true" data-v-50a58c0a><svg xmlns="http://www.w3.org/2000/svg" width="1.6em" height="1.6em" fill="currentColor" class="bi bi-chevron-left" viewBox="0 0 16 16" data-v-50a58c0a><path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z" data-v-50a58c0a></path></svg></span><span class="visually-hidden" data-v-50a58c0a>Previous</span></button><button class="carousel-control-next" type="button" data-bs-target="#carousel-template" data-bs-slide="next" data-v-50a58c0a><span class="" aria-hidden="true" data-v-50a58c0a><svg xmlns="http://www.w3.org/2000/svg" width="1.6em" height="1.6em" fill="currentColor" class="bi bi-chevron-right" viewBox="0 0 16 16" data-v-50a58c0a><path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z" data-v-50a58c0a></path></svg></span><span class="visually-hidden" data-v-50a58c0a>Next</span></button>',2);var w={__name:"CarouselComponent",props:{itemsData:Object,colorType:{type:String,default:"#000"}},setup(t){(0,i.sj)((e=>({"43c7397c":t.colorType})));const e=(0,o.iH)(null);return(0,a.bv)((()=>{new l.lr(e.value)})),(s,i)=>((0,a.wg)(),(0,a.iD)("div",c,[(0,a._)("div",h,[(0,a._)("div",d,[(0,a._)("div",{id:"carousel-template",class:"carousel carousel-dark slide","data-bs-touch":"false",ref_key:"carouselElem",ref:e},[(0,a._)("div",u,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.itemsData,((t,e)=>((0,a.wg)(),(0,a.iD)("div",{class:(0,n.C_)(["carousel-item",{active:0==e}]),key:e},[(0,a.Wm)((0,o.SU)(r["default"]),{src:t.url,class:"d-block w-100"},null,8,["src"]),(0,a._)("div",m,[(0,a._)("h5",v,(0,n.zw)(t.title),1),(0,a._)("p",p,(0,n.zw)(t.desc),1)])],2)))),128))]),(0,a._)("div",_,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.itemsData,((t,e)=>((0,a.wg)(),(0,a.iD)("button",{key:e,type:"button","data-bs-target":"#carousel-template","data-bs-slide-to":e,class:(0,n.C_)({active:0==e}),"aria-current":"true","aria-label":"Slide {{index}}"},null,10,f)))),128))]),g],512)])])]))}},b=s(940089);const y=(0,b.Z)(w,[["__scopeId","data-v-50a58c0a"]]);var x=y},790508:function(t,e,s){s.r(e),s.d(e,{default:function(){return v}});var i=s(373396),a=s(44870),n=s(986367);const o=t=>((0,i.dD)("data-v-b6a61bb8"),t=t(),(0,i.Cn)(),t),l={key:0,class:"loader w-100 text-center"},r=o((()=>(0,i._)("div",{class:"spinner-border",role:"status"},[(0,i._)("span",{class:"visually-hidden"},"Loading...")],-1))),c=[r],h=["src","srcset","sizes"];var d={__name:"ImageComponent",props:{src:{type:String,default:""}},setup(t){const e=t,o=s(775875),r=(0,a.qj)({small:1e3,medium:2e3,large:3e3,"x-large":4e3}),d=(0,i.Fl)((()=>{let t="";return Object.values(r).forEach((function(e){t+=`(max-width: ${e}px) ${e}px, `})),""!==u.value?t:""})),u=(0,i.Fl)((()=>{const t=e.src,s=t.split("/"),i=s[s.length-1],a=s.splice(0,s.length-1).join("/");let n="";Object.entries(r).forEach((function([t,e]){const s=`${a}/${t}/${i}`;let o=_(s);o=""!==o?o+` ${e}w, `:"",n+=o}));const o=r.small,l=t;let c=_(l);c=""!==c?`${c} ${o}w, `:"";const h=`${c} ${n}`;return""!==n?h:""})),m=(0,i.Fl)((()=>{const t=e.src;return p(t)})),{isLoading:v}=(0,n.d9x)({src:m.value});function p(t){let e="";try{e=s(18116)(`./${t}`)}catch(i){e=o}return e}function _(t){let e="";try{e=s(18116)(`./${t}`)}catch(i){e=""}return e}return(t,e)=>(0,a.SU)(v)?((0,i.wg)(),(0,i.iD)("div",l,c)):((0,i.wg)(),(0,i.iD)("img",{key:1,src:(0,a.SU)(m),srcset:(0,a.SU)(u),sizes:(0,a.SU)(d),class:"img-fluid",alt:"",loading:"lazy"},null,8,h))}},u=s(940089);const m=(0,u.Z)(d,[["__scopeId","data-v-b6a61bb8"]]);var v=m},9842:function(t,e,s){s.r(e),s.d(e,{default:function(){return p}});var i=s(373396),a=s(658552),n=s(44870);const o=t=>((0,i.dD)("data-v-044c750a"),t=t(),(0,i.Cn)(),t),l={class:"compass shadow"},r={class:"compass-inner"},c=o((()=>(0,i._)("div",{class:"arrow-up"},null,-1))),h=o((()=>(0,i._)("div",{class:"arrow-down"},null,-1))),d=[c,h];var u={__name:"CompassComponent",setup(t,{expose:e}){const s=(0,n.iH)(null);function o(t){a.p8.to(s.value,{rotate:t+"_short",duration:.3,overwrite:!0})}return e({rotate:o}),(t,e)=>((0,i.wg)(),(0,i.iD)("div",l,[(0,i._)("div",r,[(0,i._)("div",{class:"main-arrow",ref_key:"mainArrow",ref:s},d,512)])]))}},m=s(940089);const v=(0,m.Z)(u,[["__scopeId","data-v-044c750a"]]);var p=v},867446:function(t,e,s){s.r(e),s.d(e,{default:function(){return y}});var i=s(373396),a=s(87139),n=s(44870),o=s(780806),l=s(158234),r=s(600766),c=s(986367),h=s(748240),d=s(650401),u=s(461020);const m=t=>((0,i.dD)("data-v-14e864da"),t=t(),(0,i.Cn)(),t),v={class:"d-flex justify-content-center"},p=m((()=>(0,i._)("strong",{class:"me-auto"},"Filtrage de Lot",-1))),_={class:"toast-body"},f=m((()=>(0,i._)("hr",null,null,-1)));var g={__name:"FilterComponent",props:{showToast:{type:Boolean,default:!0}},emits:["onCloseToast","onSurfaceChanged","onTypesChanged"],setup(t,{emit:e}){const s=t,m=(0,h.useRegionsStore)(),g=(0,d.useAppDataStore)(),w=(0,n.iH)(null),b=(0,n.iH)(null),y=(0,n.iH)(null),{defaultFilters:x}=(0,u.Jk)(m),{surfaceMinMax:C}=(0,u.Jk)(g),S=(0,n.iH)(x.value.types);let E=null;const k=(0,n.iH)(!1),H=(0,n.qj)({min:C.value.min,max:C.value.max}),{style:D,position:z}=(0,c.O1d)(w,{exact:!1,handle:y,pointerTypes:["mouse","touch","pen"],onMove:t=>{const e=w.value,s=e.offsetWidth,i=e.offsetHeight,a=window.innerWidth,n=window.innerHeight;t.x<0&&(z.value.x=0),t.x>a-s&&(z.value.x=a-s),t.y<0&&(z.value.y=0),t.y>n-i&&(z.value.y=n-i)}});function L(){E=new o.FN(b.value),E.show(),I()}function I(){s.showToast?E.show():E.hide()}function O(){e("onCloseToast")}function M(t=H){k.value&&(H.min=t.min,H.max=t.max,e("onSurfaceChanged",H))}function P(t=x.value.types){k.value&&(S.value=t,e("onTypesChanged",S.value))}function T(){k.value=!0,M(),P()}return(0,c.i9H)(w,(()=>{O()})),(0,i.YP)((()=>s.showToast),(()=>{I()})),(0,i.bv)((()=>{L(),z.value.x=.5*window.innerWidth-.5*w.value.offsetWidth,z.value.y=.5*window.innerHeight-.5*w.value.offsetHeight,window.addEventListener("OnAppReady",T)})),(0,i.Ah)((()=>{window.removeEventListener("OnAppReady",T)})),(t,e)=>((0,i.wg)(),(0,i.iD)("div",{class:"filter position-fixed p-0",style:(0,a.j5)((0,n.SU)(D)),ref_key:"filterParent",ref:w},[(0,i._)("div",v,[(0,i._)("div",{id:"filter",class:"toast",role:"alert","aria-live":"assertive","aria-atomic":"true","data-bs-autohide":"false",ref_key:"filter",ref:b},[(0,i._)("div",{class:"toast-header bg-dark text-white",ref_key:"draggableCapture",ref:y},[p,(0,i._)("button",{type:"button",class:"btn-close btn-close-white",onClick:O})],512),(0,i._)("div",_,[(0,i.Wm)((0,n.SU)(l["default"]),{onOnSurfaceChanged:M,min:(0,n.SU)(C).min,max:(0,n.SU)(C).max,step:.1,gap:2,"slider-delay":300},null,8,["min","max","step"]),f,(0,i.Wm)((0,n.SU)(r["default"]),{"default-types":S.value,onOnTypesChanged:P},null,8,["default-types"])])],512)])],4))}},w=s(940089);const b=(0,w.Z)(g,[["__scopeId","data-v-14e864da"]]);var y=b},138833:function(t,e,s){s.r(e),s.d(e,{default:function(){return Q}});var i=s(349242),a=s(373396),n=s(44870),o=s(87139),l=s(52202),r=s(90637),c=s(748240),h=s(263091),d=s(461020);const u=t=>((0,a.dD)("data-v-00ef6762"),t=t(),(0,a.Cn)(),t),m={class:"parent-hs-more container-fluid",ref:"hsDetailParent"},v={class:"close-detail"},p=u((()=>(0,a._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"2.5em",height:"2.5em",fill:"currentColor",class:"bi bi-backspace",viewBox:"0 0 16 16"},[(0,a._)("path",{d:"M5.83 5.146a.5.5 0 0 0 0 .708L7.975 8l-2.147 2.146a.5.5 0 0 0 .707.708l2.147-2.147 2.146 2.147a.5.5 0 0 0 .707-.708L9.39 8l2.146-2.146a.5.5 0 0 0-.707-.708L8.683 7.293 6.536 5.146a.5.5 0 0 0-.707 0z"}),(0,a._)("path",{d:"M13.683 1a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7.08a2 2 0 0 1-1.519-.698L.241 8.65a1 1 0 0 1 0-1.302L5.084 1.7A2 2 0 0 1 6.603 1h7.08zm-7.08 1a1 1 0 0 0-.76.35L1 8l4.844 5.65a1 1 0 0 0 .759.35h7.08a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1h-7.08z"})],-1))),_=[p],f={class:"hs-more-carousel hs-more p-3 col-lg-9"},g={class:"hs-more-infos hs-more col-lg-3 text-center d-flex flex-column justify-content-center justify-content-lg-start align-items-center shadow-sm"},w={class:"more-head w-100 mb-3"},b=u((()=>(0,a._)("div",{class:"row"},[(0,a._)("div",{class:"col-12 color-type"})],-1))),y={class:"row align-items-center bg-dark text-white py-3 text-uppercase"},x={class:"col-5 p-0"},C={class:"p-0 m-0"},S=u((()=>(0,a._)("div",{class:"col-2"},[(0,a._)("div",{class:"vr"})],-1))),E={class:"col-5 p-0"},k={class:"p-0 m-0"},H={class:"container-fluid mb-3"},D={class:"col-sm-4 text-start content-title p-1"},z={class:""},L={class:"col-sm-8 bg-white content-value"},I=u((()=>(0,a._)("hr",{class:"my-3"},null,-1))),O={class:"container-fluid"},M={class:"row-dispo row align-items-center p-1 my-4"},P={class:"col-12"},T={class:"fs-6 fw-bold text-secondary"},R={class:"col-12"},F={class:"dispo p-2 m-0"},A={key:0,xmlns:"http://www.w3.org/2000/svg",width:"2em",height:"2em",fill:"currentColor",class:"bi bi-check-circle text-success",viewBox:"0 0 16 16"},U=u((()=>(0,a._)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"},null,-1))),Z=u((()=>(0,a._)("path",{d:"M10.97 4.97a.235.235 0 0 0-.02.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05z"},null,-1))),B=[U,Z],j={key:1,xmlns:"http://www.w3.org/2000/svg",width:"2em",height:"2em",fill:"currentColor",class:"bi bi-x-circle text-danger",viewBox:"0 0 16 16"},W=u((()=>(0,a._)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"},null,-1))),$=u((()=>(0,a._)("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"},null,-1))),X=[W,$],Y=u((()=>(0,a._)("hr",{class:"my-3 flex-grow-1"},null,-1))),V={class:"more-footer mb-3"},q=u((()=>(0,a._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"2.5em",height:"2.5em",fill:"currentColor",class:"bi bi-camera",viewBox:"0 0 16 16"},[(0,a._)("path",{d:"M15 12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h1.172a3 3 0 0 0 2.12-.879l.83-.828A1 1 0 0 1 6.827 3h2.344a1 1 0 0 1 .707.293l.828.828A3 3 0 0 0 12.828 5H14a1 1 0 0 1 1 1v6zM2 4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2h-1.172a2 2 0 0 1-1.414-.586l-.828-.828A2 2 0 0 0 9.172 2H6.828a2 2 0 0 0-1.414.586l-.828.828A2 2 0 0 1 3.172 4H2z"}),(0,a._)("path",{d:"M8 11a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5zm0 1a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7zM3 6.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0z"})],-1))),N=[q];var G={__name:"HotspotDetails",props:{canShow:{type:Boolean,default:!0}},emits:["onCloseDetails"],setup(t,{expose:e}){(0,i.sj)((t=>({"9080ce84":(0,n.SU)(p)})));const s=(0,c.useRegionsStore)(),u=(0,h.useCaptureStore)(),{currentColor:p,currentRegion:U,body__infos:Z,appt:W,bloc:$}=(0,d.Jk)(s),q=(0,n.iH)(null),G=(0,n.iH)([{url:"",title:"Plan 3D",desc:""},{url:"",title:"Plan 2d",desc:""}]),J=()=>{const t=U.value.nom;G.value[0].url=`assets/images/lots/3d/${t}.jpg`,G.value[1].url=`assets/images/lots/2d/${t}.jpg`};function K(t){(0,r.transitionEnter)(t)}function Q(t,e){(0,r.transitionLeave)(t,e)}return e({setImageSrc:J}),(e,s)=>((0,a.wg)(),(0,a.j4)(i.uT,{onEnter:K,onLeave:Q,css:!1},{default:(0,a.w5)((()=>[(0,a.wy)((0,a._)("div",m,[(0,a._)("div",v,[(0,a._)("button",{class:"btn custom-btn btn-sm btn-style",onClick:s[0]||(s[0]=t=>e.$emit("onCloseDetails"))},_)]),(0,a._)("div",{class:"more-container row align-items-center",ref_key:"screenshot",ref:q},[(0,a._)("div",f,[(0,a.Wm)((0,n.SU)(l["default"]),{"items-data":G.value,"color-type":(0,n.SU)(p)},null,8,["items-data","color-type"])]),(0,a._)("div",g,[(0,a._)("div",w,[b,(0,a._)("div",y,[(0,a._)("div",x,[(0,a._)("p",C,"Appt-"+(0,o.zw)((0,n.SU)(W)),1)]),S,(0,a._)("div",E,[(0,a._)("p",k,"Bloc-"+(0,o.zw)((0,n.SU)($)),1)])])]),(0,a._)("div",H,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,n.SU)(Z),((t,e,s)=>((0,a.wg)(),(0,a.iD)("div",{class:"infos-list row align-items-center my-3",key:s},[(0,a._)("div",D,[(0,a._)("span",z,(0,o.zw)(e),1)]),(0,a._)("div",L,[(0,a._)("span",null,(0,o.zw)(t),1)])])))),128))]),I,(0,a._)("div",O,[(0,a._)("div",M,[(0,a._)("div",P,[(0,a._)("h3",T,(0,o.zw)((0,n.SU)(U).statut),1)]),(0,a._)("div",R,[(0,a._)("p",F,["Disponible"===(0,n.SU)(U).statut?((0,a.wg)(),(0,a.iD)("svg",A,B)):((0,a.wg)(),(0,a.iD)("svg",j,X))])])])]),Y,(0,a._)("div",V,[(0,a._)("button",{class:"btn custom-btn btn-sm btn-style",type:"button",onClick:s[1]||(s[1]=t=>(0,n.SU)(u).takeScreen(q.value))},N)])])],512)],512),[[i.F8,t.canShow]])])),_:1}))}},J=s(940089);const K=(0,J.Z)(G,[["__scopeId","data-v-00ef6762"]]);var Q=K},641910:function(t,e,s){s.r(e),s.d(e,{default:function(){return g}});var i=s(373396),a=s(87139);const n=t=>((0,i.dD)("data-v-ef04058e"),t=t(),(0,i.Cn)(),t),o={key:0,class:"position-fixed",id:"loader"},l={class:"h-100 d-flex flex-column justify-content-center align-items-center"},r={key:0,class:"spinner-parent text-center"},c=n((()=>(0,i._)("div",{class:"spinner-border text-primary my-3",role:"status"},[(0,i._)("span",{class:"visually-hidden"},"Loading...")],-1))),h=n((()=>(0,i._)("p",{class:"text-secondary mb-1"},"Loading Orbital",-1))),d={class:"fw-bold text-black m-0"},u={key:1,class:"error text-center"},m=n((()=>(0,i._)("h1",{class:"text-danger mb-2"},"Oups, somthing went wrong!",-1))),v=n((()=>(0,i._)("p",{class:"lead mb-3"},"Please try again",-1)));var p={__name:"LoaderComponent",props:{show:{type:Boolean,default:!0},percentLoaded:{type:Number,default:0},isError:{type:Boolean,default:!1}},emits:["onRefresh"],setup(t){return(e,s)=>t.show?((0,i.wg)(),(0,i.iD)("div",o,[(0,i._)("div",l,[t.isError?((0,i.wg)(),(0,i.iD)("div",u,[m,v,(0,i._)("button",{class:"custom-btn",onClick:s[0]||(s[0]=t=>e.$emit("onRefresh"))},"Refresh")])):((0,i.wg)(),(0,i.iD)("div",r,[c,h,(0,i._)("p",d,(0,a.zw)(t.percentLoaded)+"%",1)]))])])):(0,i.kq)("",!0)}},_=s(940089);const f=(0,_.Z)(p,[["__scopeId","data-v-ef04058e"]]);var g=f},641139:function(t,e,s){s.r(e),s.d(e,{default:function(){return H}});var i=s(373396),a=s(44870),n=s(438858),o=s(199437),l=s(9842),r=s(867446),c=s(138833),h=s(641910),d=s(956391),u=s(193333),m=s(986367),v=s(461020),p=s(748240),_=s(263091);const f=t=>((0,i.dD)("data-v-478f6e2a"),t=t(),(0,i.Cn)(),t),g={class:"parent position-relative h-100 p-0 m-0 border border-0"},w={class:"s-f-menu d-flex"},b=f((()=>(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrows-fullscreen",viewBox:"0 0 16 16"},[(0,i._)("path",{"fill-rule":"evenodd",d:"M5.828 10.172a.5.5 0 0 0-.707 0l-4.096 4.096V11.5a.5.5 0 0 0-1 0v3.975a.5.5 0 0 0 .5.5H4.5a.5.5 0 0 0 0-1H1.732l4.096-4.096a.5.5 0 0 0 0-.707zm4.344 0a.5.5 0 0 1 .707 0l4.096 4.096V11.5a.5.5 0 1 1 1 0v3.975a.5.5 0 0 1-.5.5H11.5a.5.5 0 0 1 0-1h2.768l-4.096-4.096a.5.5 0 0 1 0-.707zm0-4.344a.5.5 0 0 0 .707 0l4.096-4.096V4.5a.5.5 0 1 0 1 0V.525a.5.5 0 0 0-.5-.5H11.5a.5.5 0 0 0 0 1h2.768l-4.096 4.096a.5.5 0 0 0 0 .707zm-4.344 0a.5.5 0 0 1-.707 0L1.025 1.732V4.5a.5.5 0 0 1-1 0V.525a.5.5 0 0 1 .5-.5H4.5a.5.5 0 0 1 0 1H1.732l4.096 4.096a.5.5 0 0 1 0 .707z"})],-1))),y=[b],x=f((()=>(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.5em",height:"1.5em",fill:"currentColor",class:"bi bi-camera",viewBox:"0 0 16 16"},[(0,i._)("path",{d:"M15 12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h1.172a3 3 0 0 0 2.12-.879l.83-.828A1 1 0 0 1 6.827 3h2.344a1 1 0 0 1 .707.293l.828.828A3 3 0 0 0 12.828 5H14a1 1 0 0 1 1 1v6zM2 4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2h-1.172a2 2 0 0 1-1.414-.586l-.828-.828A2 2 0 0 0 9.172 2H6.828a2 2 0 0 0-1.414.586l-.828.828A2 2 0 0 1 3.172 4H2z"}),(0,i._)("path",{d:"M8 11a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5zm0 1a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7zM3 6.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0z"})],-1))),C=[x];var S={__name:"OrbitalComponent",setup(t){const{toggle:e}=(0,m.O9U)(),s=(0,_.useCaptureStore)(),f=(0,p.useRegionsStore)(),{regions:b,colorTypes:x,default_filters:S,orbitalParams:E,firstFetch:k,isError:H}=(0,v.Jk)(f),D=(0,a.iH)(null),z=(0,a.iH)(null),L=(0,a.iH)(!0),I=(0,a.iH)(!1),O=(0,a.iH)(!1),M=(0,a.qj)({x:0,y:0}),P=(0,a.iH)(!1);let T=null;const R=(0,a.iH)(!1),F=(0,a.iH)({}),A=(0,a.iH)(1),U=(0,a.iH)({}),Z=(0,a.iH)("#cccccc"),B=(0,a.iH)(0),j=(0,a.iH)(0),W=(0,i.Fl)((()=>Math.min(Math.max(parseInt(j.value),0),A.value-1))),$=(0,a.iH)(void 0),X=(0,a.iH)(null),Y=(0,a.iH)(0),V=(0,a.iH)(E.value.northAngle);function q(){if(!k.value)return N();f.fetchRegions().then((t=>{if(H.value)return console.log(t),void(P.value=!0);N()}))}function N(){T=new n.Orbital("orbital",b.value),T.init(),A.value=E.value.animationsCount,j.value=E.value.animStart,U.value=x.value,ft()}function G(t){T.setLevel(t)}function J(t){if(t)return T.playOrbital();T.stopOrbital()}function K(t){window.clearInterval($.value),t?T.prev():T.next(),tt(),$.value=window.setInterval((()=>{t?T.prev():T.next(),tt()}),100)}function Q(){const t=E.value.framesCount;Y.value=Math.round(360/t)}function tt(){const t=T.getCurrentFrame(),e=V.value+Y.value*t;X.value.rotate(e)}function et(t){window.clearInterval($.value),T.setZoom(t),$.value=window.setInterval((()=>T.setZoom(t)),30)}function st(){window.clearInterval($.value)}function it(){I.value=!0}function at(){I.value=!1}function nt(t){T.filterHSByPrice(t)}function ot(t){T.filterHSByTypes(t)}function lt(){P.value=!1,B.value=0,q()}function rt(){L.value=!1,Q(),tt(),T.animator.canvasGroup.eventsCanvas.addEventListener("OnDrag",ut)}function ct(){tt()}function ht(){P.value=!0}function dt(){B.value=T.getPercentLoaded()}function ut(){tt()}function mt(t){const e=t.detail,s=e.region;void 0!==s&&(F.value=s,f.setRegion(s.nom),z.value.setImageSrc(),R.value=!0)}let vt=null;function pt(t){const e=t.detail,s=e.region;if(void 0===s||!Object.keys(b.value).length)return;const i=t.detail.mousePos;O.value=!0,M.x=i.x,M.y=i.y;const a=b.value[s.name];if(vt===a)return;vt=a;const n=a.type;Z.value=U.value[n],F.value=a,f.setRegion(s.name)}function _t(){O.value=!1}function ft(){window.addEventListener("OnLoadingChange",dt),window.addEventListener("OnUpdateTimeline",ct),window.addEventListener("OnError",ht),window.addEventListener("OnAppReady",rt),window.addEventListener("OnHSClick",mt),window.addEventListener("OnHSHover",pt),window.addEventListener("OnHSHoverOut",_t)}function gt(){window.removeEventListener("OnLoadingChange",dt),window.removeEventListener("OnUpdateTimeline",ct),window.addEventListener("OnError",ht),window.removeEventListener("OnAppReady",rt),window.removeEventListener("OnHSClick",mt),window.removeEventListener("OnHSHover",pt),window.removeEventListener("OnHSHoverOut",_t)}return(0,i.bv)((()=>{q()})),(0,i.Ah)((()=>{gt(),T.unmountOrbital()})),(t,n)=>((0,i.wg)(),(0,i.iD)("div",g,[(0,i.Wm)(o["default"]),(0,i.Wm)((0,a.SU)(h["default"]),{"is-error":P.value,show:L.value,"percent-loaded":B.value,onOnRefresh:lt},null,8,["is-error","show","percent-loaded"]),(0,i.Wm)((0,a.SU)(c["default"]),{canShow:R.value,onOnCloseDetails:n[0]||(n[0]=t=>R.value=!1),ref_key:"detailsComponent",ref:z},null,8,["canShow"]),(0,i.Wm)((0,a.SU)(d["default"]),{"stage-count":A.value,"starting-at":(0,a.SU)(W),onOnPlay:J,onOnStep:K,onOnStepEnd:st,onOnSetLevel:G,onOnShowFilter:it,onOnZoom:et,onOnZoomEnd:st},null,8,["stage-count","starting-at"]),(0,i._)("div",{class:"orbital-canvas p-0 m-0 border border-0 h-100 position-relative",id:"orbital",ref_key:"screenshot",ref:D},[(0,i.Wm)((0,a.SU)(l["default"]),{ref_key:"compass",ref:X},null,512),(0,i.Wm)((0,a.SU)(u["default"]),{"show-popover":O.value,positions:M},null,8,["show-popover","positions"])],512),(0,i.Wm)((0,a.SU)(r["default"]),{"default-filters":(0,a.SU)(S),"show-toast":I.value,onOnCloseToast:at,onOnSurfaceChanged:nt,onOnTypesChanged:ot},null,8,["default-filters","show-toast"]),(0,i._)("div",w,[(0,i._)("button",{class:"btn custom-btn btn-sm btn-style fullscreen-btn",type:"button",onClick:n[1]||(n[1]=(...t)=>(0,a.SU)(e)&&(0,a.SU)(e)(...t))},y),(0,i._)("button",{class:"btn custom-btn btn-sm btn-style capture-btn",type:"button",onClick:n[2]||(n[2]=t=>(0,a.SU)(s).takeScreen(D.value))},C)])]))}},E=s(940089);const k=(0,E.Z)(S,[["__scopeId","data-v-478f6e2a"]]);var H=k},956391:function(t,e,s){s.r(e),s.d(e,{default:function(){return G}});var i=s(373396),a=s(349242),n=s(87139),o=s(44870),l=s(780806),r=s(658552);const c=t=>((0,i.dD)("data-v-7290665a"),t=t(),(0,i.Cn)(),t),h={class:"sidebar-parent"},d=c((()=>(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",class:"bi bi-list",viewBox:"0 0 16 16"},[(0,i._)("path",{"fill-rule":"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"})],-1))),u=(0,i.Uk)(" Menu "),m=[d,u],v={class:"sidebar-body p-1 d-flex flex-row justify-content-between align-items-center"},p=c((()=>(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-x-lg",viewBox:"0 0 16 16"},[(0,i._)("path",{d:"M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"})],-1))),_=[p],f=c((()=>(0,i._)("div",{class:"vr"},null,-1))),g={class:"sidebar-menu d-none d-md-flex align-items-center"},w={class:"sidebar-item"},b=c((()=>(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.2em",height:"1.2em",fill:"currentColor",class:"bi bi-arrow-counterclockwise",viewBox:"0 0 16 16"},[(0,i._)("path",{"fill-rule":"evenodd",d:"M8 3a5 5 0 1 1-4.546 2.914.5.5 0 0 0-.908-.417A6 6 0 1 0 8 2v1z"}),(0,i._)("path",{d:"M8 4.466V.534a.25.25 0 0 0-.41-.192L5.23 2.308a.25.25 0 0 0 0 .384l2.36 1.966A.25.25 0 0 0 8 4.466z"})],-1))),y=[b],x={class:"sidebar-item"},C=c((()=>(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.2em",height:"1.2em",fill:"currentColor",class:"bi bi-play-circle",viewBox:"0 0 16 16"},[(0,i._)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),(0,i._)("path",{d:"M6.271 5.055a.5.5 0 0 1 .52.038l3.5 2.5a.5.5 0 0 1 0 .814l-3.5 2.5A.5.5 0 0 1 6 10.5v-5a.5.5 0 0 1 .271-.445z"})],-1))),S=[C],E={class:"sidebar-item"},k=c((()=>(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.2em",height:"1.2em",fill:"currentColor",class:"bi bi-stop-circle",viewBox:"0 0 16 16"},[(0,i._)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),(0,i._)("path",{d:"M5 6.5A1.5 1.5 0 0 1 6.5 5h3A1.5 1.5 0 0 1 11 6.5v3A1.5 1.5 0 0 1 9.5 11h-3A1.5 1.5 0 0 1 5 9.5v-3z"})],-1))),H=[k],D={class:"sidebar-item"},z=c((()=>(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.2em",height:"1.2em",fill:"currentColor",class:"bi bi-arrow-clockwise",viewBox:"0 0 16 16"},[(0,i._)("path",{"fill-rule":"evenodd",d:"M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2v1z"}),(0,i._)("path",{d:"M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466z"})],-1))),L=[z],I={class:"sidebar-item"},O=c((()=>(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.2em",height:"1.2em",fill:"currentColor",class:"bi bi-zoom-in",viewBox:"0 0 16 16"},[(0,i._)("path",{"fill-rule":"evenodd",d:"M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z"}),(0,i._)("path",{d:"M10.344 11.742c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1 6.538 6.538 0 0 1-1.398 1.4z"}),(0,i._)("path",{"fill-rule":"evenodd",d:"M6.5 3a.5.5 0 0 1 .5.5V6h2.5a.5.5 0 0 1 0 1H7v2.5a.5.5 0 0 1-1 0V7H3.5a.5.5 0 0 1 0-1H6V3.5a.5.5 0 0 1 .5-.5z"})],-1))),M=[O],P={class:"sidebar-item"},T=c((()=>(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.2em",height:"1.2em",fill:"currentColor",class:"bi bi-zoom-out",viewBox:"0 0 16 16"},[(0,i._)("path",{"fill-rule":"evenodd",d:"M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z"}),(0,i._)("path",{d:"M10.344 11.742c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1 6.538 6.538 0 0 1-1.398 1.4z"}),(0,i._)("path",{"fill-rule":"evenodd",d:"M3 6.5a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5z"})],-1))),R=[T],F=c((()=>(0,i._)("div",{class:"vr d-none d-md-block"},null,-1))),A={class:"sidebar-menu align-self-start align-self-sm-center overflow-auto"},U={class:"d-flex align-items-center"},Z=["onClick"],B=c((()=>(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.2em",height:"1.2em",fill:"currentColor",class:"bi bi-layers-half",viewBox:"0 0 16 16"},[(0,i._)("path",{d:"M8.235 1.559a.5.5 0 0 0-.47 0l-7.5 4a.5.5 0 0 0 0 .882L3.188 8 .264 9.559a.5.5 0 0 0 0 .882l7.5 4a.5.5 0 0 0 .47 0l7.5-4a.5.5 0 0 0 0-.882L12.813 8l2.922-1.559a.5.5 0 0 0 0-.882l-7.5-4zM8 9.433 1.562 6 8 2.567 14.438 6 8 9.433z"})],-1))),j=c((()=>(0,i._)("div",{class:"vr"},null,-1))),W={class:"sidebar-menu"},$={class:"sidebar-item"},X=c((()=>(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.2em",height:"1.2em",fill:"currentColor",class:"bi bi-filter",viewBox:"0 0 16 16"},[(0,i._)("path",{d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"})],-1))),Y=[X];var V={__name:"OrbitalMenu",props:{stageCount:{type:Number,validator(t){return t>0},default:1},startingAt:{type:Number,default:0},stagePrefix:{type:String,default:"R"}},emits:["onSetLevel","onPlay","onStep","onStepEnd","onShowFilter","onZoom","onZoomEnd"],setup(t,{emit:e}){const s=t,c="top",d=(0,o.iH)(!1),u=(0,o.iH)(s.startingAt),p=(0,o.iH)([]);let b;function C(t){u.value=t,e("onSetLevel",t)}(0,i.YP)((()=>s.startingAt),(()=>{u.value=s.startingAt})),(0,i.m0)((()=>{const t=s.stageCount;for(let e=0;e<t;e++)p.value[e]={index:e,title:s.stagePrefix.concat(e),isActive:u.value===e};p.value[0].title="RDC",t>1&&(p.value[t-1].title="Toit")}));const k=(0,o.iH)(null),z=(0,o.iH)(null);function O(){d.value=!0,r.p8.set(z.value,{autoAlpha:0,y:"100%"}),r.p8.to(z.value,{autoAlpha:1,y:0,duration:.3})}function T(){r.p8.set(k.value,{scale:0,autoAlpha:0}),r.p8.to(z.value,{autoAlpha:0,y:"100%",duration:.3,onComplete:()=>{d.value=!1}}),r.p8.to(k.value,{scale:1,autoAlpha:1,duration:.3,delay:.3,ease:"back.out(3)"})}return(0,i.bv)((()=>{const t=document.querySelectorAll('[data-bs-toggle="tooltip"]');b=[...t].map((t=>new l.u(t,{trigger:"hover",customClass:"custom-tooltip"})))})),(0,i.Jd)((()=>{b.forEach((t=>{t.dispose()}))})),(t,e)=>((0,i.wg)(),(0,i.iD)("div",h,[((0,i.wg)(),(0,i.j4)(i.lR,{to:"#app"},[(0,i.wy)((0,i._)("button",{class:"side-menu-toggler btn custom-btn lead",type:"button",onClick:O,ref_key:"showBtn",ref:k},m,512),[[a.F8,!d.value]])])),(0,i.wy)((0,i._)("div",{class:"sidebar show border-0 rounded",ref_key:"sidebar",ref:z},[(0,i._)("div",v,[(0,i._)("ul",{class:"sidebar-menu p-0 close-menu"},[(0,i._)("li",{class:"sidebar-item"},[(0,i._)("button",{type:"button",class:"btn custom-btn btn-sm",onClick:T},_)])]),f,(0,i._)("ul",g,[(0,i._)("li",w,[(0,i._)("button",{class:"btn custom-btn custom-sm",onMousedown:e[0]||(e[0]=e=>t.$emit("onStep",!0)),onMouseup:e[1]||(e[1]=e=>t.$emit("onStepEnd")),onTouchstart:e[2]||(e[2]=(0,a.iM)((e=>t.$emit("onStep",!0)),["prevent"])),onTouchend:e[3]||(e[3]=e=>t.$emit("onStepEnd")),"data-bs-toggle":"tooltip","data-bs-placement":c,"data-bs-title":"Prev"},y,32)]),(0,i._)("li",x,[(0,i._)("button",{class:"btn custom-btn btn-sm",onClick:e[4]||(e[4]=e=>t.$emit("onPlay",!0)),"data-bs-toggle":"tooltip","data-bs-placement":c,"data-bs-title":"Play"},S)]),(0,i._)("li",E,[(0,i._)("button",{class:"btn custom-btn btn-sm",onClick:e[5]||(e[5]=e=>t.$emit("onPlay",!1)),"data-bs-toggle":"tooltip","data-bs-placement":c,"data-bs-title":"Pause"},H)]),(0,i._)("li",D,[(0,i._)("button",{class:"btn custom-btn btn-sm",onMousedown:e[6]||(e[6]=e=>t.$emit("onStep",!1)),onMouseup:e[7]||(e[7]=e=>t.$emit("onStepEnd")),onTouchstart:e[8]||(e[8]=(0,a.iM)((e=>t.$emit("onStep",!1)),["prevent"])),onTouchend:e[9]||(e[9]=e=>t.$emit("onStepEnd")),"data-bs-toggle":"tooltip","data-bs-placement":c,"data-bs-title":"Next"},L,32)]),(0,i._)("li",I,[(0,i._)("button",{class:"btn custom-btn btn-sm",onMousedown:e[10]||(e[10]=e=>t.$emit("onZoom",!0)),onMouseup:e[11]||(e[11]=e=>t.$emit("onZoomEnd")),onTouchstart:e[12]||(e[12]=(0,a.iM)((e=>t.$emit("onZoom",!0)),["prevent"])),onTouchend:e[13]||(e[13]=e=>t.$emit("onZoomEnd"))},M,32)]),(0,i._)("li",P,[(0,i._)("button",{class:"btn custom-btn btn-sm",onMousedown:e[14]||(e[14]=e=>t.$emit("onZoom",!1)),onMouseup:e[15]||(e[15]=e=>t.$emit("onZoomEnd")),onTouchstart:e[16]||(e[16]=(0,a.iM)((e=>t.$emit("onZoom",!1)),["prevent"])),onTouchend:e[17]||(e[17]=e=>t.$emit("onZoomEnd"))},R,32)])]),F,(0,i._)("ul",A,[(0,i._)("div",U,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(p.value,(t=>((0,i.wg)(),(0,i.iD)("li",{class:"sidebar-item",key:t.index+1},[(0,i._)("button",{class:(0,n.C_)(["btn custom-btn btn-sm",{active:t.isActive}]),onClick:e=>C(t.index)},[B,(0,i.Uk)(" "+(0,n.zw)(t.title),1)],10,Z)])))),128))])]),j,(0,i._)("ul",W,[(0,i._)("li",$,[(0,i._)("button",{class:"btn custom-btn btn-sm",onClick:e[18]||(e[18]=e=>t.$emit("onShowFilter")),"data-bs-toggle":"tooltip","data-bs-placement":c,"data-bs-title":"Filtre"},Y)])])])],512),[[a.F8,d.value]])]))}},q=s(940089);const N=(0,q.Z)(V,[["__scopeId","data-v-7290665a"]]);var G=N},193333:function(t,e,s){s.r(e),s.d(e,{default:function(){return $}});var i=s(349242),a=s(373396),n=s(44870),o=s(87139),l=s(148519),r=s(748240),c=s(461020);const h=t=>((0,a.dD)("data-v-68af6d3e"),t=t(),(0,a.Cn)(),t),d={class:"card shadow border border-0"},u={class:"card-header p-0 overflow-hidden"},m=h((()=>(0,a._)("div",{class:"color-type"},null,-1))),v={class:"container-fluid"},p={class:"row align-items-center bg-dark text-white py-2 text-uppercase text-center"},_={class:"col-4 p-0"},f={class:"p-0 m-0"},g={class:"col-4 p-0"},w={class:"p-0 m-0"},b={class:"col-4 p-0"},y={class:"p-0 m-0"},x={class:"card-body"},C={class:"container-fluid"},S={class:"row align-items-center p-1"},E=h((()=>(0,a._)("div",{class:"col-4"},[(0,a._)("span",null,"Surface")],-1))),k={class:"col-8"},H=h((()=>(0,a._)("sup",null,"2",-1))),D={class:"row align-items-center p-1"},z=h((()=>(0,a._)("div",{class:"col-4"},[(0,a._)("span",null,"Type")],-1))),L={class:"col-8"},I={class:"row align-items-center p-1"},O=h((()=>(0,a._)("div",{class:"col-4"},[(0,a._)("span",null,"Code")],-1))),M={class:"col-8"},P={class:"card-footer bg-transparent"},T={key:0,class:"mx-1 text-success"},R=h((()=>(0,a._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.5em",height:"1.5em",fill:"currentColor",class:"bi bi-check-lg",viewBox:"0 0 16 16"},[(0,a._)("path",{d:"M12.736 3.97a.733.733 0 0 1 1.047 0c.286.289.29.756.01 1.05L7.88 12.01a.733.733 0 0 1-1.065.02L3.217 8.384a.757.757 0 0 1 0-1.06.733.733 0 0 1 1.047 0l3.052 3.093 5.4-6.425a.247.247 0 0 1 .02-.022Z"})],-1))),F=[R],A={key:1,class:"mx-1 text-danger"},U=h((()=>(0,a._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.6em",height:"1.6em",fill:"currentColor",class:"bi bi-x",viewBox:"0 0 16 16"},[(0,a._)("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"})],-1))),Z=[U];var B={__name:"PopoverComponent",props:{showPopover:{type:Boolean,default:!1},positions:{type:Object}},setup(t){const e=t;(0,i.sj)((t=>({"2aa8c0c7":(0,n.SU)(h)})));const s=(0,r.useRegionsStore)(),{currentColor:h,currentRegion:R,appt:U,bloc:B,etage:j}=(0,c.Jk)(s);let W=null,$=null;const X=(0,n.iH)(null);function Y(){$={getBoundingClientRect:q()},W=(0,l.fi)($,X.value,{placement:"top",modifiers:[{name:"offset",options:{offset:({placement:t})=>"bottom"===t||"top"===t?[0,30]:[]}}]})}function V(t,e){$.getBoundingClientRect=q(t,e),W.update()}function q(t=0,e=0){return()=>({width:0,height:0,top:e,right:t,bottom:e,left:t})}return(0,a.YP)(e.positions,(()=>{V(e.positions.x,e.positions.y)})),(0,a.bv)((()=>{Y()})),(0,a.Ah)((()=>{W.destroy()})),(e,s)=>(0,a.wy)(((0,a.wg)(),(0,a.iD)("div",{class:"position-absolute popper",ref_key:"popper",ref:X},[(0,a._)("div",d,[(0,a._)("div",u,[m,(0,a._)("div",v,[(0,a._)("div",p,[(0,a._)("div",_,[(0,a._)("p",f,"Appt-"+(0,o.zw)((0,n.SU)(U)),1)]),(0,a._)("div",g,[(0,a._)("p",w,"Bloc-"+(0,o.zw)((0,n.SU)(B)),1)]),(0,a._)("div",b,[(0,a._)("p",y,"Etage-"+(0,o.zw)((0,n.SU)(j)),1)])])])]),(0,a._)("div",x,[(0,a._)("div",C,[(0,a._)("div",S,[E,(0,a._)("div",k,[(0,a._)("p",null,[(0,a.Uk)((0,o.zw)((0,n.SU)(R).surface)+" M",1),H])])]),(0,a._)("div",D,[z,(0,a._)("div",L,[(0,a._)("p",null,(0,o.zw)((0,n.SU)(R).type),1)])]),(0,a._)("div",I,[O,(0,a._)("div",M,[(0,a._)("p",null,(0,o.zw)((0,n.SU)(R).code_ref),1)])])])]),(0,a._)("div",P,[(0,a._)("span",null,(0,o.zw)((0,n.SU)(R).statut),1),"Disponible"===(0,n.SU)(R).statut?((0,a.wg)(),(0,a.iD)("span",T,F)):((0,a.wg)(),(0,a.iD)("span",A,Z))])])],512)),[[i.F8,t.showPopover]])}},j=s(940089);const W=(0,j.Z)(B,[["__scopeId","data-v-68af6d3e"]]);var $=W},60200:function(t,e,s){s.r(e),s.d(e,{default:function(){return Y}});var i=s(349242),a=s(373396),n=s(44870),o=s(87139),l=s(790508),r=s(336343);const c=t=>((0,a.dD)("data-v-388cf4d2"),t=t(),(0,a.Cn)(),t),h={class:"card-parent shadow-sm"},d={class:"card-head w-100 mb-2"},u={class:"container-fluid"},m=c((()=>(0,a._)("div",{class:"row"},[(0,a._)("div",{class:"col-12 color-type"})],-1))),v={class:"row text-center align-items-center bg-dark text-white py-2 text-uppercase"},p={class:"col-5 p-0"},_={class:"p-1 m-0"},f=c((()=>(0,a._)("div",{class:"col-2"},[(0,a._)("div",{class:"vr"})],-1))),g={class:"col-5 p-0"},w={class:"p-1 m-0"},b={class:"container-fluid"},y={class:"row"},x={class:"card-image d-flex align-items-center p-1"},C=c((()=>(0,a._)("hr",null,null,-1))),S={class:"container-fluid"},E={class:"card-content row align-items-center"},k=c((()=>(0,a._)("div",{class:"col-5 text-start content-title p-2"},[(0,a._)("span",{class:""},"Etage")],-1))),H={class:"col-7 content-value"},D={class:"card-content row align-items-center"},z=c((()=>(0,a._)("div",{class:"col-5 text-start content-title p-2"},[(0,a._)("span",{class:""},"Type")],-1))),L={class:"col-7 content-value"},I={class:"card-content row align-items-center"},O=c((()=>(0,a._)("div",{class:"col-5 text-start content-title p-2"},[(0,a._)("span",{class:""},"Surface")],-1))),M={class:"col-7 content-value"},P=c((()=>(0,a._)("sup",null,"2",-1))),T={class:"card-content row align-items-center"},R=c((()=>(0,a._)("div",{class:"col-5 text-start content-title p-2"},[(0,a._)("span",{class:""},"Terrasse")],-1))),F={class:"col-7 content-value"},A=c((()=>(0,a._)("sup",null,"2",-1))),U={class:"card-content row align-items-center"},Z=c((()=>(0,a._)("div",{class:"col-5 text-start content-title p-2"},[(0,a._)("span",{class:""},"Code")],-1))),B={class:"col-7 content-value"},j=c((()=>(0,a._)("hr",null,null,-1)));var W={__name:"CardSearch",props:{cardInfo:Object,typesColors:Object,isAdmin:{type:Boolean,default:!1}},setup(t){const e=t;(0,i.sj)((t=>({"5ef456e7":(0,n.SU)($)})));const s=(0,n.iH)(e.typesColors),c=(0,a.Fl)((()=>{const t=e.cardInfo.appt,s=t<=9?"0":"";return s+t})),W=(0,a.Fl)((()=>{const t=e.cardInfo.bloc,s=t<=9?"0":"";return s+t})),$=(0,a.Fl)((()=>{const t=e.cardInfo.type;return s.value[t]||"#cecece"})),X=(0,a.Fl)((()=>{const t=e.cardInfo.etage;return 0==t?"RDC":t}));return(e,s)=>((0,a.wg)(),(0,a.iD)("div",h,[(0,a._)("div",d,[(0,a._)("div",u,[m,(0,a._)("div",v,[(0,a._)("div",p,[(0,a._)("p",_,"Appt-"+(0,o.zw)((0,n.SU)(c)),1)]),f,(0,a._)("div",g,[(0,a._)("p",w,"Bloc-"+(0,o.zw)((0,n.SU)(W)),1)])])])]),(0,a._)("div",b,[(0,a._)("div",y,[(0,a._)("div",x,[(0,a.Wm)((0,n.SU)(l["default"]),{src:`assets/images/lots/3d/${t.cardInfo.nom}.jpg`},null,8,["src"])])])]),C,(0,a._)("div",S,[(0,a._)("div",E,[k,(0,a._)("div",H,[(0,a._)("span",null,(0,o.zw)((0,n.SU)(X)),1)])]),(0,a._)("div",D,[z,(0,a._)("div",L,[(0,a._)("span",null,(0,o.zw)(t.cardInfo.type),1)])]),(0,a._)("div",I,[O,(0,a._)("div",M,[(0,a._)("span",null,[(0,a.Uk)((0,o.zw)(t.cardInfo.surface)+" M",1),P])])]),(0,a._)("div",T,[R,(0,a._)("div",F,[(0,a._)("span",null,[(0,a.Uk)((0,o.zw)(t.cardInfo.terrasse)+" M",1),A])])]),(0,a._)("div",U,[Z,(0,a._)("div",B,[(0,a._)("span",null,(0,o.zw)(t.cardInfo.code_ref),1)])])]),j,(0,a.Wm)((0,n.SU)(r["default"]),{"card-info":t.cardInfo,"color-type":(0,n.SU)($),"is-admin":t.isAdmin},null,8,["card-info","color-type","is-admin"])]))}},$=s(940089);const X=(0,$.Z)(W,[["__scopeId","data-v-388cf4d2"]]);var Y=X},507023:function(t,e,s){s.r(e),s.d(e,{default:function(){return x}});var i=s(373396),a=s(44870),n=s(60200),o=s(986367),l=s(748240),r=s(461020);const c=t=>((0,i.dD)("data-v-07d7fa4a"),t=t(),(0,i.Cn)(),t),h={class:"list-cards"},d={class:"container-fluid"},u={class:"row justify-content-left"},m={key:0,class:"row text-center"},v=(0,i.uE)('<div class="col" data-v-07d7fa4a><p class="my-5 pt-5 fw-2 fs-4 text-secondary" data-v-07d7fa4a>Aucun resultat</p><span class="text-light my-5" data-v-07d7fa4a><svg xmlns="http://www.w3.org/2000/svg" width="16em" height="16em" fill="currentColor" class="bi bi-exclamation-square-fill" viewBox="0 0 16 16" data-v-07d7fa4a><path d="M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm6 4c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995A.905.905 0 0 1 8 4zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z" data-v-07d7fa4a></path></svg></span></div>',1),p=[v],_={key:1},f=c((()=>(0,i._)("div",{class:"d-flex justify-content-center"},[(0,i._)("div",{class:"spinner-grow spinner",role:"status"},[(0,i._)("span",{class:"visually-hidden"},"Loading...")])],-1))),g=[f];var w={__name:"ListCards",props:{fetchBy:{type:Number,default:6},showAdmin:{type:Boolean,default:!1}},setup(t){const e=t,s=(0,l.useRegionsStore)(),{colorTypes:c,filteredRegions:v,firstFetch:f}=(0,r.Jk)(s),w=(0,a.iH)(e.fetchBy),b=(0,a.iH)(null),y=(0,a.iH)({}),x=(0,a.iH)(!1);function C(){const t=Object.entries(y.value).length;return Object.entries(v.value).slice(t,t+w.value)}return(0,o.S1d)(b,(([{isIntersecting:t}])=>{const e=Object.keys(y.value).length;if(t){const t=Object.entries(y.value);t.push(...C()),y.value=Object.fromEntries(t)}(e>=Object.keys(v.value).length||e<=0)&&(x.value=!1)}),{threshold:.1}),(0,i.YP)(v,(()=>{y.value=Object.fromEntries(Object.entries(v.value).slice(0,w.value)),x.value=!f.value})),(e,s)=>((0,i.wg)(),(0,i.iD)("div",h,[(0,i._)("div",d,[(0,i._)("div",u,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(y.value,((e,s,o)=>((0,i.wg)(),(0,i.iD)("div",{class:"col-sm-6 col-md-6 col-lg-4 mb-4",key:o},[(0,i.Wm)(n["default"],{"card-info":e,"types-colors":(0,a.SU)(c),"is-admin":t.showAdmin},null,8,["card-info","types-colors","is-admin"])])))),128))]),0===Object.keys(y.value).length?((0,i.wg)(),(0,i.iD)("div",m,p)):(0,i.kq)("",!0)]),x.value?((0,i.wg)(),(0,i.iD)("span",{key:0,ref_key:"infiniteElem",ref:b},null,512)):(0,i.kq)("",!0),x.value?((0,i.wg)(),(0,i.iD)("div",_,g)):(0,i.kq)("",!0)]))}},b=s(940089);const y=(0,b.Z)(w,[["__scopeId","data-v-07d7fa4a"]]);var x=y},158234:function(t,e,s){s.r(e),s.d(e,{default:function(){return E}});var i=s(373396),a=s(349242),n=s(44870),o=s(73738),l=s.n(o);const r=t=>((0,i.dD)("data-v-3c12e3da"),t=t(),(0,i.Cn)(),t),c={class:"slider-parent"},h={class:"slider"},d=r((()=>(0,i._)("div",{class:"fs-6 text-secondary text-center"},[(0,i._)("span",null,"Surface en MÂ²")],-1))),u={class:"position-relative ranges"},m=["max","min","step"],v=["max","min","step"],p={class:"range-info d-flex justify-content-between align-items-center my-4"},_={class:"form-floating mx-4 mx-sm-1"},f=["value"],g=r((()=>(0,i._)("label",{for:"min-input"},"min",-1))),w={class:"form-floating mx-4 mx-sm-1"},b=["value"],y=r((()=>(0,i._)("label",{for:"max-input"},"max",-1)));var x={__name:"SliderFilter",props:{min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},gap:{type:Number,default:10},sliderColor:{type:String,default:"#cecece"},rangeColor:{type:String,default:"#21af4f"},sliderDelay:{type:Number,default:1e3},inputsDelay:{type:Number,default:800}},emits:["onSurfaceChanged"],setup(t,{emit:e}){const s=t,o=(0,n.iH)(s.min),r=(0,n.iH)(s.max),x=(0,n.qj)({min:o.value,max:r.value}),C=(0,n.iH)(null);function S(){k(o.value,r.value),H()}function E(t){const e=Number(s.gap),i=Number(o.value),a=Number(r.value),n=a-e;return i<s.min?(o.value=s.min,void k(i,a)):a>s.max?(r.value=s.max,void k(i,a)):t?i>n?(o.value=n,void k(n,a)):void k(i,a):o.value>n?(r.value=i+e,void k(i,r.value)):void k(i,a)}function k(t,e){if(!C.value)return;const i=s.max-s.min,a=t-s.min,n=e-s.min,o=s.sliderColor,l=s.rangeColor;C.value.style.background=`linear-gradient(\n            to right,\n            ${o} 0%,\n            ${o} ${a/i*100}%,\n            ${l} ${a/i*100}%,\n            ${l} ${n/i*100}%, \n            ${o} ${n/i*100}%, \n            ${o} 100%)`}function H(){e("onSurfaceChanged",x)}function D(){E(!0),L()}function z(){E(!1),I()}const L=l()((()=>{x.min=o.value}),s.sliderDelay),I=l()((()=>{x.max=r.value}),s.sliderDelay),O=l()((t=>{o.value=t.target.value,x.min=o.value,E(!0)}),s.inputsDelay),M=l()((t=>{r.value=t.target.value,x.max=r.value,E(!1)}),s.inputsDelay);return(0,i.YP)(x,(()=>{H()})),(0,i.bv)((()=>{S()})),(0,i.Ah)((()=>{})),(e,s)=>((0,i.wg)(),(0,i.iD)("div",c,[(0,i._)("div",h,[d,(0,i._)("div",u,[(0,i.wy)((0,i._)("input",{type:"range",class:"form-range position-absolute",id:"min-range",ref:"minSlider",max:t.max,min:t.min,step:t.step,"onUpdate:modelValue":s[0]||(s[0]=t=>o.value=t),onInput:D},null,40,m),[[a.nr,o.value]]),(0,i.wy)((0,i._)("input",{type:"range",class:"form-range position-absolute",id:"max-range",ref_key:"maxSlider",ref:C,max:t.max,min:t.min,step:t.step,"onUpdate:modelValue":s[1]||(s[1]=t=>r.value=t),onInput:z},null,40,v),[[a.nr,r.value]])])]),(0,i._)("div",p,[(0,i._)("div",_,[(0,i._)("input",{type:"number",id:"min-input",class:"form-control",value:o.value,onInput:s[2]||(s[2]=(...t)=>(0,n.SU)(O)&&(0,n.SU)(O)(...t))},null,40,f),g]),(0,i._)("div",w,[(0,i._)("input",{class:"form-control",type:"number",id:"max-input",value:r.value,onInput:s[3]||(s[3]=(...t)=>(0,n.SU)(M)&&(0,n.SU)(M)(...t))},null,40,b),y])])]))}},C=s(940089);const S=(0,C.Z)(x,[["__scopeId","data-v-3c12e3da"]]);var E=S},360410:function(t,e,s){s.r(e),s.d(e,{default:function(){return g}});var i=s(373396),a=s(349242),n=s(87139),o=s(44870);const l=t=>((0,i.dD)("data-v-13731268"),t=t(),(0,i.Cn)(),t),r={class:"stages-parent w-100"},c=l((()=>(0,i._)("div",{class:"fs-6 text-center text-secondary mb-2"},[(0,i._)("span",null,"Etages")],-1))),h={class:"container-fluid"},d={class:"row justify-content-center"},u=["id","value"],m=["for"],v=l((()=>(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.2em",height:"1.2em",fill:"currentColor",class:"bi bi-layers-half",viewBox:"0 0 16 16"},[(0,i._)("path",{d:"M8.235 1.559a.5.5 0 0 0-.47 0l-7.5 4a.5.5 0 0 0 0 .882L3.188 8 .264 9.559a.5.5 0 0 0 0 .882l7.5 4a.5.5 0 0 0 .47 0l7.5-4a.5.5 0 0 0 0-.882L12.813 8l2.922-1.559a.5.5 0 0 0 0-.882l-7.5-4zM8 9.433 1.562 6 8 2.567 14.438 6 8 9.433z"})],-1)));var p={__name:"StagesFilter",props:{stageCount:Number,defaultStages:{type:Array,default(){return[]}}},emits:["onStagesChanged"],setup(t,{emit:e}){const s=t,l=(0,o.iH)(s.defaultStages);function p(){e("onStagesChanged",l.value)}return(0,i.YP)(l,(()=>{p()})),(0,i.YP)((()=>s.defaultStages),(()=>{l.value=s.defaultStages,p()})),(0,i.bv)((()=>{p()})),(e,s)=>((0,i.wg)(),(0,i.iD)("div",r,[c,(0,i._)("div",h,[(0,i._)("div",d,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.stageCount,(t=>((0,i.wg)(),(0,i.iD)("div",{class:"col-5 col-sm-2 col-md-3 position-relative p-0 m-1 text-center",key:t},[(0,i.wy)((0,i._)("input",{type:"checkbox",class:"btn-check",id:"stages-"+t,value:t-1,"onUpdate:modelValue":s[0]||(s[0]=t=>l.value=t),autocomplete:"off"},null,8,u),[[a.e8,l.value]]),(0,i._)("label",{class:"btn border-0 bg-white text-black text-center p-2",for:"stages-"+t},[v,(0,i.Uk)(" "+(0,n.zw)(t-1),1)],8,m)])))),128))])])]))}},_=s(940089);const f=(0,_.Z)(p,[["__scopeId","data-v-13731268"]]);var g=f},708274:function(t,e,s){s.r(e),s.d(e,{default:function(){return _}});var i=s(373396),a=s(44870),n=s(349242),o=s(87139),l=s(650401),r=s(461020);const c={class:"status-parent"},h=(0,i._)("div",{class:"fs-6 text-center text-secondary mb-3"},[(0,i._)("span",null,"Status")],-1),d={class:"d-flex justify-content-center text-white"},u=["id","value"],m=["for"];var v={__name:"StatusFilter",emits:["onStatusChanged"],setup(t,{emit:e}){const s=(0,l.useAppDataStore)(),{status:v,defaultStatus:p}=(0,r.Jk)(s),_=(0,a.iH)(p.value);function f(){e("onStatusChanged",_.value)}return(0,i.YP)(_,(()=>{f()})),(0,i.YP)((()=>p.value),(()=>{_.value=p.value,f()})),(0,i.bv)((()=>{f()})),(t,e)=>((0,i.wg)(),(0,i.iD)("div",c,[h,(0,i._)("div",d,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,a.SU)(v),((t,s)=>((0,i.wg)(),(0,i.iD)("div",{class:"me-2",key:s},[(0,i.wy)((0,i._)("input",{type:"checkbox",class:"btn-check",id:t.name+s,"onUpdate:modelValue":e[0]||(e[0]=t=>_.value=t),value:t.value,autocomplete:"off"},null,8,u),[[n.e8,_.value]]),(0,i._)("label",{class:(0,o.C_)(["btn custom-checkbox border-0 text-white text-start bg-success pe-4",t.css_type]),for:t.name+s},(0,o.zw)(t.name),11,m)])))),128))])]))}};const p=v;var _=p},600766:function(t,e,s){s.r(e),s.d(e,{default:function(){return g}});var i=s(373396),a=s(44870),n=s(349242),o=s(87139),l=s(748240),r=s(461020);const c=t=>((0,i.dD)("data-v-858dd8e0"),t=t(),(0,i.Cn)(),t),h={class:"types"},d=c((()=>(0,i._)("div",{class:"fs-6 text-center text-secondary mb-3"},[(0,i._)("span",null,"Types d'appartement")],-1))),u={class:"d-flex justify-content-center"},m=["id","value"],v=["for"];var p={__name:"TypesFilter",props:{defaultTypes:{type:Array,default(){return[]}}},emits:["onTypesChanged"],setup(t,{emit:e}){const s=t,c=(0,l.useRegionsStore)(),{colorTypes:p}=(0,r.Jk)(c),_=(0,a.iH)(s.defaultTypes);function f(){e("onTypesChanged",_.value)}return(0,i.YP)(_,(()=>{f()})),(0,i.YP)((()=>s.defaultTypes),(()=>{_.value=s.defaultTypes,f()})),(0,i.bv)((()=>{f()})),(t,e)=>((0,i.wg)(),(0,i.iD)("div",h,[d,(0,i._)("div",u,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,a.SU)(p),((t,s,a)=>((0,i.wg)(),(0,i.iD)("div",{class:"me-2 w-50 position-relative",key:a},[(0,i.wy)((0,i._)("input",{type:"checkbox",class:"btn-check",id:"checkbox-"+a,value:s,"onUpdate:modelValue":e[0]||(e[0]=t=>_.value=t),autocomplete:"off"},null,8,m),[[n.e8,_.value]]),(0,i._)("label",{class:"btn custom-checkbox border-0 text-white text-start w-100",for:"checkbox-"+a,style:(0,o.j5)({"background-color":t})},(0,o.zw)(s),13,v)])))),128))])]))}},_=s(940089);const f=(0,_.Z)(p,[["__scopeId","data-v-858dd8e0"]]);var g=f}}]);
//# sourceMappingURL=252.ec1507fb.js.map