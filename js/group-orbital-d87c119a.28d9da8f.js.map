{"version":3,"file":"js/group-orbital-d87c119a.28d9da8f.js","mappings":"sLACA,MAAMA,EASFC,WAAAA,CAAYC,EAAmBC,EAAcC,EAAkBC,GAC3DC,KAAKC,QAAU,GACfD,KAAKE,aAAeL,EACpBG,KAAKG,UAAY,EAGjBH,KAAKI,eAAeR,EAAmBE,EAAkBC,EAC7D,CAQAK,cAAAA,CAAeR,EAAmBE,EAAkBC,GAChD,IAAIM,EAAc,GAClB,IAAK,IAAIC,EAAI,EAAGA,EAAIN,KAAKE,aAAcI,IAAK,CAExC,MAAMC,EAAI,IAAIC,SAAS,CAACC,EAAUC,KAE9B,MAAMC,EAAOf,EAAiBgB,QAAQ,IAAMN,GAGtCO,EAAUC,EAAAA,MAAAA,CAAQ,KAAOH,GACzBI,EAAQ,IAAIC,MAClBD,EAAME,IAAMJ,EACZb,KAAKC,QAAQiB,KAAKH,GAElBA,EAAMI,iBAAiB,QAAS,KAC5BnB,KAAKG,YACLJ,IACAU,GAAS,IAGbM,EAAMI,iBAAiB,SAAWC,IAC9BC,QAAQC,IAAIF,GACZV,EAAOU,EAAE,GACX,IAINf,EAAYa,KAAKX,EACrB,CAGAC,QAAQe,IAAIlB,GAAamB,MAAK,KAC1B1B,GAAiB,IAClB2B,OAAQL,IACPtB,EAAgBsB,EAAE,GAE1B,CAGAM,SAAAA,CAAUC,GACN,OAAO3B,KAAKC,QAAQ0B,EACxB,E,0ICxDJ,MAAMC,EAUFjC,WAAAA,CAAakC,EAASC,EAAoBC,EAAgBC,EAAiBC,GAEvEjC,KAAKkC,QAAUL,EAEf7B,KAAK8B,kBAAoBA,EAEzB9B,KAAKmC,eAAiBJ,EAEtB/B,KAAKoC,SAELpC,KAAKqC,aAAeR,EAAOQ,aAE3BrC,KAAKsC,aAAeT,EAAOU,YAC3BvC,KAAKwC,YAAcX,EAAOY,UAG1BzC,KAAK0C,gBAAkBV,EAEvBhC,KAAK2C,YAAcV,EAEnBjC,KAAK4C,MAET,CAEAA,IAAAA,GAEI5C,KAAK6C,cAAgB,EACrB7C,KAAK8C,eAAiB,EAEtB9C,KAAK+C,aAAe/C,KAAKmC,eAAea,YACxChD,KAAKiD,YAAcjD,KAAKmC,eAAee,cAEvClD,KAAKmD,YAAc,GAEnBnD,KAAKoD,SAAWpD,KAAKmC,eAAeiB,SACpCpD,KAAKqD,UAAYrD,KAAKmC,eAAekB,UAErCrD,KAAKsD,gBAAkBtD,KAAKmC,eAAeoB,UAC3CvD,KAAKwD,YAAcxD,KAAKmC,eAAesB,WAEvCzD,KAAK0D,YAAc,IACnB1D,KAAK2D,UAAW,EAChB3D,KAAK4D,YAAa,EAClB5D,KAAK6D,cACL7D,KAAK8D,kBAAmB,EACxB9D,KAAK+D,QAAS,EAEd/D,KAAKgE,iBAAmB,KACxBhE,KAAKiE,SAAW,KAEhBjE,KAAKkE,cAAgB,EACrBlE,KAAKmE,iBAAmB,EAExBnE,KAAKoE,iBAAcC,EAEnBrE,KAAKsE,SAAWtE,KAAKwC,YAAY+B,WAAW,MAC5CvE,KAAKwE,UAAYxE,KAAKsC,aAAaiC,WAAW,MAE9CvE,KAAKyE,iBACT,CAMAA,eAAAA,GAEIpD,QAAQC,IAAI,aAEZ,IAAIoD,EAAe,GAEnB,MAAMC,EAAQ3E,KAAK8B,kBAAkB8C,OAAS5E,KAAK+C,aACnD,IAAK,IAAIzC,EAAI,EAAGA,EAAIN,KAAK8B,kBAAkB8C,OAAQtE,IAAK,CACpD,MAAMuE,EAAU,IAAIrE,SAAS,CAACC,EAAUC,KACpC,MAAMoE,EAAU9E,KAAK8B,kBAAkBxB,GACjCyE,EAAO,IAAIrF,EAAAA,UAAUoF,EAAU9E,KAAK+C,cACzCiC,IACOhF,KAAK+D,QAAQrD,EAAO,UAEH,qBAAVsE,EACPtE,EAAOsE,GAEPvE,GACJ,IAEJ,KAEIT,KAAKmE,mBACLnE,KAAKkE,cAAgBe,KAAKC,MAAQlF,KAAKmE,iBAAmBQ,EAAS,KACnEQ,OAAOC,cAAc,IAAIC,YAAY,kBAAoB,CACrDC,SAAU,IACX,IAEPtF,KAAKmD,YAAYjC,KAAK6D,EAAK,IAG/BL,EAAaxD,KAAK2D,EACtB,CAEArE,QAAQe,IAAImD,GACPlD,MAAM,KACHH,QAAQC,IAAI,0BACZtB,KAAK8D,kBAAmB,EACxB9D,KAAKuF,QAAQ,IAEhB9D,OAAQL,IACL,GAAS,WAANA,EAIH,MAHA+D,OAAOC,cAAc,IAAIC,YAAY,UAAW,CAC5CC,SAAS,KAEP,IAAIE,MAAM,8DAA8D,GAE1F,CAOAD,MAAAA,GAGIvF,KAAKwD,YAAcyB,KAAKQ,IAAIR,KAAKS,IAAIC,SAAS3F,KAAKwD,aAAc,GAAIxD,KAAK+C,aAAe,GACzF/C,KAAKsD,gBAAkB2B,KAAKQ,IAAIR,KAAKS,IAAIC,SAAS3F,KAAKsD,iBAAkB,GAAItD,KAAKmD,YAAYyB,OAAS,GAGvG5E,KAAKiE,SAAW,IAAI2B,EAAAA,QAAQ5F,KAAKkC,SACjClC,KAAK6F,aAEL7F,KAAKoC,SAAW,IAAI0D,EAAAA,SAAS9F,KAAKkC,QAASlC,KAAK0C,gBAAkB1C,KAAK2C,YAAc3C,KAAKmC,eAAe4D,UAEzG/F,KAAKgG,aAAe,IAAIC,EAAAA,YAAYjG,KAAKqC,aACrC,CACI6D,MAAQlG,KAAKoD,SACb+C,OAASnG,KAAKqD,WAElBrD,KAAKmC,eAAeiE,YACpBpG,KAAKmC,eAAekE,aAIxBrG,KAAKgG,aAAaM,KAAKnF,iBAAiB,UAAW,KAC/CnB,KAAKuG,cAAc,IAGpBvG,KAAK+C,aAAe,GACnB/C,KAAKgG,aAAaM,KAAKnF,iBAAiB,UAAYC,IAChDpB,KAAKwG,YAAYpF,EAAE,IAM3B+D,OAAOsB,SAAW,KACdzG,KAAKiE,SAASyC,SACd1G,KAAKgG,aAAaW,KAAKC,aACvB5G,KAAK6G,kBAAkB,EAG3B1B,OAAOC,cAAc,IAAIC,YAAY,kBAAmB,CACpDC,SAAS,IAEjB,CAMAO,UAAAA,GACI7F,KAAKgE,iBAAmB,IAAI8C,EAAAA,gBAAgB9G,KAAKmC,eACrD,CAKA4E,GAAAA,GACI/G,KAAKgH,oBAAoBhH,KAAKsD,gBAAkBtD,KAAKwD,aAClDxD,KAAKmC,eAAe8E,UACnB9B,OAAO+B,YAAW,IAAMlH,KAAKmH,QAAQ,EAE7C,CAEAA,IAAAA,GACOnH,KAAK4D,YAAmC,GAArB5D,KAAK+C,eAE3BoC,OAAOiC,uBAAwBC,IAAerH,KAAKsH,QAAQD,EAAU,IACrErH,KAAK4D,YAAa,EACtB,CAEA2D,IAAAA,GACQvH,KAAK4D,aACTuB,OAAOqC,sBAAuBH,IAAerH,KAAKsH,QAAQD,EAAU,IACpErH,KAAK4D,YAAa,EACtB,CAOA0D,OAAAA,CAAQD,GAEJ,IAAIrH,KAAK8D,iBACN,YAGqBO,IAApBrE,KAAKyH,aACLzH,KAAKyH,WAAaJ,GAEtB,MAAMK,EAAUL,EAAYrH,KAAKyH,WAE9BC,GAAW1H,KAAKiD,aAAejD,KAAK4D,aACnC5D,KAAK2H,QAELxC,OAAOC,cAAc,IAAIC,YAAY,mBAAqB,CACtDC,SAAU,KAEdtF,KAAKyH,WAAaJ,GAGtBlC,OAAOiC,uBAAwBC,IAAerH,KAAKsH,QAAQD,EAAU,GAEzE,CAOAM,KAAAA,CAAMC,GACuB,IAAtB5H,KAAK+C,eAER6E,OAAsBvD,GAAXuD,EAAwB5H,KAAK2D,SAAWiE,EAChDA,EACC5H,KAAK6H,gBAEL7H,KAAK8H,gBAET9H,KAAKgH,oBAAoBhH,KAAKsD,gBAAkBtD,KAAKwD,aACzD,CASCqD,gBAAAA,GACG1B,OAAOiC,uBAAuB,KAAOpH,KAAK+H,OAAO,GACrD,CAQAA,KAAAA,GAGI,IAAI/H,KAAK8D,iBACL,OAKJ,MAAMiB,EAAO/E,KAAKgI,gBAClBhI,KAAK6D,cAAgBkB,EAAKrD,UAAU1B,KAAKwD,aACzC,MAAMyE,EAAcjI,KAAKgG,aAAaW,KAAKuB,aAG3ClI,KAAK6C,cAAgB7C,KAAKoD,SAAW6E,EACrCjI,KAAK8C,eAAiB9C,KAAKqD,UAAY4E,EAIvCjI,KAAKmI,iBAGL,IAAIC,EAAInD,KAAKC,MAAgC,GAAvBlF,KAAKwC,YAAY0D,MAA+B,GAAnBlG,KAAK6C,cAAsB7C,KAAKqI,UAC/EC,EAAIrD,KAAKC,MAAgC,GAAxBlF,KAAKwC,YAAY2D,OAAiC,GAApBnG,KAAK8C,eAAsB9C,KAAKuI,UAGhFvI,KAAKwC,YAAY0D,MAAQlG,KAAK0D,cAC7B0E,EAAInD,KAAKC,MAA8B,GAAvBlF,KAAKwC,YAAY0D,MAA+B,GAAnBlG,KAAK6C,eAClDyF,EAAIrD,KAAKC,MAA+B,GAAxBlF,KAAKwC,YAAY2D,OAAiC,GAApBnG,KAAK8C,gBACnD9C,KAAKqI,SAAW,EAChBrI,KAAKuI,SAAW,GAKpBvI,KAAKwE,UAAUgE,UAAU,EAAG,EAAGxI,KAAKsC,aAAa4D,MAAOlG,KAAKsC,aAAa6D,QAC1EnG,KAAKsE,SAASkE,UAAU,EAAG,EAAGxI,KAAKwC,YAAY0D,MAAOlG,KAAKwC,YAAY2D,QAMtE,MAAMsC,EAAYzI,KAAKsD,gBACjBoF,EAAa1I,KAAKwD,YAClBmF,EAAU3I,KAAKqI,SACfO,EAAU5I,KAAKuI,SAEhBM,EAAK7I,KAAKgE,iBAAiB8E,WAAWL,EAAYC,EAAa1I,KAAK6C,cAAgBoF,GAC1FY,EAAGrH,MAAKuH,IAEJ,MAAMC,EAAQhJ,KAAKgG,aAAaW,KAAKuB,aAEjCc,IAAUf,GACVQ,IAAczI,KAAKsD,iBACnBoF,IAAe1I,KAAKwD,aACpBmF,IAAY3I,KAAKqI,UACjBO,IAAY5I,KAAKuI,UAGrBvI,KAAKwE,UAAUyE,UAAUF,EAASX,EAAGE,EAAItI,KAAK6C,cAAgB7C,KAAK8C,eAAe,IAEnFrB,OAAM,KACC,IAKVzB,KAAKoC,SAAS8G,QAAQlJ,KAAKsD,gBAAkBtD,KAAKwD,YAAcxD,KAAK6C,cAAgB7C,KAAK8C,eAAiB9C,KAAKqI,SAAWrI,KAAKuI,UAGhIvI,KAAKsE,SAAS2E,UAAUjJ,KAAK6D,cAAgBuE,EAAGE,EAAItI,KAAK6C,cAAgB7C,KAAK8C,eAGlF,CAEAqF,cAAAA,GAKI,QAHqB9D,IAAlBrE,KAAKqI,WAAwBrI,KAAKqI,SAAW,QAC3BhE,IAAlBrE,KAAKuI,WAAwBvI,KAAKuI,SAAW,QAExBlE,IAArBrE,KAAKoE,YACJ,OAGJ,MAAM+E,EAAuC,GAAvBnJ,KAAKwC,YAAY0D,MACjCkD,EAAwC,GAAxBpJ,KAAKwC,YAAY2D,OACjCkD,EAASF,EAAoC,GAAnBnJ,KAAK6C,cAAqB7C,KAAKqI,SACzDiB,EAASF,EAAqC,GAApBpJ,KAAK8C,eAAsB9C,KAAKuI,SAC1DgB,EAAYF,EAA4B,GAAnBrJ,KAAK6C,cAC1B2G,EAAYF,EAA6B,GAApBtJ,KAAK8C,eAEhC,IAAI2G,EACAC,EAEA1J,KAAKgG,aAAaW,KAAKgD,WAAiC,GAArB3J,KAAKoE,aAIxCqF,EAAUzJ,KAAKoE,YAAYgE,EAAImB,EAC/BG,EAAU1J,KAAKoE,YAAYkE,EAAIkB,IAJ/BC,EAAUN,EAAgBI,EAC1BG,EAAUN,EAAgBI,GAM9B,MAAMI,EAAQ,GACRC,EAAwC,GAAzB7J,KAAKwC,YAAY0D,MAChC4D,EAAQ7E,KAAK8E,MAAML,EAAUD,GAEnC,IAAIO,EAAY/E,KAAKgF,KAAKhF,KAAKiF,IAAIT,EAAU,GAAKxE,KAAKiF,IAAIR,EAAU,IAElEM,EAAYH,IAAcG,EAAYH,GAEzC7J,KAAKqI,UAAYpD,KAAKC,MAAQ8E,EAAY/E,KAAKkF,IAAIL,GAAUF,GAC7D5J,KAAKuI,UAAYtD,KAAKC,MAAQ8E,EAAY/E,KAAKmF,IAAIN,GAAUF,GAE7D5J,KAAKoE,iBAAcC,CACvB,CAMAgG,eAAAA,CAAgB1I,GACTA,EAAQ,GAAKA,GAAS3B,KAAKmD,YAAYyB,QAI1C5E,KAAKgH,oBAAoBrF,EAAQ3B,KAAKwD,YAC1C,CASAwD,mBAAAA,CAAqByB,EAAYC,GAC7B1I,KAAKsD,gBAAkBmF,EACvBzI,KAAKwD,YAAckF,EACnB1I,KAAK6G,kBACT,CASAyD,SAAAA,CAAU1C,GACN5H,KAAKuH,OACLvH,KAAK2H,MAAMC,EACf,CAQAI,aAAAA,GACI,OAAOhI,KAAKmD,YAAYnD,KAAKsD,gBACjC,CAEAwE,aAAAA,GACI9H,KAAKwD,cACDxD,KAAKwD,aAAexD,KAAK+C,eACzB/C,KAAKwD,YAAc,EAE3B,CAEAqE,aAAAA,GACI7H,KAAKwD,cACDxD,KAAKwD,YAAc,IACnBxD,KAAKwD,YAAcxD,KAAK+C,aAAa,EAE7C,CAMAwD,YAAAA,GACIvG,KAAKuK,YACLvK,KAAKuH,OACLvH,KAAK6G,kBACT,CAEA0D,SAAAA,GACI,MAAMC,EAASxK,KAAKgG,aAAaW,KAAK8D,WAStCzK,KAAKoE,aAPS,GAAXoG,EAOgBA,GAJK,CAM5B,CAMAhE,WAAAA,CAAYpF,GACRpB,KAAKsK,UAAUlJ,EAAEsJ,OACrB,E,2ECreJ,MAAMC,EAMFhL,WAAAA,CAAaiL,GAET5K,KAAK6K,UAAYD,EACjB5K,KAAK8K,WACT,CAEAC,YAAAA,GAMI,GADA/K,KAAK8K,YAAcE,SAASC,eAAejL,KAAK6K,YAC5C7K,KAAK8K,YAEL,MADAI,MAAM,oCAAsClL,KAAK6K,WAC3C,IAAIrF,MAAO,mCAAqCxF,KAAK6K,WAI/D,MAAMxI,EAAerC,KAAKmL,aAAa,eAAiB,IAClDC,EAAiBpL,KAAKmL,aAAa,iBAAmB,GACtDE,EAAerL,KAAKmL,aAAa,eAAiB,GAClD5I,EAAcvC,KAAKmL,aAAa,cAAgB,GAChDG,EAAatL,KAAKmL,aAAa,aAAe,GAC9CI,EAAcvL,KAAKmL,aAAa,cAAgB,GAEtDI,EAAYC,MAAMC,KAAO,QACzBF,EAAYC,MAAME,WAAa,SAG/B,MAAM7J,EAAS,CACXY,UAAa6I,EACbK,YAAcJ,EACdK,aAAeP,EACfQ,gBAAkBT,EAClB/I,aAAeA,EACfE,YAAcA,GAElB,OAAOV,CAEX,CAOAsJ,YAAAA,CAAcW,EAAKC,GACf,GAAwB,OAArB/L,KAAK8K,YAAsB,OAC9B,MAAM/B,EAASiC,SAASgB,cAAc,UAWtC,OAVAjD,EAAO+C,GAASA,EAChB/C,EAAO7C,MAAS8E,SAASiB,gBAAgBC,YACzCnD,EAAO5C,OAAS6E,SAASiB,gBAAgBE,aAEzCpD,EAAOyC,MAAMY,SAAW,QACxBrD,EAAOyC,MAAMa,OAASN,EACtBhD,EAAOyC,MAAMc,IAAM,EACnBvD,EAAOyC,MAAMC,KAAO,EAEpBzL,KAAK8K,YAAYyB,YAAYxD,GACtBA,CACX,E,kEClEJ,MAAMyD,EAMD7M,WAAAA,CAAY2G,EAAOD,GAChBrG,KAAKsG,KAAOA,EAGZtG,KAAKyM,aAAepG,EAAYqG,YAChC1M,KAAK2M,WAAatG,EAAYuG,UAC9B5M,KAAK6M,WAAaxG,EAAYyG,UAC9B9M,KAAK+M,aAAe1G,EAAY2G,YAKhChN,KAAKiN,kBAAoB,GACzBjN,KAAKkN,cAAW7I,EAKhBrE,KAAKmN,YAAa,EAClBnN,KAAK4H,SAAU,EAEf5H,KAAKoN,YAAS/I,EACdrE,KAAKqN,YAAShJ,EACdrE,KAAKsN,eAAYjJ,EACjBrE,KAAKuN,UAELvN,KAAKwN,YAELxN,KAAK4C,MACT,CAKA,aAAI2K,GACA,OAAOvN,KAAKsG,KAAKmH,uBACrB,CAEA7K,IAAAA,GACI5C,KAAK0N,OACT,CAKAA,KAAAA,GACI1N,KAAKmN,YAAa,EAClBnN,KAAKoN,YAAS/I,EACdrE,KAAKqN,YAAShJ,EACdrE,KAAKsN,eAAYjJ,EACjBsJ,aAAa3N,KAAKwN,YACtB,CAGAI,SAAAA,CAAUxM,GACNpB,KAAK6N,YAAYzM,EAAE0M,QACvB,CAEAC,SAAAA,CAAU3M,GAEFpB,KAAKmN,YACTnN,KAAKgO,QAAQ5M,EAAE0M,QACnB,CAEAG,OAAAA,GACIjO,KAAKkO,WACT,CAIAC,UAAAA,CAAW/M,GACP,MAAMgN,EAAUhN,EAAEgN,QACfA,EAAQxJ,OAAS,EAChB5E,KAAK0N,QAGT1N,KAAK6N,YAAYO,EAAQ,GAAGN,QAChC,CAEAO,SAAAA,CAAUjN,GACN,IAAIpB,KAAKmN,WAAY,OACrB,MAAMiB,EAAUhN,EAAEgN,QACfA,EAAQxJ,OAAS,EAChB5E,KAAK0N,QAIT1N,KAAKgO,QAAQI,EAAQ,GAAGN,QAC5B,CAEAQ,QAAAA,GACItO,KAAKkO,WACT,CAKAL,WAAAA,CAAaC,GACT9N,KAAKmN,YAAa,EAClBnN,KAAKoN,OAASpN,KAAKuO,aAAaT,GAChC9N,KAAKqN,OAASmB,KAAKC,MACnBd,aAAa3N,KAAKwN,YACtB,CACAU,SAAAA,GACIlO,KAAKmN,YAAa,EAClBnN,KAAK0O,SACL1O,KAAKsN,eAAYjJ,CACrB,CASA,aAAM2J,CAAQF,GAIV,MAAMa,EAAW3O,KAAKuO,aAAaT,GAEnC9N,KAAKsN,UAAYrI,KAAKC,MAAMyJ,EAAW3O,KAAKoN,QAC5C,MAAMwB,EAAQJ,KAAKC,MACb/G,EAAUkH,EAAQ5O,KAAKqN,OAK7B,GAHArN,KAAKkN,SAAWjI,KAAK4J,IAAI7O,KAAKsN,UAAU5F,GAGrCzC,KAAK4J,IAAI7O,KAAKsN,WAAatN,KAAK2M,WAAY,CAG3C3M,KAAK4H,QAAU5H,KAAKsN,UAAY,EAQhC,MAAMwB,EAAY7J,KAAK8J,MAAM/O,KAAKkN,SAAWlN,KAAKyM,cAElD,IAAK,IAAInM,EAAI,EAAGA,GAAKwO,EAAYxO,UAIvBN,KAAKgP,MAAMhP,KAAKkN,UAMtBlN,KAAKsG,KAAKlB,cAAc,IAAIC,YAAY,SAAU,CAC9CC,SAAS,EAEToF,OAAS1K,KAAK4H,WAMtB5H,KAAKoN,OAASuB,EACd3O,KAAKqN,OAASuB,CAClB,CACJ,CAMA,YAAMF,GACF,MAAMO,EAAUhK,KAAK4J,IAAI7O,KAAKsN,WAC9B,GAAItN,KAAKmN,iBAAiC9I,IAAnBrE,KAAKsN,WAA2B2B,EAAUjP,KAAK2M,WAElE,YADA3M,KAAK0N,QAKT,MAAM9F,EAAU5H,KAAKsN,UAAY,EAGjC,IAAI4B,EAAWjK,KAAKC,MAAOD,KAAK4J,IAAI7O,KAAKkN,WAAclN,KAAK6M,WAC5DqC,EAAWA,EAAWlP,KAAKiN,kBAAoBjN,KAAKiN,kBAAoBiC,EAGxElP,KAAKkN,SAAWlN,KAAKkN,SAAWlN,KAAK+M,aAAe/M,KAAK+M,aAAe/M,KAAKkN,SAE7ElN,KAAKkN,SAAWlN,KAAK+M,aAAe/M,KAAKkN,SAEzC,IAAK,IAAI5M,EAAI,EAAGA,EAAI4O,EAAW5O,IAAK,CAChC,GAAIN,KAAKmN,WAAY,CACjBnN,KAAK0N,QACL,KACJ,OAEM1N,KAAKgP,MAAMhP,KAAKkN,UACtBlN,KAAKsG,KAAKlB,cAAc,IAAIC,YAAY,SAAU,CAC9CC,SAAS,EACToF,OAAS9C,KAEb,MAAMuH,EAAOnP,KAAKoP,aAAa9O,EAAE4O,GACjClP,KAAKkN,UAAYiC,EAAOnP,KAAKyM,YACjC,CACJ,CAOA2C,YAAAA,CAAahH,GACT,OAAOnD,KAAKmF,IAAKhC,EAAInD,KAAKoK,GAAM,EACpC,CAOCL,KAAAA,CAAMM,GACH,MAAM/O,EAAI,IAAIC,SAAUC,IACpBT,KAAKwN,YAActG,YAAY,KAC3BzG,GAAS,GACT6O,EAAG,IAGX,OAAO/O,CACX,CAQAgO,YAAAA,CAAaT,GACT,OAAOA,EAAU9N,KAAKuN,UAAU9B,IACpC,E,mGChPJ,MAAMxF,EACFtG,WAAAA,CAAY2G,EAAOiJ,EAAenJ,EAAcC,GAC5CrG,KAAKsG,KAAOA,EACZtG,KAAKwP,KAAO,IAAIhD,EAAAA,KAAKlG,EAAOD,GAC5BrG,KAAK2G,KAAO,IAAI8I,EAAAA,KAAKnJ,EAAOiJ,EAAenJ,GAE3CpG,KAAK4C,MACT,CAEA8M,SAAAA,GACI,MAAS,iBAAkBvK,MAC/B,CAEAvC,IAAAA,GAEO5C,KAAK0P,aACJrO,QAAQC,IAAI,iBAEZtB,KAAK2P,oBAGL3P,KAAK4P,kBAIL5P,KAAK6P,qBAGT7P,KAAKsG,KAAKnF,iBAAiB,SAAUC,IACjCA,EAAE0O,iBACF9P,KAAK2G,KAAKoJ,WAAW3O,EAAE,GAG/B,CAEAwO,eAAAA,GACI5P,KAAKsG,KAAK0J,YAAc5O,IACJ,IAAbA,EAAE6O,QAAcjQ,KAAKkQ,WAAW9O,EAAE,EAGzCpB,KAAKsG,KAAK6J,YAAc/O,IACpBpB,KAAKoQ,WAAWhP,EAAE,EAGtBpB,KAAKsG,KAAK+J,UAAajP,IACnBpB,KAAKsQ,SAASlP,EAAE,CAExB,CAEAuO,eAAAA,GACI3P,KAAKsG,KAAKnF,iBAAiB,cAAgBC,IACvCpB,KAAKuQ,YAAYnP,EAAE,IAGvBpB,KAAKsG,KAAKnF,iBAAiB,aAAeC,IACtCA,EAAE0O,iBACF9P,KAAKwQ,WAAWpP,EAAE,GAClB,CAAEqP,SAAS,IAEfzQ,KAAKsG,KAAKnF,iBAAiB,YAAcC,IACrCpB,KAAK0Q,UAAUtP,EAAE,GAEzB,CAGAyO,iBAAAA,GAGI7P,KAAKsG,KAAKnF,iBAAiB,eAAiBC,IACxB,IAAbA,EAAE6O,OAILjQ,KAAK2G,KAAKgK,aAAavP,GAHnBpB,KAAK2G,KAAKiK,WAAWxP,EAGA,IAG7BpB,KAAKsG,KAAKnF,iBAAiB,eAAiBC,IACxCA,EAAE0O,iBACF9P,KAAK2G,KAAKkK,YAAYzP,EAAE,IAG5BpB,KAAKsG,KAAKnF,iBAAiB,aAAeC,IACtCpB,KAAK2G,KAAKiK,WAAWxP,EAAE,IAI3BpB,KAAKsG,KAAKnF,iBAAiB,iBAAmBC,IAC1CpB,KAAK2G,KAAKiK,WAAWxP,EAAE,IAI3BpB,KAAKsG,KAAKnF,iBAAiB,cAAgBC,IACvCpB,KAAK2G,KAAKiK,WAAWxP,EAAE,IAG3BpB,KAAKsG,KAAKnF,iBAAiB,gBAAkBC,IACzCpB,KAAK2G,KAAKiK,WAAWxP,EAAE,GAE/B,CAOA8O,UAAAA,CAAW9O,GACPpB,KAAKwP,KAAK3B,YAAYzM,EAAE0M,QAC5B,CACAsC,UAAAA,CAAWhP,GAEJpB,KAAK2G,KAAKmK,UACT9Q,KAAKwP,KAAK9B,QAId1N,KAAKwP,KAAKzB,UAAU3M,EACxB,CACAkP,QAAAA,CAASlP,GACLpB,KAAKwP,KAAKvB,QAAQ7M,EACtB,CAMAmP,WAAAA,CAAYnP,GACR,MAAMgN,EAAUhN,EAAE2P,eAClB/Q,KAAK2G,KAAKwH,WAAW/M,GACrBpB,KAAKwP,KAAK3B,YAAYO,EAAQ,GAAGN,QAErC,CACA0C,UAAAA,CAAWpP,GACPpB,KAAK2G,KAAK0H,UAAUjN,GACjBpB,KAAK2G,KAAKmK,UACT9Q,KAAKwP,KAAK9B,QAGd1N,KAAKwP,KAAKnB,UAAUjN,EAGxB,CACAsP,SAAAA,CAAUtP,GACNpB,KAAK2G,KAAK2H,SAASlN,GACnBpB,KAAKwP,KAAKtB,WACd,E,2ECnJJ,MAAMuB,EAUF9P,WAAAA,CAAY2G,EAAOiJ,EAAeyB,GAC9BhR,KAAKsG,KAAOA,EACZtG,KAAKiR,cAAgB1B,EACrBvP,KAAKgR,QAAUA,EAGfhR,KAAKkR,QAAU,GACflR,KAAKmR,UAAY,EAGjBnR,KAAKoR,eAAiB,EAEtBpR,KAAK8Q,WAAY,EAEjB9Q,KAAKyK,YAAc,EAEnBzK,KAAK4C,MACT,CAEAA,IAAAA,GAEI5C,KAAKqR,eAAiB,CAClBpJ,YAAc,IACdC,aAAe,GACfoJ,SAAW,IACXC,SAAW,EACXC,aAAe,GACfC,aAAe,OAEnBzR,KAAK0R,WAAW1R,KAAKgR,SACrBhR,KAAK4G,YAGT,CAWA8K,UAAAA,CAAWV,GAEgB,oBAAZA,EAEPhR,KAAKgR,QAAUhR,KAAKqR,eAGpBM,OAAOC,KAAKZ,GAASa,SAASC,IAEO,qBAAvB9R,KAAKgR,QAAQc,KACnB9R,KAAKgR,QAAQc,GAAOd,EAAQc,GAChC,IAKR9R,KAAKkI,aAAelI,KAAKgR,QAAQe,UACjC/R,KAAKiI,YAAcjI,KAAKgR,QAAQ/I,YAChCjI,KAAKsR,SAAWtR,KAAKgR,QAAQM,SAC7BtR,KAAKuR,SAAWvR,KAAKgR,QAAQO,SAC7BvR,KAAKwR,aAAexR,KAAKgR,QAAQQ,YAErC,CAIArD,UAAAA,CAAW/M,GACiB,IAArBA,EAAEgN,QAAQxJ,SACT5E,KAAK8Q,WAAY,EAGzB,CACAzC,SAAAA,CAAUjN,GACN,GAAwB,IAArBA,EAAEgN,QAAQxJ,OAAc,CACvB,MAAMoN,EAAU/M,KAAK4J,IAAIzN,EAAEgN,QAAQ,GAAGN,QAAU1M,EAAEgN,QAAQ,GAAGN,SAE7D,GAAI9N,KAAKoR,cAAgB,EAAG,CAExB,IAAIa,EAEDD,EAAUhS,KAAKoR,gBACda,GAAS,GAGVD,EAAUhS,KAAKoR,gBACda,GAAS,GAGb,MAAMC,EAAclS,KAAKmS,gBACrB/Q,EAAEgN,QAAQ,GAAGN,QACb1M,EAAEgN,QAAQ,GAAGN,QACb1M,EAAEgN,QAAQ,GAAGgE,QACbhR,EAAEgN,QAAQ,GAAGgE,SAGjBpS,KAAKqS,WAAWJ,EAASC,EAAYI,OAASJ,EAAYK,OAC9D,CAEAvS,KAAKoR,cAAgBY,CACzB,CAEJ,CACA1D,QAAAA,CAASlN,GACLpB,KAAK8Q,WAAY,EAEb1P,EAAE2P,eAAenM,OAAS,IAC1B5E,KAAKoR,eAAiB,EAG9B,CAQAT,YAAAA,CAAavP,GACTpB,KAAKkR,QAAQhQ,KAAKE,EAEtB,CAEAyP,WAAAA,CAAYzP,GAGR,MAAMO,EAAQ3B,KAAKkR,QAAQsB,WAAWC,GAAaA,EAASC,YAActR,EAAEsR,YAI5E,GAHA1S,KAAKkR,QAAQvP,GAASP,EAGM,IAAxBpB,KAAKkR,QAAQtM,OAAc,CAE3B,MAAMoN,EAAU/M,KAAK4J,IAAI7O,KAAKkR,QAAQ,GAAGpD,QAAU9N,KAAKkR,QAAQ,GAAGpD,SAEnE,GAAI9N,KAAKmR,SAAW,EAAG,CAEnB,IAAIc,GAAS,EAEVD,EAAUhS,KAAKmR,WACdc,GAAS,GAGVD,EAAUhS,KAAKmR,WACdc,GAAS,GAGb,MAAMC,EAAclS,KAAKmS,gBACrBnS,KAAKkR,QAAQ,GAAGpD,QAChB9N,KAAKkR,QAAQ,GAAGpD,QAChB9N,KAAKkR,QAAQ,GAAGkB,QAChBpS,KAAKkR,QAAQ,GAAGkB,SAGpBpS,KAAKqS,WAAWJ,EAASC,EAAYI,OAASJ,EAAYK,OAC9D,CAEAvS,KAAKmR,SAAWa,CAEpB,CACJ,CAEApB,UAAAA,GACI5Q,KAAK8Q,WAAY,EAGjB9Q,KAAKkR,QAAU,EAMnB,CAEAiB,eAAAA,CAAgBQ,EAAKC,EAAKC,EAAKC,GAC3B,MAAMC,EAAQH,EAAKD,EACbK,EAAQF,EAAKD,EACbP,EAASK,EAAa,GAARI,EACdR,EAASM,EAAa,GAARG,EACpB,MAAO,CAACV,SAASC,SACrB,CAEAU,YAAAA,CAAa7R,GAET,MAAMO,EAAQ3B,KAAKkR,QAAQsB,WAAWC,GAAaA,EAASC,YAActR,EAAEsR,YAC5E1S,KAAKkR,QAAQgC,OAAOvR,EAAO,EAC7B,CAWFwR,OAAAA,CAAQlB,GACAjS,KAAKoT,SAASnB,KAClBjS,KAAK2J,SAAWsI,EAChBjS,KAAK8Q,WAAY,EACjB9Q,KAAKqT,cACLrT,KAAKyK,YAAc,EACnBzK,KAAKsG,KAAKlB,cAAc,IAAIC,YAAY,SAAU,CAC9CC,SAAS,KAGbtF,KAAK8Q,WAAY,EACrB,CAOAuB,UAAAA,CAAWJ,EAASK,EAASC,GAErBvS,KAAKoT,SAASnB,KAClBjS,KAAK2J,SAAWsI,EAChBjS,KAAK8Q,WAAY,EACjB9Q,KAAKqT,cAELrT,KAAKsT,eAAehB,EAASC,GAE7BvS,KAAKsG,KAAKlB,cAAc,IAAIC,YAAY,SAAU,CAC9CC,SAAS,KAEjB,CAQAyK,UAAAA,CAAW3O,GAEP,IAAIpB,KAAKoT,SAAShS,EAAEmS,OAAS,GAAI,OACjCvT,KAAK2J,SAAWvI,EAAEmS,OAAS,EAE3BvT,KAAKqT,cAEL,MAAMf,EAASlR,EAAE0M,QAAU9N,KAAKsG,KAAKmH,wBAAwBhC,KACvD8G,EAASnR,EAAEgR,QAAUpS,KAAKsG,KAAKmH,wBAAwBnB,IAC7DtM,KAAKsT,eAAehB,EAASC,GAE7BvS,KAAKsG,KAAKlB,cAAc,IAAIC,YAAY,SAAU,CAC9CC,SAAS,IAGjB,CAEA8N,QAAAA,CAASnB,GACL,MAAM5K,EAAYmH,KAAKC,WACIpK,IAAvBrE,KAAKwT,gBACLxT,KAAKwT,cAAgBnM,GAEzB,MAAMK,EAAUL,EAAYrH,KAAKwT,cAEjC,GAAG9L,GAAW1H,KAAKgR,QAAQS,aACvB,OAAO,EAIX,GAFAzR,KAAKwT,cAAgBnM,EAElB4K,EAAQ,CAEP,GAAGjS,KAAKkI,cAAgBlI,KAAKuR,SAAU,OAAO,EAC9CvR,KAAKkI,cAAgBlI,KAAKiI,WAC9B,KAAK,CAED,GAAGjI,KAAKkI,cAAgBlI,KAAKsR,SAAU,OAAO,EAC9CtR,KAAKkI,cAAgBlI,KAAKiI,WAC9B,CAEA,OAAO,CACX,CAIAoL,WAAAA,IACOrT,KAAKkI,cAAgBlI,KAAKuR,UAAYvR,KAAKkI,cAAgBlI,KAAKsR,YAC/DtR,KAAKkI,aAAejD,KAAKQ,IAAIR,KAAKS,IAAI1F,KAAKkI,aAAclI,KAAKsR,UAAWtR,KAAKuR,UAGtF,CAGA3K,UAAAA,GACI,MAAM6M,EAAWzT,KAAKiR,cAAc/K,MACpC,IAAI8C,EAAQgC,SAASiB,gBAAgBC,YAAcuH,EAEnD,GADAzK,GAAShJ,KAAKwR,aACXxI,GAAS,EACRhJ,KAAKkI,aAAelI,KAAKuR,aAD7B,CAKA,GAAGvI,GAAShJ,KAAKsR,SAGb,OAFAtR,KAAKuR,SAAWvR,KAAKsR,cACrBtR,KAAKkI,aAAelI,KAAKsR,UAK7BtR,KAAKuR,SAAWvI,EACbA,EAAQhJ,KAAKkI,eACZlI,KAAKkI,aAAec,EAXxB,CAcJ,CAEAsK,cAAAA,CAAelL,EAAIE,GACZtI,KAAK0T,kBACJ1T,KAAKyK,WAAa,CACdrC,EAAIA,EACJE,EAAIA,GAGRtI,KAAKyK,YAAc,CAE3B,CAEAiJ,eAAAA,GACI,MAAMC,EAAc,GACdC,EAAW5T,KAAKsR,UAAatR,KAAKuR,SAAWvR,KAAKsR,UAAYqC,EACpE,OAAO3T,KAAKkI,aAAe0L,CAC/B,E,8FC/UJ,MAAM9N,EAcFnG,WAAAA,CAAYkU,EAAc7R,EAAiB8R,EAAc/N,GAErD/F,KAAK+T,aAAeF,EAEpB7T,KAAK0C,gBAAkBV,EAEvBhC,KAAK8T,YAAcA,EAEnB9T,KAAKgU,UAAYjO,EAEjB/F,KAAKiU,KAAMjU,KAAKkU,KAAOlU,KAAKmU,MAAQ,EAAInU,KAAKoU,MAAQ,EAErDpU,KAAKqU,UAAYrU,KAAKsU,SAUtBtU,KAAKuU,eAAiB,CAAC,CAAC,KAKxBvU,KAAKwU,WAOLxU,KAAKyU,cAAgB,CAAC,EAEtBzU,KAAK0U,YACL1U,KAAK2U,cAAgB,IAErB3U,KAAK4U,kBAAevQ,EAEpBrE,KAAK6U,cAAe,EAEpB7U,KAAK4C,MACT,CAEAA,IAAAA,GAEI5C,KAAK8U,aAAe9U,KAAK+T,aAAanI,aACtC5L,KAAKoL,eAAiBpL,KAAK+T,aAAalI,gBACxC7L,KAAKuL,YAAcvL,KAAK+T,aAAapI,YACrC3L,KAAK+U,YAAc/U,KAAK+T,aAAa1R,aAErCrC,KAAKqU,UAAYrU,KAAK8U,aAAavQ,WAAW,MAC9CvE,KAAKgV,YAAchV,KAAKoL,eAAe7G,WAAW,MAClDvE,KAAKsU,SAAWtU,KAAKuL,YAAYhH,WAAW,KAAO,CAAC0Q,oBAAoB,IACxEjV,KAAKkV,SAAWlV,KAAKuL,YAAYhH,WAAW,MAE5CvE,KAAKmV,aAAenV,KAAKgU,SAE7B,CAEAoB,WAAAA,CAAYA,GACRpV,KAAK6U,aAAeO,EACpBpV,KAAKqV,gBACT,CAEAA,cAAAA,GACQrV,KAAK6U,eACT7U,KAAKsV,gBACLtV,KAAKkJ,UACLlJ,KAAKuV,WACT,CAMAD,aAAAA,GACItV,KAAKwU,WAAa,IAAIgB,IAGtBxV,KAAK0C,gBAAgBmP,SAAQ,CAAC4D,EAAK9T,KAE/B,GAAGA,GAASgQ,OAAOC,KAAK5R,KAAK8T,aAAalP,OAAQ,OAGlD,MAAM8Q,EAAOD,EAAG3J,GAGV6J,EAAO3V,KAAK8T,YAAY4B,GAAMC,KAE9BC,EAAY5V,KAAKmV,aAAaQ,GAI9BE,EAAY,GAKlBJ,EAAGK,SAASjE,SAAQtR,IAGhB,MAAMwV,EAAOxV,EAGPyV,EAAMrQ,SAASoQ,EAAKE,OAGpBC,EAASvQ,SAASoQ,EAAKG,QAGvBC,EAAOnW,KAAKoW,iBAAiBL,EAAKM,UAGxC,IAAIC,EAAYC,EAAAA,aAAaC,aAAaxW,KAAKwU,YAC/CxU,KAAKwU,WAAWiC,IAAIH,GACpBA,EAAYC,EAAAA,aAAaG,SAASJ,GAElC,MAAMK,EAAU,CACZjB,KAAOA,EACPkB,QAAUT,EACVU,SAAWP,EACXQ,UAAYlB,EACZmB,MAAQlB,GAKNmB,EAAOT,EAAAA,aAAaU,eAAeX,GAMD,qBAA9BtW,KAAKuU,eAAeyB,KAC1BhW,KAAKuU,eAAeyB,GAAO,IAEiB,qBAAtChW,KAAKuU,eAAeyB,GAAKE,KAC/BlW,KAAKuU,eAAeyB,GAAKE,GAAU,IAIvClW,KAAKuU,eAAeyB,GAAKE,GAAQc,GAAQL,CAAO,GAClD,IAMN3W,KAAK0C,gBAAgBkC,OAAS,CAElC,CAGAsE,OAAAA,CAAQiL,EAAQC,EAAQH,EAAOC,EAAOvL,EAAUC,GAC5C5I,KAAKmU,MAAQA,EACbnU,KAAKoU,MAAQA,EACbpU,KAAKiU,KAAOA,EACZjU,KAAKkU,KAAOA,EACZlU,KAAK2I,QAAUA,EACf3I,KAAK4I,QAAUA,EACf5I,KAAKkX,UACT,CAGAA,QAAAA,GACQlX,KAAK6U,eACT1P,OAAOwI,aAAa3N,KAAK0U,aACzB1U,KAAKmX,UAAUnX,KAAKsU,UACpBtU,KAAKmX,UAAUnX,KAAKgV,aAEpBhV,KAAKoX,eAELpX,KAAK0U,YAAcvP,OAAO+B,YAAY,KAClClH,KAAKqX,iBAAiB,GACtBrX,KAAK2U,eACb,CAEAyC,YAAAA,GAEIpX,KAAKmX,UAAUnX,KAAKqU,WACpB,MAAMiD,EAAStX,KAAKuX,yBAEPlT,GAAViT,GAEH3F,OAAO6F,OAAOF,GAAQzF,SAASkE,IAE3B,GAAG/V,KAAKyX,SAAS1B,EAAKL,MAAO,CACzB,MAAMgC,EAAY3B,EAAKa,QACjBe,EAAIpB,EAAAA,aAAaqB,aAAarB,EAAAA,aAAaG,SAASX,EAAKe,WAAaf,EAAKgB,OACjF/W,KAAK6X,aAAa7X,KAAKqU,UAAYqD,EAAYC,OAAItT,EAAY,EACnE,IAIR,CAMAgT,eAAAA,GACI,MAAMC,EAAStX,KAAKuX,yBACPlT,GAAViT,IAEHtX,KAAKmX,UAAUnX,KAAKsU,UAEpB3C,OAAO6F,OAAOF,GAAQzF,SAASkE,IAE3B,GAAG/V,KAAKyX,SAAS1B,EAAKL,MAAO,CACzB,MAAMgC,EAAY3B,EAAKa,QACjBkB,EAAOvB,EAAAA,aAAaqB,aAAa7B,EAAKc,SAAW,GAEvDzP,uBAAsB,IAAMpH,KAAK6X,aAAa7X,KAAKsU,SAAWoD,EAAYI,OAAOzT,IACrF,KAIR,CAEAwT,YAAAA,CAAaE,EAAML,EAAYM,EAAYC,EAAcC,EAAY,GAEjEH,EAAIE,YAAcA,EAClBF,EAAIG,UAAY,EAChBH,EAAIC,UAAYA,EAEhBD,EAAIG,UAAYA,EAEhBH,EAAII,YACJ,IAAK,IAAI7X,EAAI,EAAGA,EAAIoX,EAAU9S,OAAQtE,IAAK,CACvC,MAAMkK,EAASkN,EAAUpX,GAEnB8X,EAAQnT,KAAKC,MAAwC,IAAhC6S,EAAIhP,OAAO7C,MAAQlG,KAAKiU,OAC7CoE,EAAQpT,KAAKC,MAAyC,IAAjC6S,EAAIhP,OAAO5C,OAASnG,KAAKkU,OAI9C9L,EAAMoC,EAAOpC,EAAIpI,KAAKiU,KAAQmE,EAASpY,KAAK2I,QAC5CL,EAAKkC,EAAOlC,EAAItI,KAAKkU,KAAOmE,EAASrY,KAAK4I,QAEhDmP,EAAIO,OAAOlQ,EAAGE,EAClB,CAEAyP,EAAID,OAEJC,EAAIQ,YACDN,GAAaF,EAAIS,QACxB,CAQAf,QAAAA,CAASgB,GACL,MAAMC,EAAW1Y,KAAK8T,YAAY2E,GAClC,QAAgBpU,IAAbqU,EAAwB,CACvB,MAAMC,EAAUhT,SAAU+S,EAASC,QAAU,IACvChD,EAAO+C,EAAS/C,KAChBiD,EAAY5Y,KAAKyU,cAAckE,QAC/BE,EAAc7Y,KAAKyU,cAAcqE,MAEvC,YAAiBzU,IAAduU,QAA2CvU,IAAhBwU,MAE3BF,EAAUC,EAAUG,YAAcJ,EAAUC,EAAUI,eAIrDH,EAAYI,SAAStD,GAG7B,CACA,OAAO,CACX,CAMAuD,gBAAAA,CAAiBP,GACb3Y,KAAKyU,cAAckE,QAAU,CACzBI,WAAaJ,EAAQlT,IACrBuT,WAAaL,EAAQjT,KAEzB1F,KAAKmZ,iBACT,CAEAC,cAAAA,CAAeN,GACX9Y,KAAKyU,cAAcqE,MAAQA,EAC3B9Y,KAAKmZ,iBACT,CAGAA,eAAAA,GACQnZ,KAAK6U,cACT7U,KAAKkX,UACT,CAOAd,gBAAAA,CAAiBiD,GACb,IAAI3B,EAAY,GAChB,MAAM4B,EAAMD,EACNE,EAAQD,EAAIE,MAAM,KACxB,IAAK,IAAIlZ,EAAI,EAAGA,EAAIiZ,EAAM3U,OAAQtE,IAAK,CACnC,MAAMmZ,EAAOF,EAAMjZ,GAAGkZ,MAAM,KAE5B,IAAK,IAAIE,EAAI,EAAGA,EAAID,EAAK7U,OAAQ8U,IAAK,CAClC,MAAMC,EAAMF,EAAKC,GAAGF,MAAM,KAC1B9B,EAAUxW,KAAK,CACXkH,EAAIuR,EAAI,GACRrR,EAAIqR,EAAI,IAEhB,CACA,CACJ,OAAOjC,CACX,CAMAnC,QAAAA,GAEIvV,KAAK+U,YAAY5T,iBAAiB,aAAeC,IAC7CpB,KAAK4Z,eAAexY,EAAE,IAIvB+D,OAAO0U,cAEN7Z,KAAK+U,YAAY5T,iBAAiB,eAAiBC,IAC/CpB,KAAK6N,YAAYzM,EAAE,IAEvBpB,KAAK+U,YAAY5T,iBAAiB,aAAeC,IAC1CpB,KAAK8Z,aACJ9Z,KAAK+Z,WAAW3Y,EACpB,MAMJpB,KAAK+U,YAAY5T,iBAAiB,aAAeC,IAC7CpB,KAAK6N,YAAYzM,EAAE,IAEvBpB,KAAK+U,YAAY5T,iBAAiB,WAAaC,IACxCpB,KAAK8Z,aACJ9Z,KAAK+Z,WAAW3Y,EACpB,IAGJpB,KAAK+U,YAAY5T,iBAAiB,cAAgBC,IAC9CpB,KAAK6N,YAAYzM,EAAE,IAGvBpB,KAAK+U,YAAY5T,iBAAiB,YAAcC,IACzCpB,KAAK8Z,aACJ9Z,KAAKga,WAAW5Y,EACpB,IAIZ,CAEAwY,cAAAA,CAAexY,GACX,MAAM6Y,EAAaja,KAAKka,gBAAgB,CAAC9R,EAAIhH,EAAE0M,QAAUxF,EAAIlH,EAAEgR,eAC5C/N,IAAf4V,EAIJja,KAAKma,kBAAkBF,EAAa,CAAC7R,EAAIhH,EAAE0M,QAAUxF,EAAIlH,EAAEgR,UAHvDpS,KAAKoa,iBAKb,CAGAL,UAAAA,CAAW3Y,GACP,MAAM6Y,EAAaja,KAAKka,gBAAgB,CAAC9R,EAAIhH,EAAE0M,QAAUxF,EAAIlH,EAAEgR,eAC5C/N,IAAf4V,GACAja,KAAKqa,kBAAkBJ,EAAa,CAAC7R,EAAIhH,EAAE0M,QAAUxF,EAAIlH,EAAEgR,SAEnE,CACA4H,UAAAA,CAAW5Y,GACP,MAAMkZ,EAAQlZ,EAAE2P,eAAe,GACzBkJ,EAAaja,KAAKka,gBAAgB,CAAC9R,EAAIkS,EAAMxM,QAAUxF,EAAIgS,EAAMlI,eACpD/N,IAAf4V,GACAja,KAAKqa,kBAAkBJ,EAAa,CAAC7R,EAAIkS,EAAMxM,QAAUxF,EAAIgS,EAAMlI,SAE3E,CAIAvE,WAAAA,GACI7N,KAAKua,UAAY/L,KAAKC,KAC1B,CAEAqL,SAAAA,GACI,MAAMU,EAAIhM,KAAKC,MAET/G,EAAU8S,EAAIxa,KAAKua,UAEzB,OAAG7S,EAAU,GAKjB,CAEAyS,iBAAAA,CAAkBM,EAAQC,GAEtB,MAAMC,EAAa3a,KAAK4a,oBAAoBH,GAC5C,IAAIE,EACA,OAIJ,MAAMrD,EAASqD,EAAWrD,YACDjT,IAAtBrE,KAAK4U,aACJ5U,KAAK6a,aAAavD,GAGftX,KAAK4U,aAAac,OAAS4B,EAAO5B,OACjC1V,KAAKmX,UAAUnX,KAAKgV,aACpBhV,KAAK6a,aAAavD,IAM1BtX,KAAK+U,YAAYvJ,MAAMsP,OAAS,UAOhC3V,OAAOC,cAAc,IAAIC,YAAY,YAAa,CAC9CC,SAAS,EACToF,OAAS,CACLgQ,SAAWA,EACXpD,OAASqD,EAAWrD,UAGhC,CAEA8C,eAAAA,QAE6B/V,IAAtBrE,KAAK4U,eACJ5U,KAAKmX,UAAUnX,KAAKgV,aACpBhV,KAAK4U,kBAAevQ,GAIxBrE,KAAK+U,YAAYvJ,MAAMsP,OAAS,UAChC3V,OAAOC,cAAc,IAAIC,YAAY,eAAgB,CACjDC,SAAS,IAEjB,CAEA+U,iBAAAA,CAAkBI,EAAQC,GAEtB1a,KAAKoa,kBACL,MAAMO,EAAa3a,KAAK4a,oBAAoBH,GAE5C,QAAkBpW,IAAfsW,EACC,OAOJ,MAAMlC,EAAakC,EAAWrD,OAAO5B,KACrCvQ,OAAOC,cAAc,IAAIC,YAAY,YAAa,CAC9CC,SAAS,EACToF,OAAS,CACLgQ,SAAWA,EACXpD,OAAStX,KAAK8T,YAAY2E,MAItC,CAEAoC,YAAAA,CAAavD,GACTtX,KAAK6X,aAAa7X,KAAKgV,YAAcsC,EAAOV,QAAU,cAAgB,UAAY,GAClF5W,KAAK4U,aAAe0C,CACxB,CAGA4C,eAAAA,CAAgBb,GACZ,MAAM0B,EAAW/a,KAAK8U,aAAarH,wBAC7BrF,EAAInD,KAAKC,MAAMmU,EAAIjR,EAAI2S,EAAStP,MAChCnD,EAAIrD,KAAKC,MAAMmU,EAAI/Q,EAAIyS,EAASzO,KAGhC0O,EAAQhb,KAAKsU,SAAS2G,aAAa7S,EAAGE,EAAG,EAAG,GAC5C4S,EAAOF,EAAME,KAGnB,GAAgB,IAAZA,EAAK,IAAwB,IAAZA,EAAK,IAAwB,IAAZA,EAAK,GAK3C,OAAOA,CACX,CAEAN,mBAAAA,CAAoBH,GAGhB,MAAMnD,EAAStX,KAAKuX,oBACpB,QAAclT,IAAXiT,EAAsB,OAGzB,MAAMK,EAAI,CAACwD,IAAMV,EAAM,GAAKW,MAAMX,EAAM,GAAKY,KAAMZ,EAAM,IAGnDa,EAAU/E,EAAAA,aAAaU,eAAeU,GAGtC5B,EAAOuB,EAAOgE,GACpB,YAAYjX,IAAT0R,EAII,CAACuB,OAASvB,QAJjB,CAKJ,CAYAwB,iBAAAA,GAEI,GAA+C,qBAArCvX,KAAKuU,eAAevU,KAAKmU,OAAnC,CAKA,GAA2D,qBAAjDnU,KAAKuU,eAAevU,KAAKmU,OAAOnU,KAAKoU,OAK/C,OAAOpU,KAAKuU,eAAevU,KAAKmU,OAAOnU,KAAKoU,OAJxCpU,KAAKmX,UAAUnX,KAAKsU,SAHxB,MAFItU,KAAKmX,UAAUnX,KAAKsU,SAU5B,CAEA6C,SAAAA,CAAUY,GACNA,EAAIvP,UAAU,EAAG,EAAGuP,EAAIhP,OAAO7C,MAAO6R,EAAIhP,OAAO5C,OACrD,E,wGC7jBJ,MAAMoV,EACF5b,WAAAA,CAAY6b,EAAYC,EAAc3H,GAElC9T,KAAKwb,UAAYA,EAEjBxb,KAAK0b,aAAeD,EAEpBzb,KAAK2b,aAAe7H,EAEpB9T,KAAK4b,gBAAkB,GAEvB5b,KAAK6b,SAAU7b,KAAK8b,aAExB,CAEAlZ,IAAAA,CAAKmZ,GACD/b,KAAKgc,eAAiBD,EACtB/b,KAAKuF,QACT,CAEAA,MAAAA,GAEI,MAAM0W,EAASjc,KAAK0b,aAAaO,OAC3BC,EAAcD,EAAOE,gBAC3B,IAAIC,EAAQH,EAAOI,aAAeJ,EAAOK,gBAEzC,IAAK,IAAIhc,EAAI,EAAGA,EAAI4b,EAAa5b,IAAK,CAElC,MAAMC,EAAI6b,EAAMxb,QAAQ,QAAUN,GAAGM,QAAQ,QAAU,KACvDZ,KAAK4b,gBAAgB1a,KAAKX,EAC9B,CAEAP,KAAK8b,cAAgB,IAAInR,EAAAA,cAAc3K,KAAKwb,WAE5C,MAAM3Z,EAAS7B,KAAK8b,cAAc/Q,eAE5BwR,EAAe,CACjBnZ,SAAW6Y,EAAO7Y,SAClBC,UAAY4Y,EAAO5Y,UACnBgZ,aAAeJ,EAAOI,aACtBrZ,YAAciZ,EAAOjZ,YACrBE,cAAgB+Y,EAAO/Y,cACvB+D,SAAWgV,EAAOhV,SAClBxD,WAAawY,EAAOxY,WACpBF,UAAY0Y,EAAO1Y,UAEnBiZ,YAAcxc,KAAK0b,aAAae,MAAMD,YACtCE,kBAAoB1c,KAAK0b,aAAae,MAAMC,kBAC5CC,YAAc3c,KAAK0b,aAAae,MAAME,YACtCC,mBAAqB5c,KAAK0b,aAAae,MAAMG,mBAC7CC,SAAW7c,KAAK0b,aAAae,MAAMK,cACnCC,SAAW/c,KAAK0b,aAAae,MAAMM,SAEnC3W,YAAcpG,KAAK0b,aAAasB,SAASrW,KACzCN,YAAcrG,KAAK0b,aAAasB,SAASxN,KACzCzJ,SAAW/F,KAAK0b,aAAatZ,SAAS6a,UAI1Cjd,KAAK6b,SAAW,IAAIja,EAAAA,SAChBC,EACA7B,KAAK4b,gBACLW,EACAvc,KAAKgc,eACLhc,KAAK2b,cAGTxW,OAAOhE,iBAAiB,mBAAoB,IAAMnB,KAAKkd,YAAa,CAACC,MAAO,IAC5End,KAAKod,kBACT,CAEAA,gBAAAA,QACyB/Y,IAAlBrE,KAAK6b,WACR7Q,SAASC,eAAejL,KAAKwb,WAAWhQ,MAAM6R,gBAAkBrd,KAAK0b,aAAaO,OAAOqB,SAC7F,CAEAJ,QAAAA,GAEIld,KAAK4b,gBAAkB,KAEvB5b,KAAK6b,SAAS9U,MAEd5B,OAAOC,cAAc,IAAIC,YAAY,aAAc,CAC/CC,SAAS,KAGb,MAAMiY,EAAQvd,KAAK0b,aAAatZ,SAASgT,YACzCpV,KAAKoV,YAAYmI,EACrB,CAGAC,gBAAAA,GACI,YAAqBnZ,IAAlBrE,KAAK6b,SAA+B,EAChC7b,KAAK6b,SAAS3X,aACzB,CAEAuZ,WAAAA,GACIzd,KAAK6b,SAAS1U,MAClB,CAEAuW,WAAAA,GACI1d,KAAK6b,SAAStU,MAClB,CAEAoW,IAAAA,GACI3d,KAAK6b,SAASvR,WAAU,EAC5B,CAEAsT,IAAAA,GACI5d,KAAK6b,SAASvR,WAAU,EAC5B,CAEAuT,QAAAA,CAAS1J,GACLnU,KAAK6b,SAASxR,gBAAgB8J,EAClC,CAEA2J,eAAAA,CAAgBnF,GACT3Y,KAAK6b,UAAU7b,KAAK6b,SAAStU,OAC7BvH,KAAK6b,SAASzZ,UAAUpC,KAAK6b,SAASzZ,SAAS8W,iBAAiBP,EACvE,CACAoF,eAAAA,CAAgBjF,GACT9Y,KAAK6b,UAAU7b,KAAK6b,SAAStU,OAC7BvH,KAAK6b,SAASzZ,UAAUpC,KAAK6b,SAASzZ,SAASgX,eAAeN,EACrE,CAEAkF,cAAAA,CAAgBlM,GACT9R,KAAK6b,UAAU7b,KAAK6b,SAAS7V,aAAaW,KAAK+K,WAAWI,EACjE,CAEAqB,OAAAA,CAAQlB,GACDjS,KAAK6b,UAAU7b,KAAK6b,SAAS7V,aAAaW,KAAKwM,QAAQlB,EAC9D,CAEAgM,QAAAA,CAASC,GACL,OAAOle,KAAK0b,aAAaO,OAAOiC,EACpC,CACAC,UAAAA,CAAWD,GACP,OAAOle,KAAK0b,aAAatZ,SAAS8b,EACtC,CAEAE,eAAAA,GACI,OAAIpe,KAAK6b,SACF7b,KAAK6b,SAASrY,YADK,CAE9B,CAEA4R,WAAAA,CAAYmI,GACJvd,KAAK6b,UACN7b,KAAK6b,SAASzZ,UAAUpC,KAAK6b,SAASzZ,SAASgT,YAAYmI,EAClE,CAEAc,eAAAA,GACI,OAAIre,KAAK6b,SACF7b,KAAK6b,SAASxZ,aADK,IAE9B,CAEAic,cAAAA,QACyBja,IAAlBrE,KAAK6b,WACR7b,KAAK6b,SAAS9X,QAAS,EAC3B,E,qEClKJ,MAAM6B,EAEFjG,WAAAA,CAAa4e,GAETve,KAAKue,UAAYA,EACjBve,KAAK4C,MACT,CAEAA,IAAAA,GACI5C,KAAK0G,QACT,CAEAA,MAAAA,GAEIiL,OAAO6F,OAAOxX,KAAKue,WAAW1M,SAASvL,IACnCA,EAAKJ,MAAQ8E,SAASiB,gBAAgBC,YACtC5F,EAAKH,OAAS6E,SAASiB,gBAAgBE,YAAY,GAG3D,E,sFCnBJ,MAAMrF,EAWFnH,WAAAA,CAAaqR,GAIT,GAFAhR,KAAKgR,QAAUA,EAEyB,qBAA9BA,EAAQ0L,mBAA0E,kBAA9B1L,EAAQ0L,kBAElE,MADAxR,MAAM,yBACA,IAAI1F,MAAM,yBAQpBxF,KAAKuP,aAAeyB,EAAQ0L,kBAM5B1c,KAAKwe,YAAcxe,KAAKuP,aAAakP,UAGrCze,KAAK+c,SAAW/L,EAAQ+L,SACxB/c,KAAK6c,SAAW7L,EAAQ6L,SASxB7c,KAAK0e,qBAAuB,KAE5B1e,KAAKsD,gBAAkB,EACvBtD,KAAK6D,cAAgB,EACrB7D,KAAK2e,mBACL3e,KAAK4e,cAML5e,KAAK6e,cAAgB,IAAIC,MAEzB9e,KAAK+e,WAAY,EAEjB/e,KAAKgf,aACLhf,KAAKif,aAAc,EAEnBjf,KAAK4C,MACT,CAEAA,IAAAA,GAEI5C,KAAKkf,iBAELlf,KAAKmf,YAAcxN,OAAOyN,QAAQpf,KAAKuP,cAClC8P,MAAK,EAAE,CAACC,IAAI,CAACC,KAAOD,EAAEC,IACtBC,QAAO,CAACC,GAAIC,EAAGC,MAAO,IAAMF,EAAG,CAACC,GAAIC,KAAM,CAAC,EAGpD,CAGAT,cAAAA,GAEI,GAAI,iEAAiEU,KAAKC,UAAUC,WAAY,CAE5F,IAAIC,YAAYC,OAGZ,YADAhgB,KAAK6c,SAAW,IAIpB,GAAIkD,YAAYC,OAAOC,gBAAkB,IAGrC,YADAjgB,KAAK6c,SAAW,GAGxB,CACJ,CAUA/T,UAAAA,CAAWoX,EAAiBxX,EAAayX,EAAenX,GAKpD,GAHAhJ,KAAKogB,cAAcD,GACnBngB,KAAKqgB,uBAAuBrgB,KAAK2e,oBAE9BwB,GAAgBngB,KAAKwe,YAAa,OAAOxe,KAAKsgB,YAAW,GAM5D,GAJAtgB,KAAKsD,gBAAkB4c,EACvBlgB,KAAK6D,cAAgB6E,EACrB1I,KAAK4e,cAAgB5V,EAElBhJ,KAAKif,YAGJ,OADAjf,KAAKif,aAAc,EACZjf,KAAKsgB,aAGhB,GAAGtgB,KAAK+e,UAAW,CACf,MAAMN,EAAYze,KAAK6e,cAAc0B,MAAMZ,IACvC,GACIA,EAAEO,iBAAmBlgB,KAAKsD,iBAC1Bqc,EAAEvL,QAAUpU,KAAK6D,eACjB8b,EAAEa,aAAexgB,KAAK2e,mBAGtB,OAAOgB,CACX,IAGJ,GAAwB,qBAAdlB,EACN,OAAOze,KAAKygB,mBAAmBhC,EAEvC,CAGA,OAAOze,KAAKsgB,YAEhB,CASAG,kBAAAA,CAAmBhC,GAEf,OAAO,IAAIje,SAAQ,CAACC,EAAUC,KAEtB+d,EAAUyB,iBAAmBlgB,KAAKsD,iBAClCmb,EAAUrK,QAAUpU,KAAK6D,eACzB4a,EAAU+B,aAAexgB,KAAK2e,mBAG9Ble,EAAQge,EAAU1V,QAGlBrI,GACJ,GAER,CAOA4f,UAAAA,CAAWtb,GAAQ,GACfG,OAAOwI,aAAa3N,KAAKgf,cACzB,MAAMze,EAAI,IAAIC,SAAQ,CAACC,EAAUC,KAC1BsE,EACCtE,IAEAV,KAAKgf,aAAe7Z,OAAO+B,YAAY,KAEnC,MAAMgZ,EAAiBlgB,KAAKsD,gBACtBoF,EAAa1I,KAAK6D,cAClB6c,EAAa1gB,KAAK2e,mBAClB1W,EAAcjI,KAAK4e,cAEnB+B,EAAS3gB,KAAK4gB,gBAAgBV,EAAiBxX,EAAagY,GAElE1gB,KAAK6gB,oBAAoBF,GAAUG,IAE/B,GAAG9gB,KAAK+e,UAAW,CACf,MAAMgC,EAAY,CACdb,eAAiBA,EACjB9L,MAAQ1L,EACR8X,WAAaE,EACb3X,OAAS+X,GAGb9gB,KAAKghB,YAAYD,EACrB,CAGI/gB,KAAKihB,YAAYf,EAAiBxX,EAAagY,EAAazY,IAC5DvH,IAEJD,EAAQqgB,EAAS,GACnB,GACF,IAER,IAGJ,OAAOvgB,CACX,CAMAygB,WAAAA,CAAYE,GAELlhB,KAAK6e,cAAc5F,SAASiI,KAE/BlhB,KAAKmhB,cACLnhB,KAAK6e,cAAc3d,KAAKggB,GAC5B,CAQAL,mBAAAA,CAAoBF,EAASS,GAEzB,MAAM3N,EAAWzT,KAAK0e,qBAChB2C,EAAYrhB,KAAKshB,0BAA0B7N,GAEjD,IAAI1K,EAASiC,SAASgB,cAAc,UAChC+L,EAAMhP,EAAOxE,WAAW,MAE5BwE,EAAO7C,MAAQuN,EACf1K,EAAO5C,OAASkb,EAEhB,MAAMtE,EAAW/c,KAAK+c,SAEhBwE,EAAStc,KAAK8J,MAAM0E,EAAWsJ,GAC/ByE,EAASvc,KAAK8J,MAAMsS,EAAYtE,GAEhC0E,EAAUhO,EAAWsJ,EACrB2E,EAAUL,EAAYtE,EAEtB4E,EAAqB,GAAXF,EAAeF,EAAO,EAAIA,EACpCK,EAAqB,GAAXF,EAAeF,EAAO,EAAIA,EAE1C,IAAInhB,EAAc,IAAIye,MAEtB,IAAI,IAAIxW,EAAG,EAAIA,EAAIsZ,EAAUtZ,IACzB,IAAI,IAAIF,EAAI,EAAIA,EAAIuZ,EAAUvZ,IAAM,CAEhC,MAAM7H,EAAI,IAAIC,SAAQ,CAACC,EAAUC,KAC7B,IAAImhB,EAAKzZ,EAAE2U,EACX+E,EAAKxZ,EAAEyU,EAEP,MAAMpb,EAAQggB,EAAUrZ,EAAIF,EACtBnH,EAAO,GAAE0f,MAAWhf,QACpBhB,EAAOG,EAAAA,MAAAA,CAAQ,KAAOG,GAE5B,IAAI8gB,EAAM,IAAI/gB,MACd+gB,EAAIC,SAAW,QAEfD,EAAIE,OAAS,KACTlK,EAAI9O,UAAU8Y,EAAKF,EAAIC,GACvBC,EAAM,KACNthB,GACM,EAEVshB,EAAIG,QAAU,KACVH,EAAM,KACNrhB,GAAQ,EAEZqhB,EAAI9gB,IAAMN,CAAI,IAGlBN,EAAYa,KAAKX,EAErB,CAGJC,QAAQe,IAAIlB,GAAamB,MAAK,KAC1B4f,EAASrY,GACT1I,EAAc,IAAI,GAE1B,CAkBA4gB,WAAAA,CAAYf,EAAiB9L,EAAQoM,EAAavY,GAE9C,OACIiY,IAAmBlgB,KAAKsD,iBACxB8Q,IAAUpU,KAAK6D,eACf2c,IAAexgB,KAAK2e,oBACpB1W,IAAgBjI,KAAK4e,aAM7B,CAUA7W,KAAAA,CAAMgQ,EAAMgK,EAAMF,EAAKC,GACnB/J,EAAIvP,UAAUqZ,EAAIC,EAAI/J,EAAIhP,OAAO7C,MAAO6R,EAAIhP,OAAO5C,QACnD4R,EAAI9O,UAAU8Y,EAAKF,EAAIC,EAC3B,CAUAlB,eAAAA,CAAgBV,EAAiBxX,EAAagY,GAE1C,IAAIyB,EAAeniB,KAAKgR,QAAQqL,aAAerc,KAAKgR,QAAQwL,YAE5D,IAAI,MAAO4F,EAAMC,KAAO1Q,OAAOyN,QAAQpf,KAAKmf,aACxC,GAAGuB,IAAe2B,EAAI,CAClB,MAAMC,EAAUtiB,KAAKgR,QAAQ4L,mBAAmBwF,GAChDD,EAAeA,EACVvhB,QAAQ,QAAUsf,GAClBtf,QAAQ,MAAQ0hB,GAChB1hB,QAAQ,OAAS8H,GACtB,KACJ,CAEJ,OAAOyZ,CACX,CAOA9B,sBAAAA,CAAuBK,GAEnB,IAAI,MAAO0B,EAAMC,KAAO1Q,OAAOyN,QAAQpf,KAAKmf,aACxC,GAAGkD,IAAO3B,EAAY,CAClB1gB,KAAK0e,qBAAuB1e,KAAKuP,aAAa6S,GAC9C,KACJ,CAER,CAMAhC,aAAAA,CAAcla,GAEV,IAAI,MAAOkc,EAAIA,EAAMC,KAAO1Q,OAAOyN,QAAQpf,KAAKmf,aAAc,CAC1D,GAAGjZ,GAASmc,EAAI,CACZriB,KAAK2e,mBAAqB0D,EAC1B,KACJ,CACAriB,KAAK2e,mBAAqB0D,CAC9B,CACJ,CAKAlB,WAAAA,GACI,GAAGnhB,KAAK6e,cAAcja,OAAS5E,KAAK6c,SAAU,CAE1C,IAAI0F,EAAUviB,KAAK6e,cAAc2D,QACjCD,EAAQxZ,OAAS,KACjBwZ,EAAU,IACd,CACJ,CAQAjB,yBAAAA,CAA0Bpb,GACtB,MAAMuc,EAASziB,KAAKgR,QAAQ5N,SAAWpD,KAAKgR,QAAQ3N,UAC9C8C,EAASD,EAAQuc,EAEvB,OAAOtc,CACX,E,u8BCnWJ,MAAMuc,GAAeC,EAAAA,EAAAA,oBACf,cAAE5gB,EAAa,WAAE6gB,IAAeC,EAAAA,EAAAA,IAAYH,GAC5CI,GAAkBC,EAAAA,EAAAA,KAAS,KAC7B,MAAMC,EAAOjhB,EAAckhB,MAAM7gB,SACjC,OAAO4gB,EAAKE,MAAM,IAGhBC,GAAeC,EAAAA,EAAAA,oBACf,QAAEC,EAAO,QAAEC,IAAYT,EAAAA,EAAAA,IAAYM,GAGnCI,EAAQC,EASRC,GAAUC,EAAAA,EAAAA,IAAIH,EAAMI,UACpBC,GAAMb,EAAAA,EAAAA,KAAS,IAAMU,EAAQR,MAAML,EAAWK,SAE9CC,GAASQ,EAAAA,EAAAA,IAAID,EAAQR,MAAMY,QAC3BC,GAAaJ,EAAAA,EAAAA,IAAIR,EAAOD,OAExBc,GAAaL,EAAAA,EAAAA,KAAI,GACjBM,GAAWN,EAAAA,EAAAA,IAAID,EAAQR,MAAMY,QAC7BI,GAAaP,EAAAA,EAAAA,KAAI,GACjBQ,GAAanB,EAAAA,EAAAA,KAAS,KAAM,CAE1B,gBAA0C,eAAzBU,EAAQR,MAAMY,SAA4BI,EAAWhB,MACtE,eAAyC,iBAAzBQ,EAAQR,MAAMY,SAA8BI,EAAWhB,MACvE,gBAA2C,YAAzBQ,EAAQR,MAAMY,SAAyBI,EAAWhB,OAAUgB,EAAWhB,UAKjG,SAASkB,EAASrY,GAEd,GAAIgY,EAAWb,QAAUC,EAAOD,MAAO,OACvC,MAAMmB,EAAQ,IACdL,EAAWd,OAAQ,EACnBe,EAASf,MAAQ,UACjBgB,EAAWhB,OAAQ,EACnBE,EAAakB,WAAWvY,EAAIoX,EAAOD,OAAOzhB,MAAK8iB,IAC3C,GAAIhB,EAAQL,MAUR,OATAc,EAAWd,OAAQ,EACnBgB,EAAWhB,OAAQ,EACnBe,EAASf,MAAQqB,OACjBnf,OAAO+B,YAAW,KACd,MAAMqd,EAAOd,EAAQR,MAAMY,OAC3BI,EAAWhB,OAAQ,EACnBe,EAASf,MAAQsB,EACjBT,EAAWb,MAAQe,EAASf,MAAQC,EAAOD,MAAQsB,CAAI,GACxDH,GAIPX,EAAQR,MAAQI,EAAQJ,MAAMnX,GAC9BgY,EAAWb,MAAQC,EAAOD,MAAQQ,EAAQR,MAAMY,OAChDI,EAAWhB,OAAQ,EACnBc,EAAWd,OAAQ,EACnBe,EAASf,MAAQqB,EAEjBnf,OAAO+B,YAAW,KACd8c,EAASf,MAAQQ,EAAQR,MAAMY,MAAM,GACtCO,EAAM,GAEjB,C,OAIAI,EAAAA,EAAAA,KAAM,IAAMjB,EAAMI,WAAU,KACxBF,EAAQR,MAAQM,EAAMI,SACtBG,EAAWb,MAAQC,EAAOD,MAAQQ,EAAQR,MAAMY,OAChDG,EAASf,MAAQQ,EAAQR,MAAMY,MAAM,I,snCCjIzC,MAAMY,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O,2NCGA,MAAMlB,EAAQC,EAaRkB,GAAaC,EAAAA,EAAAA,IAAS,CACxB,gBAAiBpB,EAAMqB,UACvB,gBAAiBrB,EAAMqB,Y,OAG3BC,EAAAA,EAAAA,KAAY,KACR,MAAMC,EAAUvB,EAAMqB,UACtBF,EAAW,iBAAmBI,EAC9BJ,EAAW,iBAAmBI,CAAO,I,wJC7BzC,MAAML,EAAc,EAEpB,O,q5BCqDA,MAAMM,GAAeC,EAAAA,EAAAA,oBACf,UAAEC,EAAS,YAAEC,EAAW,aAAEC,EAAY,YAAEC,EAAW,aAAEC,IAAiBxC,EAAAA,EAAAA,IAAYkC,GAGlFO,GAAW5B,EAAAA,EAAAA,IAAI,IACf6B,GAAU7B,EAAAA,EAAAA,IAAI,MACd8B,GAAQ9B,EAAAA,EAAAA,SAAIrf,GACZohB,GAAe/B,EAAAA,EAAAA,IAAI,MAEnBgC,GAAU3C,EAAAA,EAAAA,KAAS,IACM,KAAnBuC,EAASrC,MAAiB,GAAEqC,EAASrC,YAAc,oBAG/D0C,EAAAA,EAAAA,KAAU,KACNH,EAAMvC,MAAQ,IAAI2C,EAAAA,GAAML,EAAQtC,OAChCsC,EAAQtC,MAAM9hB,iBAAiB,mBAAmB,KAC9C+jB,EAAYjC,OAAQ,EACpBqC,EAASrC,MAAQ,EAAE,GACrB,KAGN4C,EAAAA,EAAAA,KAAY,KACRL,EAAMvC,MAAM6C,SAAS,KAIzBtB,EAAAA,EAAAA,IAAMU,GAAa,KACXA,EAAYjC,OACZuC,EAAMvC,MAAM8C,MAAM,IAG1B,MAAMC,EAAWA,KACbP,EAAaxC,MAAMgD,OAAO,E,0pCCpF9B,MAAMxB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O,qxDCkEA,MAAMyB,GAAexC,EAAAA,EAAAA,IAAI,M,OAEzBiC,EAAAA,EAAAA,KAAU,KACN,IAAIQ,EAAAA,GAASD,EAAajD,MAAM,I,23BCvEpC,MAAMwB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O,4rBCSA,MAAM2B,GAAchD,EAAAA,EAAAA,oBACd,QAAEE,IAAYT,EAAAA,EAAAA,IAAYuD,G,uFCZhC,MAAM3B,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O,4bCOA,MAAMlB,EAAQC,EASR6C,EAAevlB,EAAQ,OAEvBwlB,GAAqB3B,EAAAA,EAAAA,IAAS,CAChC,OAAU,KACV,MAAS,OAGP4B,GAAQxD,EAAAA,EAAAA,KAAS,KACnB,IAAIyD,EAAY,GAIhB,OAHA7U,OAAO6F,OAAO8O,GAAoBzU,SAAQ,SAAU8N,GAChD6G,GAAc,eAAc7G,QAAQA,OACxC,IAC0B,KAAlB8G,EAAQxD,MAAgBuD,EAAY,EAAE,IAG5CC,GAAU1D,EAAAA,EAAAA,KAAS,KACrB,MAAM2D,EAASnD,EAAMtiB,IACf0lB,EAAUD,EAAOlN,MAAM,KACvB9D,EAAOiR,EAAQA,EAAQ/hB,OAAS,GAChCgiB,EAAaD,EAAQzT,OAAO,EAAGyT,EAAQ/hB,OAAS,GAAGiiB,KAAK,KAE9D,IAAItmB,EAAI,GACRoR,OAAOyN,QAAQkH,GAAoBzU,SAAQ,UAAW6N,EAAGC,IACrD,MAAMhf,EAAQ,GAAEimB,KAAclH,KAAKhK,IAEnC,IAAIoR,EAAMC,EAAcpmB,GACxBmmB,EAAe,KAARA,EAAcA,EAAO,IAAGnH,OAAS,GACxCpf,GAAKumB,CACT,IAEA,MAAME,EAAUV,EAAmBW,MAC7BC,EAAYR,EAElB,IAAIS,EAAWJ,EAAcG,GAE7BC,EAAyB,KAAbA,EAAoB,GAAEA,KAAYH,OAAe,GAE7D,MAAMI,EAAU,GAAED,KAAY5mB,IAC9B,MAAc,KAANA,EAAY6mB,EAAS,EAAE,IAG7BC,GAAYtE,EAAAA,EAAAA,KAAS,KACvB,MAAM2D,EAASnD,EAAMtiB,IACrB,OAAOqmB,EAAaZ,EAAO,KAGzB,UAAEzB,IAAcsC,EAAAA,EAAAA,KAAS,CAAEtmB,IAAKomB,EAAUpE,QAKhD,SAASqE,EAAa3mB,GAClB,IAAIM,EAAM,GACV,IACIA,EAAMH,EAAAA,MAAAA,CAAS,KAAIH,IACvB,CAAE,MAAOqE,GACL/D,EAAMolB,CACV,CACA,OAAOplB,CACX,CAEA,SAAS8lB,EAAcpmB,GACnB,IAAIM,EAAM,GACV,IACIA,EAAMH,EAAAA,MAAAA,CAAS,KAAIH,IACvB,CAAE,MAAOqE,GACL/D,EAAM,EACV,CACA,OAAOA,CACX,C,sMCvFA,MAAMwjB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O,iJCPS+C,MAAM,gE,UACPC,EAAAA,EAAAA,GAAwB,OAAnBD,MAAM,QAAM,W,GACZA,MAAM,Q,kCAFfE,EAAAA,EAAAA,IAKM,MALNC,EAKM,CAJFC,GACAH,EAAAA,EAAAA,GAEM,MAFNI,EAEM,EADFC,EAAAA,EAAAA,IAAQC,EAAAC,OAAA,kBAAA3jB,GAAA,M,gBCHpB,MAAM4jB,EAAS,CAAC,EAKVxD,GAA2B,OAAgBwD,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O,0cCLA,MAAMzD,EAAc,EAEpB,O,inBCmCA,MAAM0D,EAAQC,EAKRjF,GAAeC,EAAAA,EAAAA,mBACfV,GAAeC,EAAAA,EAAAA,oBAEf,OAAE1G,EAAM,cAAEoM,IAAkBxF,EAAAA,EAAAA,IAAYH,IAExC,eAAE4F,IAAmBzF,EAAAA,EAAAA,IAAYM,GAEjCoF,GAAa7E,EAAAA,EAAAA,IAAIzH,EAAOgH,MAAM9G,iBAE9BqM,GAAU7D,EAAAA,EAAAA,IAAS,CAAC,GAG1B,SAAS8D,EAAeC,GACpBhG,EAAaiG,kBAAkBD,GAC/BP,EAAM,oBACV,CAEA,SAASS,EAAeC,GACpBL,EAAQ7P,QAAUkQ,CACtB,CAEA,SAASC,EAAcC,GACnBP,EAAQO,OAASA,CACrB,CAEA,SAASC,EAAalQ,GAClB0P,EAAQ1P,MAAQA,CACpB,CAEA,SAASmQ,EAAc/F,GACnBsF,EAAQtF,OAASA,CACrB,C,OAEAsB,EAAAA,EAAAA,IAAMgE,GAAS,KACXrF,EAAa+F,cAAcV,EAAQ,IAGvCW,EAAa,CACTX,Y,soBC7EJ,MAAM/D,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O,68CCLA,MAAMA,EAAc,EAEpB,O,2gBCiBA2E,EAAAA,GAAKC,eAAeC,EAAAA,GAEpB,MAAMC,GAAWC,EAAAA,EAAAA,KAAUrkB,QAErBskB,GAAa1G,EAAAA,EAAAA,KAAS,IACjBwG,EAASjhB,EAAE2a,MAA6B,EAArB9d,OAAOukB,cAGrC,SAASC,IACLP,EAAAA,GAAKQ,GAAGzkB,OAAQ,CAAE0kB,SAAU,GAAIC,SAAU,CAAExhB,EAAG,IACnD,C,qKC3BA,MAAMmc,EAAc,EAEpB,O,6XCWA,MAAMsF,GAAYrG,EAAAA,EAAAA,IAAI,MAEtB,SAASsG,EAAOC,GACZb,EAAAA,GAAKQ,GAAGG,EAAU9G,MAAO,CACrB+G,OAAQC,EAAM,SACdJ,SAAU,GACVK,WAAW,GAEnB,C,OAEAf,EAAa,CACTa,W,4ICvBJ,MAAMvF,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O,qjBCmCA,MAAMtB,GAAeC,EAAAA,EAAAA,mBACfV,GAAeC,EAAAA,EAAAA,mBAEfwF,EAAQC,EAOR7E,EAAQC,EAUR2G,GAAezG,EAAAA,EAAAA,IAAI,MACnB0G,GAAS1G,EAAAA,EAAAA,IAAI,MACb2G,GAAmB3G,EAAAA,EAAAA,IAAI,OAEvB,eAAE4E,IAAmBzF,EAAAA,EAAAA,IAAYM,IACjC,cAAEkF,IAAkBxF,EAAAA,EAAAA,IAAYH,GAChC4H,GAAe5G,EAAAA,EAAAA,IAAI4E,EAAerF,MAAMnK,OAG9C,IAAIyR,EAAQ,KACZ,MAAMrN,GAAWwG,EAAAA,EAAAA,KAAI,GACf/K,GAAUgM,EAAAA,EAAAA,IAAS,CACrBlf,IAAK4iB,EAAcpF,MAAMxd,IACzBC,IAAK2iB,EAAcpF,MAAMvd,OAIvB,MAAE8F,EAAK,SAAEY,IAAaoe,EAAAA,EAAAA,KAAaL,EAAc,CACnDM,OAAO,EACPC,OAAQL,EACRM,aAAc,CAAC,QAAS,QAAS,OACjCC,OAASvR,IACL,MAAMwR,EAAOV,EAAalH,MACpB6H,EAAYD,EAAKE,YACjBC,EAAaH,EAAKI,aAClBC,EAAc/lB,OAAOgmB,WACrBC,EAAejmB,OAAOukB,YAExBrQ,EAAIjR,EAAI,IACRgE,EAAS6W,MAAM7a,EAAI,GAEnBiR,EAAIjR,EAAK8iB,EAAcJ,IACvB1e,EAAS6W,MAAM7a,EAAI8iB,EAAcJ,GAGjCzR,EAAI/Q,EAAI,IACR8D,EAAS6W,MAAM3a,EAAI,GAGnB+Q,EAAI/Q,EAAK8iB,EAAeJ,IACxB5e,EAAS6W,MAAM3a,EAAI8iB,EAAeJ,EACtC,IAYR,SAASK,IACLd,EAAQ,IAAIe,EAAAA,GAAMlB,EAAOnH,OACzBsH,EAAMxE,OACNwF,GACJ,CACA,SAASA,IACDhI,EAAMiI,UACNjB,EAAMxE,OAENwE,EAAMkB,MAEd,CAEA,SAASC,IACLvD,EAAM,eACV,CAGA,SAASS,EAAeC,EAAMlQ,GAC1BA,EAAQlT,IAAMojB,EAAIpjB,IAClBkT,EAAQjT,IAAMmjB,EAAInjB,IACdwX,EAAS+F,QACTtK,EAAQlT,IAAMojB,EAAIpjB,IAClBkT,EAAQjT,IAAMmjB,EAAInjB,IAClByiB,EAAM,mBAAoBxP,GAElC,CAEA,SAASqQ,EAAalQ,EAAQwP,EAAerF,MAAMnK,OAC3CoE,EAAS+F,QACTqH,EAAarH,MAAQnK,EACrBqP,EAAM,iBAAkBmC,EAAarH,OAE7C,CAEA,SAAS0I,IACLzO,EAAS+F,OAAQ,EACjB2F,IACAI,GACJ,C,OA9CA4C,EAAAA,EAAAA,KAAezB,GAAc,KACzBuB,GAAY,KAgDhBlH,EAAAA,EAAAA,KAAM,IAAMjB,EAAMiI,YAAW,KACzBD,GAAa,KAKjB5F,EAAAA,EAAAA,KAAU,KACN0F,IACAjf,EAAS6W,MAAM7a,EAAyB,GAApBjD,OAAOgmB,WAAsD,GAAjChB,EAAalH,MAAM8H,YACnE3e,EAAS6W,MAAM3a,EAA0B,GAArBnD,OAAOukB,YAAwD,GAAlCS,EAAalH,MAAMgI,aAEpE9lB,OAAOhE,iBAAiB,aAAcwqB,EAAU,KAGpD9F,EAAAA,EAAAA,KAAY,KACR1gB,OAAO0mB,oBAAoB,aAAcF,EAAU,I,ivBCvKvD,MAAMlH,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O,2+HC6HA,MAAMtB,GAAeC,EAAAA,EAAAA,mBACfV,GAAeC,EAAAA,EAAAA,mBACfmJ,GAAe9G,EAAAA,EAAAA,oBAEf,aAAE+G,EAAY,cAAEC,EAAa,QAAEC,EAAO,UAAEC,EAAS,eAAEC,IAAmBtJ,EAAAA,EAAAA,IAAYM,IAClF,eAAEiJ,IAAmBvJ,EAAAA,EAAAA,IAAYH,GAGjC2J,GAAa3I,EAAAA,EAAAA,IAAI,MAEjB4I,GAAQ5I,EAAAA,EAAAA,IAAI,CACd,CACI6I,IAAK,GACLC,MAAO,UACPC,KAAM,IAEV,CACIF,IAAK,GACLC,MAAO,UACPC,KAAM,MAKRC,EAAcA,KAChB,MAAMC,EAAWX,EAAc/I,MAAM2J,IACrCN,EAAMrJ,MAAM,GAAGsJ,IAAO,sBAAqBH,EAAenJ,MAAMnX,SAAS6gB,QACzEL,EAAMrJ,MAAM,GAAGsJ,IAAO,sBAAqBH,EAAenJ,MAAMnX,SAAS6gB,OAAc,EAG3F,SAASE,EAAQC,IACbC,EAAAA,EAAAA,iBAAgBD,EACpB,CAEA,SAASE,GAAQF,EAAIG,IACjBC,EAAAA,EAAAA,iBAAgBJ,EAAIG,EACxB,C,OAEA9D,EAAa,CACTuD,gB,w7CCtKJ,MAAMjI,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,Q,06DCkEA,MAAM0D,EAAQC,GAER,OAAE+E,IAAWC,EAAAA,EAAAA,OAEbtB,GAAe9G,EAAAA,EAAAA,mBACf7B,GAAeC,EAAAA,EAAAA,mBACfV,GAAeC,EAAAA,EAAAA,oBAEf,QAAEU,EAAO,QAAEC,IAAYT,EAAAA,EAAAA,IAAYM,IACnC,eAAEiJ,EAAc,WAAExJ,EAAU,cAAE7gB,IAAkB8gB,EAAAA,EAAAA,IAAYH,GAE5D2K,GAAkB3J,EAAAA,EAAAA,IAAI3hB,EAAckhB,MAAM7gB,SAASirB,iBAEnDhB,GAAa3I,EAAAA,EAAAA,IAAI,MAAO4J,GAAmB5J,EAAAA,EAAAA,IAAI,MAE/CK,GAAaL,EAAAA,EAAAA,KAAI,GAEjB6J,GAAe7J,EAAAA,EAAAA,KAAI,GAEnB8J,GAAU9J,EAAAA,EAAAA,MAEV+J,GAAgB/J,EAAAA,EAAAA,KAAI,GACtBgK,GAAShK,EAAAA,EAAAA,IAAI,CAAC,GACd6E,GAAa7E,EAAAA,EAAAA,IAAI,GACjBiK,GAAcjK,EAAAA,EAAAA,IAAI,CAAC,GACnBqI,GAAerI,EAAAA,EAAAA,IAAI,WACnBxf,GAAgBwf,EAAAA,EAAAA,IAAI,GACpBkK,GAAgBlK,EAAAA,EAAAA,IAAI,GAElBmK,GAAa9K,EAAAA,EAAAA,KAAS,IACjB9d,KAAKQ,IAAIR,KAAKS,IAAIC,SAASioB,EAAc3K,OAAQ,GAAIsF,EAAWtF,MAAQ,KAG7E6K,GAAkBpK,EAAAA,EAAAA,SAAIrf,GAM5B,SAASzB,IAELugB,EAAa4K,eAAevsB,MAAK,KAC7B,GAAI8hB,EAAQL,MAGR,OAFAsK,EAAatK,OAAQ,OACrBc,EAAWd,OAAQ,GAGvB+K,GAAc,GAGtB,CAEA,SAASA,IACLtL,EAAauL,gBAAgBzsB,MAAM0sB,IAC/BV,EAAQvK,MAAQ,IAAI1H,EAAAA,QAAQ,UAAWxZ,EAAckhB,MAAOI,EAAQJ,OACpEuK,EAAQvK,MAAMrgB,KAAKsrB,GACnB,MAAMjS,EAASla,EAAckhB,MAAMhH,OACnCsM,EAAWtF,MAAQhH,EAAOE,gBAC1ByR,EAAc3K,MAAQhH,EAAO1Y,UAC7BoqB,EAAY1K,MAAQlhB,EAAckhB,MAAM7gB,SAAS+rB,YACjDC,IAAW,GAEnB,CAWA,SAASvQ,EAAS1J,GACdqZ,EAAQvK,MAAMpF,SAAS1J,EAC3B,CAEA,SAAShN,EAAKA,GACV,GAAIA,EACA,OAAOqmB,EAAQvK,MAAMxF,cAEzB+P,EAAQvK,MAAMvF,aAClB,CAEA,SAAS2Q,EAAKzmB,GACVzC,OAAOmpB,cAAcR,EAAgB7K,OACjCrb,EACA4lB,EAAQvK,MAAMrF,OACb4P,EAAQvK,MAAMtF,OACnB4Q,KAEAT,EAAgB7K,MAAQ9d,OAAOqpB,aAAY,KACnC5mB,EACA4lB,EAAQvK,MAAMrF,OACb4P,EAAQvK,MAAMtF,OACnB4Q,IAAgB,GACjB,IACP,CAGA,SAASpb,EAAQlB,GACb9M,OAAOmpB,cAAcR,EAAgB7K,OACrCuK,EAAQvK,MAAM9P,QAAQlB,GACtB6b,EAAgB7K,MAAQ9d,OAAOqpB,aAAY,IAAMhB,EAAQvK,MAAM9P,QAAQlB,IAAS,GACpF,CAUA,MAAMuZ,GAAY9H,EAAAA,EAAAA,KAAI,GAEtB,SAAS+K,KACLtpB,OAAOmpB,cAAcR,EAAgB7K,MACzC,CACA,SAASyL,KACLlD,EAAUvI,OAAQ,CACtB,CAEA,SAAS0L,KACLnD,EAAUvI,OAAQ,CACtB,CAEA,SAAS2F,GAAejQ,GACpB6U,EAAQvK,MAAMnF,gBAAgBnF,EAClC,CAEA,SAASqQ,GAAalQ,GAClB0U,EAAQvK,MAAMlF,gBAAgBjF,EAClC,CAaA,MAAM8V,IAAUlL,EAAAA,EAAAA,IAAI,MACd5Z,IAAQ4Z,EAAAA,EAAAA,IAAI,GACZmL,IAAanL,EAAAA,EAAAA,IAAI3hB,EAAckhB,MAAMhH,OAAO4S,YAClD,SAASC,KACL,MAAMC,EAAahtB,EAAckhB,MAAMhH,OAAOjZ,YACxCgsB,EAAcD,EACpBjlB,GAAMmZ,MAAQhe,KAAKC,MAAM,IAAM8pB,EACnC,CACA,SAAST,KACL,MAAMna,EAAQoZ,EAAQvK,MAAM7E,kBACtBkB,EAAIuP,GAAW5L,MAAQnZ,GAAMmZ,MAAQ7O,EAC3Cwa,GAAQ3L,MAAM+G,OAAO1K,EACzB,CAYA,SAAS2P,KACLlL,EAAWd,OAAQ,EACnB6L,KACAP,KACA,MAAMlsB,EAAemrB,EAAQvK,MAAM5E,kBACnChc,EAAalB,iBAAiB,SAAU+tB,GAC5C,CAEA,SAASC,KACLZ,IACJ,CAEA,SAASa,KACL7B,EAAatK,OAAQ,CACzB,CAEA,SAASljB,KACLmE,EAAc+e,MAAQuK,EAAQvK,MAAMzF,kBACxC,CAEA,SAAS0R,KACLX,IACJ,CAWA,MAAMc,IAAa3L,EAAAA,EAAAA,KAAI,GACjB4L,IAAa3K,EAAAA,EAAAA,IAAS,CAAEvc,EAAG,EAAGE,EAAG,IACjCinB,IAAiB7L,EAAAA,EAAAA,IAAI,CAAC,GAE5B,SAAS8L,GAAUpuB,GACf,MAAMsJ,EAAStJ,EAAEsJ,OACX4M,EAAS5M,EAAO4M,YACPjT,IAAXiT,IACA8U,EAAenJ,MAAMwM,mBACrBtH,EAAM,YAAa7Q,EAAOsL,EAAWK,SAGzCyK,EAAOzK,MAAQ3L,EACf6L,EAAauM,UAAUpY,EAAOsL,EAAWK,QACzCqK,EAAiBrK,MAAMyJ,cACvBe,EAAcxK,OAAQ,GAE1B,CAEA,SAAS0M,GAAUvuB,GAEf,MAAMsJ,EAAStJ,EAAEsJ,OACX4M,EAAS5M,EAAO4M,OAEtB,QAAejT,IAAXiT,IAAyB3F,OAAOC,KAAKyR,EAAQJ,OAAOre,OAAQ,OAEhE,MAAMyU,EAAMjY,EAAEsJ,OAAOgQ,SACrB2U,GAAWpM,OAAQ,EACnBqM,GAAWlnB,EAAIiR,EAAIjR,EACnBknB,GAAWhnB,EAAI+Q,EAAI/Q,EACnB,MAAMsnB,EAAavM,EAAQJ,MAAM3L,EAAO5B,MAExC,GAAI6Z,GAAetM,QAAU2M,EAAY,OAEzCL,GAAetM,MAAQ2M,EACvB,MAAMja,EAAOia,EAAWja,KACxBoW,EAAa9I,MAAQ0K,EAAY1K,MAAMtN,GACvC+X,EAAOzK,MAAQ2M,EACfzM,EAAauM,UAAUpY,EAAO5B,MAC9ByS,EAAM,YAAa7Q,EAAO5B,KAC9B,CAEA,SAASma,KACLR,GAAWpM,OAAQ,CACvB,CAUA,SAAS6M,KACLvC,EAAatK,OAAQ,EACrB/e,EAAc+e,MAAQ,EACtBrgB,GACJ,CAaA,SAASwrB,KACLjpB,OAAOhE,iBAAiB,kBAAmBpB,IAC3CoF,OAAOhE,iBAAiB,mBAAoBguB,IAC5ChqB,OAAOhE,iBAAiB,UAAWiuB,IACnCjqB,OAAOhE,iBAAiB,aAAc8tB,IACtC9pB,OAAOhE,iBAAiB,YAAaquB,IACrCrqB,OAAOhE,iBAAiB,YAAawuB,IACrCxqB,OAAOhE,iBAAiB,eAAgB0uB,GAC5C,CAEA,SAASE,KACL5qB,OAAO0mB,oBAAoB,kBAAmB9rB,IAC9CoF,OAAO0mB,oBAAoB,mBAAoBsD,IAC/ChqB,OAAO0mB,oBAAoB,UAAWuD,IACtCjqB,OAAO0mB,oBAAoB,aAAcoD,IACzC9pB,OAAO0mB,oBAAoB,YAAa2D,IACxCrqB,OAAO0mB,oBAAoB,YAAa8D,IACxCxqB,OAAO0mB,oBAAoB,eAAgBgE,GAC/C,C,OA5BAlK,EAAAA,EAAAA,KAAU,KACN/iB,GAAM,KAGVijB,EAAAA,EAAAA,KAAY,KACRkK,KACIvC,EAAQvK,OAAOuK,EAAQvK,MAAM3E,gBAAgB,I,y3CClVrD,MAAMmG,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O,khBCoBA,MAAM/B,GAAeC,EAAAA,EAAAA,oBACf,eAAEyJ,IAAmBvJ,EAAAA,EAAAA,IAAYH,GAOjCa,EAAQC,EAmBRwM,GAAWtM,EAAAA,EAAAA,IAAI,MACfuM,GAAavM,EAAAA,EAAAA,IAAI,MACjBwM,GAAaxM,EAAAA,EAAAA,IAAI,MACjByM,GAAezM,EAAAA,EAAAA,IAAI,MAEnB0M,GAAU1M,EAAAA,EAAAA,KAAI,GACd2M,GAAe3M,EAAAA,EAAAA,KAAI,IAEzBmB,EAAAA,EAAAA,KAAY,KACHtB,EAAMwC,MAASsK,EAAapN,OAC7BqN,GACJ,IAGJ,MAAMC,GAAsBxN,EAAAA,EAAAA,KAAS,IAC1BQ,EAAMrf,cAAgB,MAIjC,SAASosB,IAELlH,EAAAA,GAAKQ,GAAGoG,EAAS/M,MAAO,CACpB/c,MAAO,EACP2jB,SAAU,IACVzF,MAAO,GACPjV,KAAM,iBAGVia,EAAAA,GAAKQ,GAAGqG,EAAWhN,MAAO,CACtB3a,EAAG,GACHkoB,QAAS,EACT3G,SAAU,GACVzF,MAAO,GACPjV,KAAM,iBAGVia,EAAAA,GAAKQ,GAAGsG,EAAWjN,MAAO,CACtB3a,GAAI,GACJkoB,QAAS,EACT3G,SAAU,GACVzF,MAAO,GACPjV,KAAM,iBAGVia,EAAAA,GAAKQ,GAAGuG,EAAalN,MAAO,CACxB7a,GAAIjD,OAAOsrB,WACXD,QAAS,GACT3G,SAAU,IACVzF,MAAO,KACPjV,KAAM,eACNuhB,WAAYA,KACRtH,EAAAA,GAAKtC,IAAIqJ,EAAalN,MAAO,CAAE7a,EAAG,QAASooB,QAAS,IACpDJ,EAAQnN,OAAQ,EAChBoN,EAAapN,OAAQ,CAAI,GAGrC,C,+pBCzGA,MAAMwB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O,igLCiKA,MAAMlB,EAAQC,EAoBR2E,EAAQC,EAURuI,GAASjN,EAAAA,EAAAA,KAAI,GAEbkN,GAAmBlN,EAAAA,EAAAA,IAAIH,EAAMsN,YAE7B9H,GAASrF,EAAAA,EAAAA,IAAI,IAwBnB,SAASoN,EAAWnvB,GAChBivB,EAAiB3N,MAAQthB,EACzBwmB,EAAM,aAAcxmB,EACxB,EAzBA6iB,EAAAA,EAAAA,KAAM,IAAMjB,EAAMsN,aAAY,KAC1BD,EAAiB3N,MAAQM,EAAMsN,UAAU,KAG7ChM,EAAAA,EAAAA,KAAY,KACR,MAAMkM,EAAQxN,EAAMgF,WACpB,IAAK,IAAIjoB,EAAI,EAAGA,EAAIywB,EAAOzwB,IACvByoB,EAAO9F,MAAM3iB,GAAK,CACdqB,MAAOrB,EACPksB,MAAOjJ,EAAMyN,YAAYC,OAAO3wB,GAChC4wB,SAAUN,EAAiB3N,QAAU3iB,GAI7CyoB,EAAO9F,MAAM,GAAGuJ,MAAQ,MAEpBuE,EAAQ,IACRhI,EAAO9F,MAAM8N,EAAQ,GAAGvE,MAAQ,OACpC,IASJ,MAAM2E,GAAUzN,EAAAA,EAAAA,IAAI,MACd0N,GAAU1N,EAAAA,EAAAA,IAAI,MAEpB,SAAS2N,IACLV,EAAO1N,OAAQ,EACfmG,EAAAA,GAAKtC,IAAIsK,EAAQnO,MAAO,CACpBqO,UAAW,EACXhpB,EAAG,SAEP8gB,EAAAA,GAAKQ,GAAGwH,EAAQnO,MAAO,CACnBqO,UAAW,EACXhpB,EAAG,EACHuhB,SAAU,IAElB,CAEA,SAAS0H,IAELnI,EAAAA,GAAKtC,IAAIqK,EAAQlO,MAAO,CACpBja,MAAO,EACPsoB,UAAW,IAGflI,EAAAA,GAAKQ,GAAGwH,EAAQnO,MAAO,CACnBqO,UAAW,EACXhpB,EAAG,OACHuhB,SAAU,GACV6G,WAAYA,KACRC,EAAO1N,OAAQ,CAAK,IAI5BmG,EAAAA,GAAKQ,GAAGuH,EAAQlO,MAAO,CACnBja,MAAO,EACPsoB,UAAW,EACXzH,SAAU,GACVzF,MAAO,GACPjV,KAAM,eAEd,C,8gFCzQA,MAAMsV,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O,qwBCwCA,MAAMtB,GAAeC,EAAAA,EAAAA,mBAIfG,EAAQC,GAaR,aAAEuI,EAAY,cAAEC,EAAa,YAAEwF,EAAW,UAAEtF,EAAS,eAAEC,IAAmBtJ,EAAAA,EAAAA,IAAYM,GAE5F,IAAIsO,EAAY,KACZC,EAAiB,KACrB,MAAMC,GAASjO,EAAAA,EAAAA,IAAI,MAGnB,SAASkO,IACLF,EAAiB,CACbjkB,sBAAuBokB,KAE3BJ,GAAYK,EAAAA,EAAAA,IAAaJ,EAAgBC,EAAO1O,MAAO,CACnD8O,UAAW,MACXC,UAAW,CACP,CACItc,KAAM,SACN1E,QAAS,CACLihB,OAAQA,EAAGF,eACW,WAAdA,GAIc,QAAdA,EAHO,CAAC,EAAG,IAOR,OAM/B,CAEA,SAASG,EAAc9pB,EAAGE,GACtBopB,EAAejkB,sBAAwBokB,EAA8BzpB,EAAGE,GACxEmpB,EAAUU,QACd,CAEA,SAASN,EAA8BzpB,EAAI,EAAGE,EAAI,GAC9C,MAAO,KAAM,CACTpC,MAAO,EACPC,OAAQ,EACRmG,IAAKhE,EACL8pB,MAAOhqB,EACPiqB,OAAQ/pB,EACRmD,KAAMrD,GAEd,C,OAEAoc,EAAAA,EAAAA,IAAMjB,EAAM7L,WAAW,KACnBwa,EAAc3O,EAAM7L,UAAUtP,EAAGmb,EAAM7L,UAAUpP,EAAE,KAGvDqd,EAAAA,EAAAA,KAAU,KACNiM,GAAa,KAGjB/L,EAAAA,EAAAA,KAAY,KACR4L,EAAUa,SAAS,I,0zBCtHvB,MAAM7N,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O,29BC4CA,MAAMtB,GAAeC,EAAAA,EAAAA,oBACf,QAAE6I,EAAO,gBAAEsG,IAAoB1P,EAAAA,EAAAA,IAAYM,GAE3CqP,GAAU7P,EAAAA,EAAAA,oBACV,eAAEyJ,IAAmBvJ,EAAAA,EAAAA,IAAY2P,GAGjCjP,EAAQC,EASRiP,GAAY1P,EAAAA,EAAAA,KAAS,KACvB,MAAM2P,EAAcnP,EAAMoK,YACpBhY,EAAO4N,EAAMI,SAAShO,KAC5B,OAAO+c,EAAY/c,IAAS,SAAS,IAGnCgd,GAAS5P,EAAAA,EAAAA,KAAS,IACZ,sBAAqBqJ,EAAenJ,MAAMnX,SAASyX,EAAMI,SAASiJ,YAGxEV,GAAYnJ,EAAAA,EAAAA,KAAS,KACvB,MAAMzD,EAAIiE,EAAMI,SAAS4O,EAAgBtP,MAAM2P,QACzCC,EAAUvT,GAAK,EAAK,IAAM,GAChC,OAAOuT,EAASvT,CAAC,IAEf6M,GAAiBpJ,EAAAA,EAAAA,KAAS,KAC5B,MAAMzD,EAAIiE,EAAMI,SAAS4O,EAAgBtP,MAAMgE,OACzC4L,EAAUvT,GAAK,EAAK,IAAM,GAChC,OAAOuT,EAASvT,CAAC,I,i1BChFrB,MAAMmF,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O,2YCcA,MAAM0D,EAAQC,EAIR1F,GAAeC,EAAAA,EAAAA,oBACf,kBAAEmQ,EAAiB,eAAE1G,IAAmBvJ,EAAAA,EAAAA,IAAYH,GAEpDqQ,GAAkBrP,EAAAA,EAAAA,IAAI0I,EAAenJ,MAAMnX,IAE3CknB,GAAejQ,EAAAA,EAAAA,KAAS,KAC1B,MAAMkQ,EAAkBthB,OAAOyN,QAAQ0T,EAAkB7P,OAAOmH,QAAQ8I,IAC5DA,EAAI,GAAGzD,qBAEb0D,EAAiBxhB,OAAOyhB,YAAYH,GAC1C,OAAOE,CAAc,I,OAGzB3O,EAAAA,EAAAA,IAAMuO,GAAiB,KACnB5K,EAAM,kBAAmB4K,EAAgB9P,MAAM,I,8aClCnD,MAAMwB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O,0sCCyCA,MAAMtB,GAAeC,EAAAA,EAAAA,mBACfV,GAAeC,EAAAA,EAAAA,mBAEfY,EAAQC,GAWR,gBAAE6P,IAAoBxQ,EAAAA,EAAAA,IAAYM,IAClC,WAAEmQ,IAAezQ,EAAAA,EAAAA,IAAYH,GAE7B6Q,GAAgB7P,EAAAA,EAAAA,IAAIH,EAAMiQ,SAC1BC,GAAe/P,EAAAA,EAAAA,IAAI,MACnBgQ,GAAchQ,EAAAA,EAAAA,IAAI,CAAC,GACnBiQ,GAAcjQ,EAAAA,EAAAA,KAAI,GAsBxB,SAASkQ,IACL,MAAMhvB,EAAS+M,OAAOyN,QAAQsU,EAAYzQ,OAAOre,OACjD,OAAO+M,OAAOyN,QAAQiU,EAAgBpQ,OAAO4Q,MAAMjvB,EAAQA,EAAS2uB,EAActQ,MACtF,C,OAvBA6Q,EAAAA,EAAAA,KACIL,GACA,GAAIM,sBACA,MAAMnvB,EAAS+M,OAAOC,KAAK8hB,EAAYzQ,OAAOre,OAC9C,GAAImvB,EAAgB,CAChB,MAAMC,EAAMriB,OAAOyN,QAAQsU,EAAYzQ,OACvC+Q,EAAI9yB,QAAQ0yB,KACZF,EAAYzQ,MAAQtR,OAAOyhB,YAAYY,EAC3C,EAEIpvB,GAAU+M,OAAOC,KAAKyhB,EAAgBpQ,OAAOre,QAAUA,GAAU,KACjE+uB,EAAY1Q,OAAQ,EACxB,GAEJ,CACIrW,UAAW,MAUnB4X,EAAAA,EAAAA,IAAM6O,GAAiB,KAEnBK,EAAYzQ,MAAQtR,OAAOyhB,YACvBzhB,OAAOyN,QAAQiU,EAAgBpQ,OAAO4Q,MAAM,EAAGN,EAActQ,QAEjE0Q,EAAY1Q,OAAQ,CAAI,I,omBC/F5B,MAAMwB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O,gjCC+BA,MAAM0D,EAAQC,EAKR7E,EAAQC,EAwCRyQ,GAAWvQ,EAAAA,EAAAA,IAAIH,EAAM9d,KACrByuB,GAAWxQ,EAAAA,EAAAA,IAAIH,EAAM7d,KAGrBiT,GAAUgM,EAAAA,EAAAA,IAAS,CACrBlf,IAAKwuB,EAAShR,MACdvd,IAAKwuB,EAASjR,QAGZkR,GAAYzQ,EAAAA,EAAAA,IAAI,MAEtB,SAAS0Q,IACLH,EAAShR,MAAQtK,EAAQlT,IAAM8d,EAAM9d,IACrCyuB,EAASjR,MAAQtK,EAAQjT,IAAM6d,EAAM7d,IACrC2uB,EAAWJ,EAAShR,MAAOiR,EAASjR,MACxC,CAGA,SAASoR,EAAWC,EAAM1K,GACtB,IAAKuK,EAAUlR,MAAO,OACtB,MAAMsR,EAAgBhR,EAAM7d,IAAM6d,EAAM9d,IAClC+uB,EAAeF,EAAO/Q,EAAM9d,IAC5BgvB,EAAa7K,EAAKrG,EAAM9d,IACxBivB,EAAcnR,EAAMmR,YACpBC,EAAapR,EAAMoR,WAEzBR,EAAUlR,MAAMzX,MAAMopB,WAAc,gDAE9BF,kBACAA,KAAgBF,EAAiBD,EAAiB,kBAClDI,KAAgBH,EAAiBD,EAAkB,kBACnDI,KAAeF,EAAeF,EAAiB,mBAC/CG,KAAgBD,EAAeF,EAAiB,mBAChDG,SACV,CAGA,SAASG,EAAcC,GACnB,MAAMC,EAAMC,OAAOzR,EAAMwR,KACnBtvB,EAAMuvB,OAAOf,EAAShR,OACtBvd,EAAMsvB,OAAOd,EAASjR,OACtBgS,EAAWvvB,EAAMqvB,EAEvB,OAAItvB,EAAM8d,EAAM9d,KACZwuB,EAAShR,MAAQM,EAAM9d,SACvB4uB,EAAW5uB,EAAKC,IAIhBA,EAAM6d,EAAM7d,KACZwuB,EAASjR,MAAQM,EAAM7d,SACvB2uB,EAAW5uB,EAAKC,IAIhBovB,EACIrvB,EAAMwvB,GACNhB,EAAShR,MAAQgS,OACjBZ,EAAWY,EAAUvvB,SAGzB2uB,EAAW5uB,EAAKC,GAIhBuuB,EAAShR,MAAQgS,GACjBf,EAASjR,MAAQxd,EAAMsvB,OACvBV,EAAW5uB,EAAKyuB,EAASjR,aAG7BoR,EAAW5uB,EAAKC,EAEpB,CAIA,SAASkjB,IACLT,EAAM,mBAAoBxP,EAC9B,CAKA,SAASuc,IACLL,GAAc,GACdM,GACJ,CACA,SAASC,IACLP,GAAc,GACdQ,GACJ,CACA,MAAMF,EAAoBG,KAAS,KAC/B3c,EAAQlT,IAAMwuB,EAAShR,KAAK,GAC7BM,EAAMgS,aACHF,EAAoBC,KAAS,KAC/B3c,EAAQjT,IAAMwuB,EAASjR,KAAK,GAC7BM,EAAMgS,aAGHC,EAAcF,KAAUG,IAC1BxB,EAAShR,MAAQwS,EAAIC,OAAOzS,MAC5BtK,EAAQlT,IAAMwuB,EAAShR,MACvB4R,GAAc,EAAK,GACpBtR,EAAMoS,aAEHC,EAAcN,KAAUG,IAC1BvB,EAASjR,MAAQwS,EAAIC,OAAOzS,MAC5BtK,EAAQjT,IAAMwuB,EAASjR,MACvB4R,GAAc,EAAM,GACrBtR,EAAMoS,a,OAKTnR,EAAAA,EAAAA,IAAM7L,GAAS,KACXiQ,GAAgB,KAGpBpE,EAAAA,EAAAA,KAAM,IAAM,CAACjB,EAAM9d,IAAK8d,EAAM7d,OAAM,KAChC0uB,GAAa,KAIjBzO,EAAAA,EAAAA,KAAU,KACNyO,GAAa,I,w7BC1MjB,MAAM3P,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O,27BCyBA,MAAM0D,EAAQC,EAIR7E,EAAQC,EAURqS,GAAgBnS,EAAAA,EAAAA,IAAIH,EAAMuS,eAEhC,SAASC,IACL5N,EAAM,kBAAmB0N,EAAc5S,MAC3C,C,OAEAuB,EAAAA,EAAAA,IAAMqR,GAAe,KACjBE,GAAc,KAGlBvR,EAAAA,EAAAA,KAAM,IAAMjB,EAAMuS,gBAAe,KAC7BD,EAAc5S,MAAQM,EAAMuS,cAC5BC,GAAc,KAGlBpQ,EAAAA,EAAAA,KAAU,KACNoQ,GAAc,I,yfCzDlB,MAAMtR,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O,8ZCmBA,MAAM/B,GAAeC,EAAAA,EAAAA,oBAEf,OAAEO,EAAM,cAAE8S,IAAkBnT,EAAAA,EAAAA,IAAYH,GAGxCyF,EAAQC,EAIR6N,GAAgBvS,EAAAA,EAAAA,IAAIsS,EAAc/S,OAExC,SAASgG,IACLd,EAAM,kBAAmB8N,EAAchT,MAC3C,C,OAEAuB,EAAAA,EAAAA,IAAMyR,GAAe,KACjBhN,GAAe,KAGnBzE,EAAAA,EAAAA,KAAM,IAAMwR,EAAc/S,QAAO,KAC7BgT,EAAchT,MAAQ+S,EAAc/S,MACpCgG,GAAe,KAGnBtD,EAAAA,EAAAA,KAAU,KACNsD,GAAe,I,2fCjDnB,MAAMxE,EAAc,EAEpB,O,mfCsBA,MAAM/B,GAAeC,EAAAA,EAAAA,oBAEf,WAAE2Q,IAAezQ,EAAAA,EAAAA,IAAYH,GAE7ByF,EAAQC,EAIR7E,EAAQC,EASR8G,GAAe5G,EAAAA,EAAAA,IAAIH,EAAM2S,cAG/B,SAASlN,IACLb,EAAM,iBAAkBmC,EAAarH,MACzC,C,OAEAuB,EAAAA,EAAAA,IAAM8F,GAAc,KAChBtB,GAAc,KAGlBxE,EAAAA,EAAAA,KAAM,IAAMjB,EAAM2S,eAAc,KAC5B5L,EAAarH,MAAQM,EAAM2S,aAC3BlN,GAAc,KAGlBrD,EAAAA,EAAAA,KAAU,KACNqD,GAAc,I,gjBCvDlB,MAAMvE,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O,41BCmCA,MAAMtB,GAAeC,EAAAA,EAAAA,oBACf,UAAE6B,IAAcpC,EAAAA,EAAAA,IAAYM,GAE5BT,GAAeC,EAAAA,EAAAA,oBACf,eAAEyJ,IAAmBvJ,EAAAA,EAAAA,IAAYH,GAEjCyT,GAAgBzS,EAAAA,EAAAA,IAAI,MAE1B,SAAS0S,IACLC,GACJ,CASA,SAASA,IACLlT,EAAamT,mBAAmB90B,MAAK,KAC7B20B,EAAclT,OAAOE,EAAa+F,cAAciN,EAAclT,MAAMuF,QAAQ,GAExF,C,OAXA+N,EAAAA,EAAAA,KAAc,KACNnK,EAAenJ,MAAMwM,oBACrB/M,EAAaiG,kBAAkB,UAEnC0N,GAAY,I,ueCxDhB,MAAM5R,EAAc,EAEpB,O,uLCQA,MAAM6H,GAAQ5I,EAAAA,EAAAA,IAAI,CACd,CACI6I,IAAK,6CACLC,MAAO,GACPC,KAAM,IAEV,CACIF,IAAK,+CACLC,MAAO,IAEX,CACID,IAAK,yCACLC,MAAO,M,gHCtBf,MAAM/H,EAAc,EAEpB,O,uzDCCA,MAAMA,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O,4KCMA,MAAM6H,GAAQ5I,EAAAA,EAAAA,IAAI,CACd,CACI6I,IAAK,8CACLC,MAAO,oBACPC,KAAM,IAEV,CACIF,IAAK,4CACLC,MAAO,gBACPC,KAAM,M,gHCpBd,MAAMhI,EAAc,EAEpB,O,2pCCmDA,MAAM+R,GAAYC,EAAAA,EAAAA,iBAEZ,QAAEnT,IAAYT,EAAAA,EAAAA,IAAY2T,GAG1BE,GAAWhT,EAAAA,EAAAA,IAAI,IACfiT,GAAWjT,EAAAA,EAAAA,IAAI,IAEfM,GAAWN,EAAAA,EAAAA,IAAI,IACfkT,GAAiBlT,EAAAA,EAAAA,KAAI,GAErBmT,GAAcnT,EAAAA,EAAAA,KAAI,GAGlBoT,EAAQA,KAEVD,EAAY5T,OAAQ,EACpBuT,EAAUM,MAAMJ,EAASzT,MAAO0T,EAAS1T,OAAOzhB,MAAK8iB,IACjDN,EAASf,MAAQqB,EACjBsS,EAAe3T,OAASK,EAAQL,MAChC4T,EAAY5T,OAAQ,CAAK,GAC3B,E,OAGN0C,EAAAA,EAAAA,KAAU,KACN+Q,EAASzT,MAAQ,GACjB0T,EAAS1T,MAAQ,GACjBe,EAASf,MAAQ,EAAE,I,q1BChFvB,MAAMwB,EAAc,EAEpB,O,yKCMA,MAAM/B,GAAeC,EAAAA,EAAAA,mBACrBD,EAAaiG,kBAAkB,gBAE/B,MAAMoO,GAASC,EAAAA,EAAAA,MAEf,SAASC,EAAQnrB,GACb,MAAMnL,EAAQ,YAAWmL,IACzBirB,EAAO71B,KAAKP,EAChB,C,6EChBA,MAAM8jB,EAAc,EAEpB,O,sMCgBA,MAAMyS,GAAiBxT,EAAAA,EAAAA,IAAI,MACrBK,GAAaL,EAAAA,EAAAA,KAAI,GAEvB,SAASmJ,KACLE,EAAAA,EAAAA,iBAAgBmK,EAAejU,OAAO,KAClCc,EAAWd,OAAQ,CAAK,GAEhC,CAEA,SAAS+J,EAAQF,EAAIG,GACjBlJ,EAAWd,OAAQ,GACnBiK,EAAAA,EAAAA,iBAAgBgK,EAAejU,MAAOgK,EAC1C,C,sZC9BA,MAAMxI,EAAc,EAEpB,O,uKCMA,MAAM0S,EAAUC,kCACVC,EAAUD,WACVE,GAAW5T,EAAAA,EAAAA,IAAIyT,EAAUE,G,oHCV/B,MAAM5S,EAAc,EAEpB,O,oMCgBA,MAAMyS,GAAiBxT,EAAAA,EAAAA,IAAI,MACrBK,GAAaL,EAAAA,EAAAA,KAAI,GAEvB,SAASmJ,KACLE,EAAAA,EAAAA,iBAAgBmK,EAAejU,OAAO,KAClCc,EAAWd,OAAQ,CAAK,GAEhC,CAEA,SAAS+J,EAAQF,EAAIG,GACjBlJ,EAAWd,OAAQ,GACnBiK,EAAAA,EAAAA,iBAAgBgK,EAAejU,MAAOgK,EAC1C,C,sZC9BA,MAAMxI,EAAc,EAEpB,O,wuBCmCA,MAAM/B,GAAeC,EAAAA,EAAAA,mBACfQ,GAAeC,EAAAA,EAAAA,oBACf,eAAEgJ,IAAmBvJ,EAAAA,EAAAA,IAAYH,IACjC,UAAEuC,IAAcpC,EAAAA,EAAAA,IAAYM,GAE5BgT,GAAgBzS,EAAAA,EAAAA,IAAI,MAS1B,SAAS0S,IACLC,GACJ,CAEA,SAASA,IACLlT,EAAa4K,eAAevsB,MAAK,KACzB20B,EAAclT,OAAOE,EAAa+F,cAAciN,EAAclT,MAAMuF,QAAQ,GAExF,C,OAfA+N,EAAAA,EAAAA,KAAc,KACNnK,EAAenJ,MAAMwM,oBACrB/M,EAAaiG,kBAAkB,UAEnC0N,GAAY,I,whBChDhB,MAAM5R,EAAc,EAEpB,O,4JCMA,MAAM0S,EAAUC,kCACVC,EAAUD,WAEVE,GAAWvU,EAAAA,EAAAA,KAAS,IACd,GAAEoU,IAAUE,M,oHCZxB,MAAM5S,EAAc,EAEpB,O,8JCMA,MAAM0S,EAAUC,kCACVC,EAAUD,WAEVE,GAAWvU,EAAAA,EAAAA,KAAS,IACd,GAAEoU,IAAUE,M,oHCZxB,MAAM5S,EAAc,EAEpB,O,4JCMA,MAAM0S,EAAUC,kCACVC,EAAUD,WAEVE,GAAWvU,EAAAA,EAAAA,KAAS,IACd,GAAEoU,IAAUE,M,oHCZxB,MAAM5S,EAAc,EAEpB,O,8QCaA,MAAM8S,GAAY7T,EAAAA,EAAAA,IAAI,oCAChB8T,GAAO9T,EAAAA,EAAAA,IAAI,IAMjB+T,eAAeC,IACX,IACI,MAAMC,QAAiBC,EAAAA,EAAMC,IAAIN,EAAUtU,OAC3C,OAAO0U,EAASzc,IACpB,CAAE,MAAOlW,GACL3D,QAAQ2D,MAAM,uBAAwBA,EAC1C,CAEJ,C,OAZAwf,EAAAA,EAAAA,IAAM+S,GAAW,KACbC,EAAKvU,MAAQyU,GAAY,GAC1B,CAAEI,WAAW,I,0UCjBhB,MAAMrT,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O,sJCEA,MAAM/B,GAAeC,EAAAA,EAAAA,mB,OACrBD,EAAaiG,kBAAkB,U,uDCR/B,MAAMlE,EAAc,EAEpB,O,4KCMA,MAAM/B,GAAeC,EAAAA,EAAAA,mBACrBD,EAAaiG,kBAAkB,UAE/B,MAAMoO,GAASC,EAAAA,EAAAA,MAEf,SAASC,EAAQxe,GACbpX,QAAQC,IAAImX,GACZse,EAAO71B,KAAK,UAChB,CAEA,SAAS62B,IAET,C,2FCpBA,MAAMtT,EAAc,EAEpB,O,0KCMA,MAAM/B,GAAeC,EAAAA,EAAAA,mBACrBD,EAAaiG,kBAAkB,UAE/B,MAAMoO,GAASC,EAAAA,EAAAA,MAEf,SAASC,EAAQxe,GACbpX,QAAQC,IAAImX,GACZse,EAAO71B,KAAK,UAChB,CAEA,SAAS62B,IAET,C,2FCpBA,MAAMtT,EAAc,EAEpB,O","sources":["webpack://orbital/./src/orbital-modules/animation.js","webpack://orbital/./src/orbital-modules/animator.js","webpack://orbital/./src/orbital-modules/canvasBuilder.js","webpack://orbital/./src/orbital-modules/controls/drag.js","webpack://orbital/./src/orbital-modules/controls/input_system.js","webpack://orbital/./src/orbital-modules/controls/zoom.js","webpack://orbital/./src/orbital-modules/hotspots.js","webpack://orbital/./src/orbital-modules/orbital.js","webpack://orbital/./src/orbital-modules/resizer.js","webpack://orbital/./src/orbital-modules/tilesController.js","webpack://orbital/./src/components/admin/EditAppt.vue","webpack://orbital/./src/components/admin/EditAppt.vue?9dbc","webpack://orbital/./src/components/app-ui/AlertComponent.vue","webpack://orbital/./src/components/app-ui/AlertComponent.vue?a2d7","webpack://orbital/./src/components/app-ui/CaptureModal.vue","webpack://orbital/./src/components/app-ui/CaptureModal.vue?67d9","webpack://orbital/./src/components/app-ui/CarouselComponent.vue","webpack://orbital/./src/components/app-ui/CarouselComponent.vue?0d5d","webpack://orbital/./src/components/app-ui/ErrorComponent.vue","webpack://orbital/./src/components/app-ui/ErrorComponent.vue?acf2","webpack://orbital/./src/components/app-ui/ImageComponent.vue","webpack://orbital/./src/components/app-ui/ImageComponent.vue?0a5b","webpack://orbital/./src/components/app-ui/LineWithTitle.vue","webpack://orbital/./src/components/app-ui/LineWithTitle.vue?81b7","webpack://orbital/./src/components/app-ui/NestedPagesLoader.vue","webpack://orbital/./src/components/app-ui/SideFilter.vue","webpack://orbital/./src/components/app-ui/SideFilter.vue?228f","webpack://orbital/./src/components/app-ui/StatusComponent.vue","webpack://orbital/./src/components/app-ui/ToTopBtn.vue","webpack://orbital/./src/components/app-ui/ToTopBtn.vue?2827","webpack://orbital/./src/components/orbital/CompassComponent.vue","webpack://orbital/./src/components/orbital/CompassComponent.vue?d203","webpack://orbital/./src/components/orbital/FilterComponent.vue","webpack://orbital/./src/components/orbital/FilterComponent.vue?535f","webpack://orbital/./src/components/orbital/HotspotDetails.vue","webpack://orbital/./src/components/orbital/HotspotDetails.vue?bb4a","webpack://orbital/./src/components/orbital/OrbitalComponent.vue","webpack://orbital/./src/components/orbital/OrbitalComponent.vue?fabf","webpack://orbital/./src/components/orbital/OrbitalLoader.vue","webpack://orbital/./src/components/orbital/OrbitalLoader.vue?5944","webpack://orbital/./src/components/orbital/OrbitalMenu.vue","webpack://orbital/./src/components/orbital/OrbitalMenu.vue?384c","webpack://orbital/./src/components/orbital/PopoverComponent.vue","webpack://orbital/./src/components/orbital/PopoverComponent.vue?1680","webpack://orbital/./src/components/orbital/search/CardSearch.vue","webpack://orbital/./src/components/orbital/search/CardSearch.vue?c3a4","webpack://orbital/./src/components/orbital/search/FilterByOrbital.vue","webpack://orbital/./src/components/orbital/search/FilterByOrbital.vue?05f9","webpack://orbital/./src/components/orbital/search/ListCards.vue","webpack://orbital/./src/components/orbital/search/ListCards.vue?ef9e","webpack://orbital/./src/components/orbital/search/SliderFilter.vue","webpack://orbital/./src/components/orbital/search/SliderFilter.vue?7ed6","webpack://orbital/./src/components/orbital/search/StagesFilter.vue","webpack://orbital/./src/components/orbital/search/StagesFilter.vue?3b2f","webpack://orbital/./src/components/orbital/search/StatusFilter.vue","webpack://orbital/./src/components/orbital/search/StatusFilter.vue?ed5e","webpack://orbital/./src/components/orbital/search/TypesFilter.vue","webpack://orbital/./src/components/orbital/search/TypesFilter.vue?004c","webpack://orbital/./src/pages/AdminPage.vue","webpack://orbital/./src/pages/AdminPage.vue?6fbb","webpack://orbital/./src/pages/GaleriePage.vue","webpack://orbital/./src/pages/GaleriePage.vue?b1f8","webpack://orbital/./src/pages/HomePage.vue","webpack://orbital/./src/pages/LocalisationPage.vue","webpack://orbital/./src/pages/LocalisationPage.vue?a1ae","webpack://orbital/./src/pages/LoginPage.vue","webpack://orbital/./src/pages/LoginPage.vue?3607","webpack://orbital/./src/pages/OrbitalPage.vue","webpack://orbital/./src/pages/OrbitalPage.vue?0aca","webpack://orbital/./src/pages/OrbitalsList.vue","webpack://orbital/./src/pages/OrbitalsList.vue?922a","webpack://orbital/./src/pages/PanoramaPage.vue","webpack://orbital/./src/pages/PanoramaPage.vue?a14f","webpack://orbital/./src/pages/PanoramasList.vue","webpack://orbital/./src/pages/PanoramasList.vue?e392","webpack://orbital/./src/pages/SearchPage.vue","webpack://orbital/./src/pages/SearchPage.vue?4cb4","webpack://orbital/./src/pages/TourVillaOne.vue","webpack://orbital/./src/pages/TourVillaOne.vue?e97f","webpack://orbital/./src/pages/TourVillaThree.vue","webpack://orbital/./src/pages/TourVillaThree.vue?8766","webpack://orbital/./src/pages/TourVillaTwo.vue","webpack://orbital/./src/pages/TourVillaTwo.vue?5f1d","webpack://orbital/./src/pages/VideoPage.vue","webpack://orbital/./src/pages/VideoPage.vue?1708","webpack://orbital/./src/pages/VillaOnePage.vue","webpack://orbital/./src/pages/VillaOnePage.vue?52c0","webpack://orbital/./src/pages/VillaThreePage.vue","webpack://orbital/./src/pages/VillaThreePage.vue?60c2","webpack://orbital/./src/pages/VillaTwoPage.vue","webpack://orbital/./src/pages/VillaTwoPage.vue?a6d2"],"sourcesContent":["\nclass Animation{\n\n    /**\n     * @constructor\n     * @param {String} fileNameTemplate name of animation images , $ is replaced with id\n     * @param {Number} countSprite total of frames\n     * @param {Function} onFinishLoading callback when animation is loaded , return error if not loaded\n     * @param {Function} onLoadingChange callback when an image is added\n     */\n    constructor(fileNameTemplate , countSprite , onFinishLoading , onLoadingChange) {\n        this._images = [];\n        this._countSprite = countSprite;\n        this.imgLoaded = 0;\n\n\n        this._loadAnimation(fileNameTemplate , onFinishLoading , onLoadingChange);\n    }\n\n    /**\n     * \n     * @param {String} fileNameTemplate\n     * @param {Function} onFinishLoading \n     * @private\n     */\n    _loadAnimation(fileNameTemplate , onFinishLoading , onLoadingChange) {\n        let allPromises = [];\n        for (let i = 0; i < this._countSprite; i++) {\n            \n            const p = new Promise( (resolve , reject) => {\n                // replace ? with image id\n                const path = fileNameTemplate.replace('?' , i);\n    \n                // require and load the image\n                const imgPath = require('@/' + path);\n                const image = new Image();\n                image.src = imgPath;\n                this._images.push(image);\n                //console.log(this.images[i]);\n                image.addEventListener('load' , () => {\n                    this.imgLoaded ++;\n                    onLoadingChange();\n                    resolve();\n                });\n\n                image.addEventListener('error' , (e) => {\n                    console.log(e);\n                    reject(e);\n                });\n            });\n\n            //add the promise to the stack\n            allPromises.push(p);\n        }\n\n        // using Promise.all ensure the frames Multi-thread loaded\n        Promise.all(allPromises).then(() => {\n            onFinishLoading();\n        }).catch( (e) => {\n            onFinishLoading(e);\n        } )\n    }\n\n\n    findFrame(index) {\n        return this._images[index];\n    }\n\n}\n\n\nexport { Animation };","import { Animation } from \"./animation\"\nimport { Hotspots } from \"./hotspots\";\nimport { TilesController } from \"./tilesController\";\nimport { InputSystem } from \"./controls/input_system\";\nimport { Resizer } from \"./resizer\";\n\n/**\n * Animator handles drawing and animations interaction\n */\n\nclass Animator{\n\n    /**\n     * \n     * @param {Object} layers - all canvas layers\n     * @param {Array<String>} animationsPattern - array of animations path\n     * @param {Object} orbitalConfig\n     * @param {Array} hotspotRegions - hotspots regions , this is getting from the config file\n     * @param {Array} regionInfo - regions infos , information about every hotspot\n     */\n    constructor (layers , animationsPattern , orbitalConfig , hotspotRegions , regionInfo) {\n\n        this._layers = layers;\n\n        this.animationsPattern = animationsPattern;\n\n        this._orbitalConfig = orbitalConfig,\n\n        this.hotspots;\n\n        this.eventsCanvas = layers.eventsCanvas;\n        \n        this._tilesCanvas = layers.tilesCanvas;\n        this._animCanvas = layers.animation;\n        \n\n        this._hotspotRegions = hotspotRegions;\n\n        this._regionInfo = regionInfo;\n\n        this.init();\n        \n    }\n\n    init() {\n\n        this._currentWidth = 0;\n        this._currentHeight = 0;\n\n        this._countFrames = this._orbitalConfig.framesCount;\n        this._tlTimeDraw = this._orbitalConfig.timeLineSpeed;\n\n        this._animations = [];\n\n        this.maxWidth = this._orbitalConfig.maxWidth;\n        this.maxHeight = this._orbitalConfig.maxHeight;\n\n        this._animationIndex = this._orbitalConfig.animStart;\n        this._frameIndex = this._orbitalConfig.frameStart;\n        \n        this.mobileWidth = 500;\n        this._reverse = false;\n        this._isPlaying = false;\n        this._currentFrame;\n        this._animationsReady = false;\n        this.cancel = false;\n\n        this._tilesController = null;\n        this._resizer = null;\n\n        this.percentLoaded = 0;\n        this._countAnimLoaded = 0;\n\n        this._zoomPoints = undefined;\n\n        this._animCtx = this._animCanvas.getContext(\"2d\");\n        this._tilesCtx = this._tilesCanvas.getContext(\"2d\");\n\n        this._loadAnimations();\n    }\n    \n    /**\n     * Load preloaded animations images\n     * @private\n     */\n    _loadAnimations() {\n\n        console.log(\"loading..\");\n\n        let loadPromises = [];\n\n        const total = this.animationsPattern.length * this._countFrames;\n        for (let i = 0; i < this.animationsPattern.length; i++) {\n            const promise = new Promise( (resolve , reject) => {\n                const pattern = this.animationsPattern[i];\n                const anim = new Animation(pattern , this._countFrames , \n                (error) => {\n                    if (this.cancel) reject(\"cancel\");\n\n                    if (typeof error !== \"undefined\") {\n                        reject(error);\n                    }else{\n                        resolve();\n                    }\n                } , \n                () => {\n\n                    this._countAnimLoaded++;\n                    this.percentLoaded = Math.round( (this._countAnimLoaded / total) * 100 );\n                    window.dispatchEvent(new CustomEvent(\"OnLoadingChange\" , {\n                        bubbles : false\n                    }))\n                });\n                this._animations.push(anim);\n            })\n\n            loadPromises.push(promise);\n        }\n\n        Promise.all(loadPromises)\n            .then( () => {\n                console.log(\"all animations loaded!\");\n                this._animationsReady = true;\n                this._setup();\n            } )\n            .catch( (e) => {\n                if(e === \"cancel\") return;\n                window.dispatchEvent(new CustomEvent(\"OnError\", {\n                    bubbles: false\n                }));\n                throw new Error('Error while loading animations! please check your images...');\n            });\n    }\n\n    /**\n     * setup the animator to be ready.\n     * Once ready we dispatch the \"OnAnimatorReady\" custom event\n     * @private\n     */\n    _setup() {\n\n        //setting the starting animation and frame\n        this._frameIndex = Math.min(Math.max(parseInt(this._frameIndex), 0), this._countFrames - 1);\n        this._animationIndex = Math.min(Math.max(parseInt(this._animationIndex), 0), this._animations.length - 1);\n\n        \n        this._resizer = new Resizer(this._layers);\n        this._initTiles();\n\n        this.hotspots = new Hotspots(this._layers, this._hotspotRegions , this._regionInfo , this._orbitalConfig.HSColors);\n\n        this._inputSystem = new InputSystem(this.eventsCanvas , \n            {\n                width : this.maxWidth , \n                height : this.maxHeight\n            },\n            this._orbitalConfig.zoomOptions,\n            this._orbitalConfig.dragOptions,\n        );\n        \n\n        this._inputSystem.rect.addEventListener('OnZoom' , () => {\n            this._onZoomEvent();\n        });\n\n        if(this._countFrames > 1) {\n            this._inputSystem.rect.addEventListener('OnDrag' , (e) => {\n                this.onDragEvent(e);\n            });\n        }\n        \n\n\n        window.onresize = () => {\n            this._resizer.resize();\n            this._inputSystem.zoom.setMaxZoom();\n            this.requestFrameDraw();\n        };\n\n        window.dispatchEvent(new CustomEvent(\"OnAnimatorReady\", {\n            bubbles: false\n        }));\n    }\n\n    /**\n     * instantiate tiles controller\n     * @private\n     */\n    _initTiles() {\n        this._tilesController = new TilesController(this._orbitalConfig);\n    }\n\n    /**\n     * Run the Animator after the ready state\n     */\n    run() {\n        this._showAnimationFrame(this._animationIndex , this._frameIndex);\n        if(this._orbitalConfig.autoplay){\n            window.setTimeout(() => this.play(), 0);\n        } \n    }\n\n    play() {\n        if(this._isPlaying || this._countFrames == 1) return;\n\n        window.requestAnimationFrame( (timestamp) => {this._update(timestamp)} );\n        this._isPlaying = true;\n    }\n\n    stop() {\n        if(!this._isPlaying) return;\n        window.cancelAnimationFrame( (timestamp) => {this._update(timestamp)} );\n        this._isPlaying = false;\n    }\n\n    /**\n     * Timeline Update loop\n     * @param {Number} timestamp - timestamp after next draw\n     * @private\n     */\n    _update(timestamp) {\n\n        if(!this._animationsReady) {\n           return;\n        }\n        \n        if (this._startTime === undefined) {\n            this._startTime = timestamp;\n        }\n        const elapsed = timestamp - this._startTime;\n    \n        if(elapsed >= this._tlTimeDraw && this._isPlaying) {\n            this._step();\n            //this event is useful to rotate the compass when playing the timeline\n            window.dispatchEvent(new CustomEvent(\"OnUpdateTimeline\" , {\n                bubbles : false\n            }));\n            this._startTime = timestamp;\n        }\n\n        window.requestAnimationFrame( (timestamp) => {this._update(timestamp)} );\n\n    }\n\n    /**\n     * play one frame in the desired direction\n     * @param {Boolean} reverse - if true we step the animation reversed\n     * /@private\n     */\n    _step(reverse){\n        if(this._countFrames === 1) return;\n\n        reverse = (reverse == undefined) ? this._reverse : reverse;\n        if(reverse) {\n            this._setPrevIndex();\n        }else{\n            this._setNextIndex();\n        }\n        this._showAnimationFrame(this._animationIndex , this._frameIndex);\n    }\n\n\n\n    /**\n     * draw call with request animation frame,\n     * see if the browser is ready to draw \n     * @public\n     */\n     requestFrameDraw() {\n        window.requestAnimationFrame( () => {this._draw()} );\n    }\n\n    /**\n     * draw the current frame,\n     * draw the hotspots,\n     * load and draw the tiles.\n     * @private\n     */\n    _draw(){\n        \n        //dont draw if animator is not ready \n        if(!this._animationsReady) {\n            return;\n        }\n\n        \n        // getting info about the draw size , frame , scaleFactor\n        const anim = this._getAnimation();\n        this._currentFrame = anim.findFrame(this._frameIndex);\n        const scaleFactor = this._inputSystem.zoom.currentScale;\n\n        // calculate the current width and height\n        this._currentWidth = this.maxWidth * scaleFactor;\n        this._currentHeight = this.maxHeight * scaleFactor;\n\n        \n        // setting zoom offset based on zooming points\n        this._setZoomOffset();\n\n        // calculating x y coordinates from the center of the canvas minus zoom offsets\n        let x = Math.round( ( this._animCanvas.width*0.5 - this._currentWidth*0.5 ) - this._offsetX );\n        let y = Math.round( (this._animCanvas.height*0.5 - this._currentHeight*0.5) - this._offsetY );\n\n        // width is to small to zoom in/out, so centering the frame is the best option\n        if(this._animCanvas.width < this.mobileWidth) {\n            x = Math.round( this._animCanvas.width*0.5 - this._currentWidth*0.5 );\n            y = Math.round( this._animCanvas.height*0.5 - this._currentHeight*0.5 );\n            this._offsetX = 0;\n            this._offsetY = 0;\n        }\n\n        \n        // clearing the draw canvases , tiles must be cleared before the anim ctx(preloaded sizes canvas) \n        this._tilesCtx.clearRect(0, 0, this._tilesCanvas.width, this._tilesCanvas.height);\n        this._animCtx.clearRect(0, 0, this._animCanvas.width, this._animCanvas.height);\n\n        /**\n         * draw tiles if the canvas exist.\n         * Promise resolve canvas containing tiles or reject\n         */\n         const animIndex = this._animationIndex;\n         const frameIndex = this._frameIndex;\n         const offsetX = this._offsetX;\n         const offsetY = this._offsetY;\n\n        const pr = this._tilesController.fetchTiles(animIndex , frameIndex , this._currentWidth , scaleFactor);\n        pr.then(canvas => {\n            //check if scale is the same after loading the tile\n            const scale = this._inputSystem.zoom.currentScale;\n            if (\n                scale !== scaleFactor || \n                animIndex !== this._animationIndex || \n                frameIndex !== this._frameIndex ||\n                offsetX !== this._offsetX ||\n                offsetY !== this._offsetY\n            ) return;\n            \n            this._tilesCtx.drawImage(canvas , x, y , this._currentWidth , this._currentHeight);\n\n        }).catch(() => {\n            return;\n        });\n\n\n        // draw hotspots\n        this.hotspots.drawHts(this._animationIndex , this._frameIndex , this._currentWidth , this._currentHeight , this._offsetX , this._offsetY);\n\n        // draw the preloaded frame\n        this._animCtx.drawImage(this._currentFrame , x, y , this._currentWidth , this._currentHeight);\n        \n        \n    }\n\n    _setZoomOffset() {\n\n        if(this._offsetX === undefined) this._offsetX = 0;\n        if(this._offsetY === undefined) this._offsetY = 0;\n\n        if(this._zoomPoints === undefined) {\n            return;\n        }\n        \n        const screenCenterX = this._animCanvas.width*0.5;\n        const screenCenterY = this._animCanvas.height*0.5;\n        const xPivot = screenCenterX - (this._currentWidth*0.5) + this._offsetX;\n        const yPivot = screenCenterY - (this._currentHeight*0.5) + this._offsetY;\n        const framePosX = xPivot + this._currentWidth*0.5;\n        const framePosY = yPivot + this._currentHeight*0.5;\n        \n        let zPointx;\n        let zPointy;\n        \n        if(!this._inputSystem.zoom.isZoomIn || this._zoomPoints == -1){            \n            zPointx = screenCenterX - framePosX ;\n            zPointy = screenCenterY - framePosY ;\n        }else{\n            zPointx = this._zoomPoints.x - framePosX;\n            zPointy = this._zoomPoints.y - framePosY;\n        }\n        \n        const speed = 0.1;\n        const maxMagnitude = this._animCanvas.width * 0.1;\n        const angle = Math.atan2(zPointy , zPointx);\n\n        let magnitude = Math.sqrt(Math.pow(zPointx , 2) + Math.pow(zPointy , 2));\n        // limit the magnitude to avoid high speed zooming animation\n        if(magnitude > maxMagnitude) magnitude = maxMagnitude;\n\n        this._offsetX += Math.round( (magnitude * Math.cos(angle)) * speed );\n        this._offsetY += Math.round( (magnitude * Math.sin(angle)) * speed );\n\n        this._zoomPoints = undefined;\n    }\n\n    /**\n     * Switch to a desired Animation\n     * @param {Number} index - the animation index\n     */\n    switchAnimation(index) {\n        if(index < 0 || index >= this._animations.length) {\n            return;\n        }\n\n        this._showAnimationFrame(index , this._frameIndex);\n    }\n\n\n    /**\n     * \n     * @param {Number} animIndex - the animation index\n     * @param {Number} frameIndex - the frame index\n     * @private\n     */\n    _showAnimationFrame (animIndex , frameIndex) {\n        this._animationIndex = animIndex;\n        this._frameIndex = frameIndex;\n        this.requestFrameDraw();\n    }\n\n    \n\n    /**\n     * Play one frame\n     * @param {Boolean} reverse - is reversed direction\n     * @public\n     */\n    playFrame(reverse) {\n        this.stop();\n        this._step(reverse);\n    }\n\n\n    /**\n     * get the current animation\n     * @returns {Animation} the current animation\n     * @private\n     */\n    _getAnimation() {\n        return this._animations[this._animationIndex];\n    }\n\n    _setNextIndex() {\n        this._frameIndex++;\n        if (this._frameIndex >= this._countFrames) {\n            this._frameIndex = 0;\n        }\n    }\n\n    _setPrevIndex() {\n        this._frameIndex--;\n        if (this._frameIndex < 0) {\n            this._frameIndex = this._countFrames-1;\n        }\n    }\n\n    /**\n     * draw when zoom changed\n     * @private\n     */\n    _onZoomEvent(){\n        this._zoomLerp();\n        this.stop();\n        this.requestFrameDraw();\n    }\n\n    _zoomLerp () {\n        const points = this._inputSystem.zoom.zoomPoints;\n\n        if(points == -1) {\n           /*  this._zoomPoints.x = 0;\n            this._zoomPoints.y = 0; */\n            this._zoomPoints = -1;\n            return;\n        }\n\n        this._zoomPoints = points;\n        \n    }\n\n    /**\n     * draw when drag controls changed\n     * @private\n     */\n    onDragEvent(e){\n        this.playFrame(e.detail);\n    }\n\n}\n\n\nexport { Animator };","class CanvasBuilder {\n\n    /**\n     * \n     * @param {String} parentId - the app container ID\n     */\n    constructor (parentId) {\n\n        this._parentId = parentId;\n        this._parentElem;\n    }\n\n    createLayers() {\n\n        /**\n         * chek if there is a valid container\n         */\n        this._parentElem = document.getElementById(this._parentId);\n        if(!this._parentElem) {\n            alert(\"Orbital dom element not found !! \" + this._parentId);\n            throw new Error (\"Orbital dom element not found !!\" + this._parentId);\n        }\n\n        //setup the layers\n        const eventsCanvas = this.createCanvas(\"eventsCanvas\" , 99);\n        const htEffectCanvas = this.createCanvas(\"htEffectCanvas\" , 5);\n        const htDrawCanvas = this.createCanvas(\"htDrawCanvas\" , 4);\n        const tilesCanvas = this.createCanvas(\"tilesCanvas\" , 3);\n        const animCanvas = this.createCanvas(\"animCanvas\" , 2);\n        const htRefCanvas = this.createCanvas(\"htRefCanvas\" , 1);\n        \n        htRefCanvas.style.left = \"-300%\";\n        htRefCanvas.style.visibility = \"hidden\";\n\n        //add and return the canvas group\n        const layers = {\n            animation :  animCanvas,\n            hotspotsRef : htRefCanvas,\n            hotspotsDraw : htDrawCanvas ,\n            hotspotsEffects : htEffectCanvas,\n            eventsCanvas : eventsCanvas,\n            tilesCanvas : tilesCanvas\n        }\n        return layers;\n        \n    }\n\n    /**\n     * \n     * @param {Number} id - give the canvas element an ID\n     * @returns {HTMLCanvasElement} the created canvas\n     */\n    createCanvas (id , zId){\n        if(this._parentElem === null) return;\n        const canvas = document.createElement('canvas');\n        canvas.id     = id;\n        canvas.width  = document.documentElement.clientWidth;\n        canvas.height = document.documentElement.clientHeight;\n        //for our issue in oldest mobiles of the overflow, we set position to be fixed\n        canvas.style.position = \"fixed\"; \n        canvas.style.zIndex = zId;\n        canvas.style.top = 0;\n        canvas.style.left = 0;\n\n        this._parentElem.appendChild(canvas);\n        return canvas;\n    }\n}\n\n\nexport {CanvasBuilder}","class Drag {\n    /**\n     * control dragging events\n     * @param {HTMLCanvasElement} rect - canvas events capturer\n     * @param {object} dragOptions - drag options\n     */\n     constructor(rect , dragOptions) {\n        this.rect = rect;\n\n        // drag parameters\n        this._sensitivity = dragOptions.sensitivity; // drag sensitivity, heigher value for faster animation\n        this._threshold = dragOptions.threshold; // drag differnce to reach for a step\n        this._throwSens = dragOptions.throwSens; // drag throwing sensitivity , heigher value for faster animation\n        this._maxVelocity = dragOptions.maxVelocity; \n        /**\n         * when dragging with height velocity, we capture the number of frames to be played\n         * heigher value for faster animation\n         */\n        this._maxStepsCaptures = 50; \n        this.velocity = undefined;\n\n        //this._dragWait = 0;\n\n\n        this.isDragging = false;\n        this.reverse = true;\n\n        this._prevX = undefined;\n        this._prevT = undefined; // the previus time when dragging, useful to calculate the velocity\n        this._lastDiff = undefined; // the last drag difference\n        this._bounding;\n\n        this._waitTimout;\n\n        this.init();\n    }\n\n    /**\n     * get the canvas bounding rect\n     */\n    get _bounding(){\n        return this.rect.getBoundingClientRect();\n    }\n\n    init() {\n        this.clear();\n    }\n\n    /**\n     * clear the dragging params\n     */\n    clear(){\n        this.isDragging = false;\n        this._prevX = undefined;\n        this._prevT = undefined;\n        this._lastDiff = undefined;\n        clearTimeout(this._waitTimout);\n    }\n\n    //#region Mouse interactions\n    mouseDown(e){\n        this._startEvent(e.clientX);\n    }\n\n    mouseMove(e){\n        \n        if(!this.isDragging) return;\n        this._rotate(e.clientX);\n    }\n\n    mouseUp(){\n        this._endEvent();\n    }\n    //#endregion\n\n    //#region Touch interactions\n    touchStart(e) {\n        const touches = e.touches;\n        if(touches.length > 1) {\n            this.clear();\n            return\n        }\n        this._startEvent(touches[0].clientX);\n    }\n\n    touchMove(e) {\n        if(!this.isDragging) return;\n        const touches = e.touches;\n        if(touches.length > 1) {\n            this.clear();\n            return\n        }\n        \n        this._rotate(touches[0].clientX);\n    }\n\n    touchEnd() {\n        this._endEvent();\n    }\n    //#endregion\n\n\n    //#region Drag setup\n    _startEvent (clientX){\n        this.isDragging = true;\n        this._prevX = this._getCurrentX(clientX);\n        this._prevT = Date.now();\n        clearTimeout(this._waitTimout);\n    }\n    _endEvent (){\n        this.isDragging = false;\n        this._throw();\n        this._lastDiff = undefined;\n    }\n    //#endregion\n\n\n\n    /**\n     * animate when dragging\n     * @param {Number} clientX - x coordinate of the click/touch event\n     */\n    async _rotate(clientX){\n        \n        \n        //get the current x of the interaction\n        const currentX = this._getCurrentX(clientX);\n        //calculate the difference between the last pos and the current pos\n        this._lastDiff = Math.round(currentX - this._prevX);\n        const new_t = Date.now();\n        const elapsed = new_t - this._prevT;\n        //this.velocity = Math.sqrt(Math.pow(this._lastDiff , 2))/elapsed;\n        this.velocity = Math.abs(this._lastDiff/elapsed);\n\n        //compare the absolute difference and the mouse threshold\n        if(Math.abs(this._lastDiff) > this._threshold) {\n            \n            //check if direction is reversed\n            this.reverse = this._lastDiff > 0;\n\n            /**\n             * play animation based on the delta x movement,\n             * await the acceleration interval,\n             * then we drag the next iteration\n             */\n\n            const condition = Math.floor(this.velocity * this._sensitivity);\n            //console.log(condition);\n            for (let i = 0; i <= condition ; i++) {\n\n                \n                // acceleration timer\n                await this._wait(this.velocity);\n\n                /**\n                 * bind the OnDrag Event\n                 *  \n                 */\n                this.rect.dispatchEvent(new CustomEvent(\"OnDrag\", {\n                    bubbles: false,\n                    // detail :bool , indicate the drag direction (!reversed : right)\n                    detail : this.reverse\n                }));\n\n            }\n\n            //save the current params\n            this._prevX = currentX;\n            this._prevT = new_t;\n        }\n    }\n\n    /**\n     * throwing system with acceleration \n     * @returns null\n     */\n    async _throw(){\n        const absDiff = Math.abs(this._lastDiff);\n        if (this.isDragging || this._lastDiff === undefined || absDiff < this._threshold) {\n            this.clear();\n            return;\n        }\n\n        // get the direction\n        const reverse = this._lastDiff > 0;\n\n        // saved captures when dragging , based on acceleration and mapped to the max captures\n        let captures = Math.round( Math.abs(this.velocity) ) * this._throwSens;\n        captures = captures > this._maxStepsCaptures ? this._maxStepsCaptures : captures;\n        \n        // mapping the velocity to the max velocity\n        this.velocity = this.velocity > this._maxVelocity ? this._maxVelocity : this.velocity;\n        // inverting the value based on the max velocity\n        this.velocity = this._maxVelocity - this.velocity;\n\n        for (let i = 0; i < captures ; i++) {\n            if (this.isDragging) {\n                this.clear();\n                break;\n            }\n            \n            await this._wait(this.velocity);\n            this.rect.dispatchEvent(new CustomEvent(\"OnDrag\", {\n                bubbles: false,\n                detail : reverse\n            }));\n            const ease = this._easeOutSine(i/captures);\n            this.velocity += ease * this._sensitivity;\n        }\n    }\n    \n    /**\n     * Sin ease function \n     * @param {Number} x value from 0 to 1\n     * @returns easing value from 0 to 1\n     */\n    _easeOutSine(x) {\n        return Math.sin((x * Math.PI) / 2);\n    }\n\n\n    /**\n     * timer with promise\n     * @returns {Promise} the wait promise\n     */\n     _wait(ms) {\n        const p = new Promise( (resolve) => {\n            this._waitTimout = setTimeout( () => {\n                resolve();\n            } , ms);\n        } );\n        \n        return p;\n    }\n\n\n    /**\n     * return the valid click or touch \n     * @param {Number} clientX the clientX of the interaction\n     * @returns {Number} valid click/touch in the rect\n     */\n    _getCurrentX(clientX) {\n        return clientX - this._bounding.left;\n    }\n\n}\n\nexport {Drag}","import { Zoom } from \"./zoom\";\nimport { Drag } from \"./drag\";\n\nclass InputSystem {\n    constructor(rect , naturalSizes , zoomOptions , dragOptions) {\n        this.rect = rect;\n        this.drag = new Drag(rect , dragOptions);\n        this.zoom = new Zoom(rect , naturalSizes , zoomOptions);\n        \n        this.init();\n    }\n\n    _hasTouch() {\n        return (('ontouchstart' in window));\n    }\n\n    init() {\n        \n        if(this._hasTouch()) {\n            console.log(\"touch support\");\n            //touch events listeners\n            this._touchListeners();\n        }else{\n            // mouse events\n            this._mouseListeners();\n            /**\n             * zoom control events\n             */\n            this._pointerZoomEvent();\n        }\n\n        this.rect.addEventListener('wheel', (e) => {\n            e.preventDefault();\n            this.zoom._wheelZoom(e);\n        });\n\n    }\n\n    _mouseListeners(){\n        this.rect.onmousedown = e => {\n            if(e.button === 0) this._mouseDown(e);            \n        }\n\n        this.rect.onmousemove = e => {\n            this._mouseMove(e);\n        }\n\n        this.rect.onmouseup = (e) => {\n            this._mouseUp(e);\n        }\n    }\n\n    _touchListeners(){\n        this.rect.addEventListener(\"touchstart\" , (e) => {\n            this._touchStart(e);\n        });\n\n        this.rect.addEventListener(\"touchmove\" , (e) => {\n            e.preventDefault();\n            this._touchMove(e);\n        } , { passive: false }); // without !passive event isn't preventing default behavior in ios safari 15+\n\n        this.rect.addEventListener(\"touchend\" , (e) => {\n            this._touchEnd(e);\n        });\n    }\n\n    \n    _pointerZoomEvent(){\n        \n        //pointer events for zoom\n        this.rect.addEventListener(\"pointerdown\" , (e) => {\n            if(e.button !== 0) {\n                this.zoom.pointerEnd(e);\n                return;\n            }\n            this.zoom.pointerStart(e);\n        });\n\n        this.rect.addEventListener(\"pointermove\" , (e) => {\n            e.preventDefault();\n            this.zoom.pointerMove(e);\n        });\n\n        this.rect.addEventListener(\"pointerup\" , (e) => {\n            this.zoom.pointerEnd(e);\n            \n        });\n\n        this.rect.addEventListener(\"pointercancel\" , (e) => {\n            this.zoom.pointerEnd(e);\n           \n        });\n\n        this.rect.addEventListener(\"pointerout\" , (e) => {\n            this.zoom.pointerEnd(e);\n        });\n\n        this.rect.addEventListener(\"pointerleave\" , (e) => {\n            this.zoom.pointerEnd(e);\n        });\n    }\n\n\n    \n\n\n    //#region Mouse interactions\n    _mouseDown(e){\n        this.drag._startEvent(e.clientX);\n    }\n    _mouseMove(e){\n        \n        if(this.zoom.isZooming){\n            this.drag.clear();\n            return;\n        } \n        \n        this.drag.mouseMove(e);\n    }\n    _mouseUp(e){\n        this.drag.mouseUp(e);\n    }\n    //#endregion\n\n\n\n    //#region Touch interactions\n    _touchStart(e) {\n        const touches = e.changedTouches;\n        this.zoom.touchStart(e);\n        this.drag._startEvent(touches[0].clientX);\n        \n    }\n    _touchMove(e) {\n        this.zoom.touchMove(e);\n        if(this.zoom.isZooming){\n            this.drag.clear();\n            return;\n        } \n        this.drag.touchMove(e);\n        \n        \n    }\n    _touchEnd(e) {\n        this.zoom.touchEnd(e);\n        this.drag._endEvent();\n    }\n    //#endregion\n}\n\n\nexport {InputSystem}","class Zoom {\n\n    /**\n     * \n     * @param {HTMLCanvasElement} rect - rect containing events\n     * @param {Object} naturalSizes - natural size of images\n     * @param {Number} naturalSizes.width - natural images width \n     * @param {Number} naturalSizes.height - natural images height \n     * @param {Object} options - zoom params\n     */\n    constructor(rect , naturalSizes , options){\n        this.rect = rect;\n        this._naturalSizes = naturalSizes;\n        this.options = options;\n\n        //cache Pointers event\n        this.evCache = [];\n        this.prevDiff = -1;\n\n        //cache Touches event\n        this.prevTouchDiff = -1;\n\n        this.isZooming = false;\n\n        this.zoomPoints = -1;\n\n        this.init();\n    }\n\n    init() {\n\n        this.defaultOptions = {\n            scaleFactor : 0.03,\n            currentScale : 0.5,\n            minScale : 0.26,\n            maxScale : 1,\n            scaleMargins : 0.2,\n            zoomInterval : 16.66\n        };\n        this.setOptions(this.options);\n        this.setMaxZoom();\n\n        \n    }\n\n    /**\n     * set the zoom options\n     * @param {Object} options - zoom options\n     * @param {Number} options.scaleFactor \n     * @param {Number} options.currentScale\n     * @param {Number} options.minScale \n     * @param {Number} options.maxScale\n     * @public\n     */\n    setOptions(options) {\n\n        if (typeof(options) == \"undefined\") {\n\n            this.options = this.defaultOptions;\n\n        }else {\n            Object.keys(options).forEach((opt) => {\n\n                if(typeof(this.options[opt]) !== \"undefined\") {\n                    this.options[opt] = options[opt]\n                }\n                \n            })\n        }\n\n        this.currentScale = this.options.initScale;\n        this.scaleFactor = this.options.scaleFactor;\n        this.minScale = this.options.minScale;\n        this.maxScale = this.options.maxScale;\n        this.scaleMargins = this.options.scaleMargins;\n\n    }\n\n\n    //#region Touch interactions\n    touchStart(e) {\n        if(e.touches.length === 2) {\n            this.isZooming = true;\n        }\n        \n    }\n    touchMove(e) {\n        if(e.touches.length === 2) {\n            const curDiff = Math.abs(e.touches[0].clientX - e.touches[1].clientX);\n            \n            if (this.prevTouchDiff > 0) {\n\n                let zoomIn;\n\n                if(curDiff > this.prevTouchDiff) {\n                    zoomIn = true;\n                }\n\n                if(curDiff < this.prevTouchDiff) {\n                    zoomIn = false;\n                }\n\n                const pinchCenter = this._getPinchCenter(\n                    e.touches[1].clientX, \n                    e.touches[0].clientX,\n                    e.touches[1].clientY,\n                    e.touches[0].clientY,\n                );\n\n                this._pinchZoom(zoomIn , pinchCenter.xPoint , pinchCenter.yPoint);\n            }\n            // Cache the distance for the next move event\n            this.prevTouchDiff = curDiff;\n        }\n        \n    }\n    touchEnd(e) {\n        this.isZooming = false;\n        // If the number of pointers down is less than two then reset diff tracker\n        if (e.changedTouches.length < 2) {\n            this.prevTouchDiff = -1;\n        }\n        \n    }\n    //#endregion\n\n\n\n\n    \n    //#region Pointer interactions\n    pointerStart(e) {\n        this.evCache.push(e);\n        \n    }\n\n    pointerMove(e) {\n\n        // Find this event in the cache and update its record with this event\n        const index = this.evCache.findIndex((cachedEv) => cachedEv.pointerId === e.pointerId);\n        this.evCache[index] = e;\n\n        // If two pointers are down, check for pinch gestures\n        if (this.evCache.length === 2) {\n            // Calculate the distance between the two pointers\n            const curDiff = Math.abs(this.evCache[0].clientX - this.evCache[1].clientX);\n\n            if (this.prevDiff > 0) {\n\n                let zoomIn = true;\n\n                if(curDiff > this.prevDiff) {\n                    zoomIn = true;\n                }\n\n                if(curDiff < this.prevDiff) {\n                    zoomIn = false;\n                }\n\n                const pinchCenter = this._getPinchCenter(\n                    this.evCache[1].clientX, \n                    this.evCache[0].clientX,\n                    this.evCache[1].clientY,\n                    this.evCache[0].clientY,\n                );\n\n                this._pinchZoom(zoomIn , pinchCenter.xPoint , pinchCenter.yPoint);\n            }\n            // Cache the distance for the next move event\n            this.prevDiff = curDiff;\n            \n        } \n    }\n\n    pointerEnd() {\n        this.isZooming = false;\n        // Remove this pointer from the cache\n        //this._removeEvent(e);\n        this.evCache = [];\n        //console.log(e);\n        // If the number of pointers down is less than two then reset diff tracker\n        /* if (this.evCache.length < 2) {\n            this.prevDiff = -1;\n        } */\n    }\n\n    _getPinchCenter(x0 , x1 , y0 , y1) {\n        const diffX = x1 - x0;\n        const diffY = y1 - y0;\n        const xPoint = x0 + diffX * 0.5;\n        const yPoint = y0 + diffY * 0.5;\n        return {xPoint , yPoint};\n    }\n\n    _removeEvent(e) {\n        // Remove this event from the target's cache\n        const index = this.evCache.findIndex((cachedEv) => cachedEv.pointerId === e.pointerId);\n        this.evCache.splice(index, 1);\n      }\n    //#endregion\n\n    \n\n\n    /**\n     * set manual zoom\n     * @param {Boolean} zoomIn \n     * @returns null\n     */\n    setZoom(zoomIn){\n        if(!this._canZoom(zoomIn)) return;\n        this.isZoomIn = zoomIn;\n        this.isZooming = true;\n        this._limitScale();\n        this.zoomPoints = -1;\n        this.rect.dispatchEvent(new CustomEvent(\"OnZoom\", {\n            bubbles: false\n        }));\n\n        this.isZooming = false;\n    }\n\n    /**\n     * set pinch zoom\n     * @param {Boolean} zoomIn \n     * @returns null\n     */\n    _pinchZoom(zoomIn , xPoint , yPoint){\n\n        if(!this._canZoom(zoomIn)) return;\n        this.isZoomIn = zoomIn;\n        this.isZooming = true;\n        this._limitScale();\n\n        this._setZoomPoints(xPoint , yPoint);\n        \n        this.rect.dispatchEvent(new CustomEvent(\"OnZoom\", {\n            bubbles: false\n        }));\n    }\n\n\n    /**\n     * set wheel zoom\n     * @param {object} e \n     * @returns null\n     */\n    _wheelZoom(e){\n\n        if(!this._canZoom(e.deltaY < 0)) return;\n        this.isZoomIn = e.deltaY < 0;\n\n        this._limitScale();\n\n        const xPoint = e.clientX - this.rect.getBoundingClientRect().left;\n        const yPoint = e.clientY - this.rect.getBoundingClientRect().top;\n        this._setZoomPoints(xPoint , yPoint);\n        \n        this.rect.dispatchEvent(new CustomEvent(\"OnZoom\", {\n            bubbles: false\n        }));\n        \n    }\n\n    _canZoom(zoomIn) {\n        const timestamp = Date.now();\n        if (this.zoomTimeStart === undefined) {\n            this.zoomTimeStart = timestamp;\n        }\n        const elapsed = timestamp - this.zoomTimeStart;\n    \n        if(elapsed <= this.options.zoomInterval) { //framerate simulation\n            return false;\n        }\n        this.zoomTimeStart = timestamp;\n        \n        if(zoomIn) {\n            //zoom in\n            if(this.currentScale >= this.maxScale) return false\n            this.currentScale += this.scaleFactor;\n        }else{\n            //zoomOut\n            if(this.currentScale <= this.minScale) return false;\n            this.currentScale -= this.scaleFactor;\n        }\n\n        return true;\n    }\n\n\n\n    _limitScale() {\n        if(this.currentScale >= this.maxScale || this.currentScale <= this.minScale) {\n            this.currentScale = Math.min(Math.max(this.currentScale, this.minScale), this.maxScale);\n        }\n        \n    }\n    \n    \n    setMaxZoom() {\n        const natWidth = this._naturalSizes.width;\n        let scale = document.documentElement.clientWidth / natWidth;\n        scale += this.scaleMargins;\n        if(scale >= 1){\n            this.currentScale = this.maxScale;\n            return;\n        } \n\n        if(scale <= this.minScale){\n            this.maxScale = this.minScale;\n            this.currentScale = this.minScale;\n            return;\n        } \n\n        \n        this.maxScale = scale;\n        if(scale < this.currentScale ){\n            this.currentScale = scale;\n        }\n        \n    }\n\n    _setZoomPoints(x , y){\n        if(this._canZoomInPoint()) {\n            this.zoomPoints = {\n                x : x, \n                y : y\n            };\n        }else{\n            this.zoomPoints = -1;\n        }\n    }\n\n    _canZoomInPoint() {\n        const scaleAmount = 0.4; // scale amount to apply points zooming\n        const rayScale = this.minScale + ((this.maxScale - this.minScale) * scaleAmount);\n        return this.currentScale > rayScale;\n    }\n      \n      \n\n}\n\nexport {Zoom}","import { COLOR_HELPER} from \"../utils/helpers\";\n\nclass Hotspots{\n\n    /**\n     * @param {Object} canvasGroup the app canvas object\n     * @param {HTMLCanvasElement} canvasGroup.eventsCanvas - events capture\n     * @param {HTMLCanvasElement} canvasGroup.hotspotsDraw - hotspots drawer\n     * @param {HTMLCanvasElement} canvasGroup.hotspotsEffects - hotspots Effects\n     * @param {HTMLCanvasElement} canvasGroup.animation - animation drawer\n     * @param {HTMLCanvasElement} canvasGroup.tilesCanvas - tiles drawer\n     * @param {HTMLCanvasElement} canvasGroup.hotspotsRef - hotspots references drawer\n     * @param {Array<object>} hotspotRegions - array contains all hotspots infos\n     * @param {Object} regionsInfo - Object contains all regions infos related to hotspots\n     * @param {Object} HSColors - hotspot polygons colors\n     */\n    constructor(canvasGroup , hotspotRegions , regionsInfo , HSColors)\n    {\n        this._canvasGroup = canvasGroup;\n        \n        this._hotspotRegions = hotspotRegions;\n\n        this.regionsInfo = regionsInfo;\n\n        this._HSColors = HSColors;\n\n        this.imgW, this.imgH , this.level = 0 , this.frame = 0;\n\n        this.htDrawCtx , this.htRefCtx;\n\n        /**\n         * array containing all hotspots,\n         * ordered by level and frame,\n         * ukey is the unique color to be pointed when hovering a polygon,\n         * pointing to unique color instead of looping trough all filtredRegions by row,\n         * the column ... is moore efficient\n         * e.g this.filtredRegions[row][column][uKey] = {}\n         */\n        this.filtredRegions = [[[]]];\n        \n        /**\n         * the unique color set, we use Set to ensure non duplicate value\n         */\n        this._uColorSet;\n        \n\n        /**\n         * object of filters to be applied when drawing hotspots,\n         * e.g this.filterOptions.surface = {min : Number , max:Number}\n         */\n        this.filterOptions = {};\n\n        this._hsRefTimer;\n        this._delayRefDraw = 500;\n\n        this._lastHovered = undefined;\n\n        this._useHotspots = false;\n\n        this.init();\n    }\n\n    init(){\n\n        this.htDrawcanvas = this._canvasGroup.hotspotsDraw;\n        this.htEffectCanvas = this._canvasGroup.hotspotsEffects;\n        this.htRefCanvas = this._canvasGroup.hotspotsRef;\n        this.htEvtCanvas = this._canvasGroup.eventsCanvas;\n\n        this.htDrawCtx = this.htDrawcanvas.getContext(\"2d\");\n        this.htEffectCtx = this.htEffectCanvas.getContext(\"2d\");\n        this.htRefCtx = this.htRefCanvas.getContext(\"2d\" , {willReadFrequently: true }); // For more info about the [willReadFrequently] : https://html.spec.whatwg.org/multipage/canvas.html#dom-canvasrenderingcontext2dsettings-willreadfrequently\n        this.htEvtCtx = this.htRefCanvas.getContext(\"2d\");\n        \n        this._typesColors = this._HSColors;\n                \n    }\n\n    useHotspots(useHotspots){\n        this._useHotspots = useHotspots;\n        this._setupHotspots();\n    }\n\n    _setupHotspots(){\n        if(!this._useHotspots) return;\n        this._initHotspots();\n        this.drawHts();\n        this.hSEvents();\n    }\n    \n\n    /**\n     * setup hotspots data,\n     */\n    _initHotspots() {\n        this._uColorSet = new Set();\n\n        \n        this._hotspotRegions.forEach((ht , index) => {\n            \n            if(index >= Object.keys(this.regionsInfo).length) return;\n\n            // name of the polygon\n            const name = ht.id;\n            \n            //get the background color and transform to hex code\n            const type = this.regionsInfo[name].type;\n            //const polyColor = ht.$.backgroundcolor.replace(\"0x\" , \"#\");\n            const polyColor = this._typesColors[type];\n            \n            // get the opacity\n            //const polyAlpha = ht.$.backgroundalpha;\n            const polyAlpha = 0.4;\n\n            \n\n            // for every hotspots polygon\n            ht.polygons.forEach(p => {\n\n                //get the polygon\n                const poly = p;\n                \n                // get the level\n                const row = parseInt(poly.state);\n\n                //get the frame\n                const column = parseInt(poly.column);\n\n                // get the formated positions\n                const fPos = this._formatPositions(poly.vertices);\n\n                // get the unique color to be indexed with the polygon\n                let uniqColor = COLOR_HELPER.getUniqColor(this._uColorSet);\n                this._uColorSet.add(uniqColor);\n                uniqColor = COLOR_HELPER.hexToRgb(uniqColor);\n                \n                const polyObj = {\n                    name : name,\n                    polygon : fPos,\n                    colorRef : uniqColor,\n                    fillColor : polyColor,\n                    alpha : polyAlpha,\n\n                }\n\n                // create unique key based on the unique color \n                const uKey = COLOR_HELPER.getColorString(uniqColor);\n\n                /**\n                 * prepare the multi dimensional array, \n                 * row for every level, and column for every frame\n                 */\n                if(typeof(this.filtredRegions[row]) === \"undefined\") {\n                    this.filtredRegions[row] = [];\n                }\n                if(typeof(this.filtredRegions[row][column]) === \"undefined\") {\n                    this.filtredRegions[row][column] = [];\n                }\n\n                //add the poly indexed by the unique key\n                this.filtredRegions[row][column][uKey] = polyObj;\n            })\n                        \n\n        })\n\n        //clear garbage\n        this._hotspotRegions.length = 0;\n\n    }\n\n\n    drawHts(level , frame , imgW , imgH , offsetX , offsetY) {\n        this.level = level;\n        this.frame = frame;\n        this.imgW = imgW;\n        this.imgH = imgH;\n        this.offsetX = offsetX;\n        this.offsetY = offsetY;\n        this._drawHts();\n    }\n\n\n    _drawHts() {\n        if(!this._useHotspots) return;\n        window.clearTimeout(this._hsRefTimer);\n        this._clearCtx(this.htRefCtx);\n        this._clearCtx(this.htEffectCtx);\n        \n        this.drawHotspots();\n\n        this._hsRefTimer = window.setTimeout( () => {\n            this.drawHotspotsRef();\n        } , this._delayRefDraw);\n    }\n\n    drawHotspots() {\n\n        this._clearCtx(this.htDrawCtx);\n        const region = this._getCurrentRegion();\n\n        if(region == undefined) return;\n        \n        Object.values(region).forEach((poly) => {\n            \n            if(this.validate(poly.name)) {\n                const positions = poly.polygon;\n                const c = COLOR_HELPER.getColorFill(COLOR_HELPER.hexToRgb(poly.fillColor) , poly.alpha);\n                this._drawPolygon(this.htDrawCtx , positions , c , undefined , 1);\n            }\n            \n        })\n\n    }\n\n\n    /**\n     * hospots reference, this is the main handler of all interactions with the hotspots,\n     */\n    drawHotspotsRef() {\n        const region = this._getCurrentRegion();\n        if(region == undefined) return\n\n        this._clearCtx(this.htRefCtx);\n\n        Object.values(region).forEach((poly) => {\n            \n            if(this.validate(poly.name)) {\n                const positions = poly.polygon;\n                const fill = COLOR_HELPER.getColorFill(poly.colorRef , 1);\n    \n                requestAnimationFrame(() => this._drawPolygon(this.htRefCtx , positions , fill , undefined));\n            }\n\n        })\n\n    }\n\n    _drawPolygon(ctx , positions , fillStyle , strokeStyle , lineWidth = 2) {\n\n        ctx.strokeStyle = strokeStyle;\n        ctx.lineWidth = 1.0;\n        ctx.fillStyle = fillStyle;\n\n        ctx.lineWidth = lineWidth;\n\n        ctx.beginPath();\n        for (let i = 0; i < positions.length; i++) {\n            const points = positions[i];\n\n            const margX = Math.round( (ctx.canvas.width - this.imgW) * 0.5 );\n            const margY = Math.round( (ctx.canvas.height - this.imgH) * 0.5 );\n\n            //console.log(margX , margY);\n\n            const x = ((points.x * this.imgW) + margX) - this.offsetX;\n            const y = (points.y * this.imgH + margY) - this.offsetY;\n\n            ctx.lineTo(x ,y);\n        }\n\n        ctx.fill();\n        \n        ctx.closePath();\n        if(strokeStyle) ctx.stroke();\n    }\n\n\n    /**\n     * \n     * @param {String} regionName \n     * @returns {Boolean} \n     */\n    validate(regionName) {\n        const infoPoly = this.regionsInfo[regionName];\n        if(infoPoly !== undefined) {\n            const surface = parseInt( infoPoly.surface , 10 );\n            const type = infoPoly.type;\n            const filterOpt = this.filterOptions.surface;\n            const filterTypes = this.filterOptions.types;\n\n            if(filterOpt === undefined || filterTypes === undefined) return false;\n\n            if(surface < filterOpt.minSurface || surface > filterOpt.maxSurface) {\n                return false;\n            }\n\n            if(!filterTypes.includes(type)) return false;\n            \n            return true;\n        }\n        return false;\n    }\n\n    /**\n     * \n     * @param {Object} surface the surface object to filter by\n     */\n    setSurfaceFilter(surface) {\n        this.filterOptions.surface = {\n            minSurface : surface.min,\n            maxSurface : surface.max,\n        }\n        this._updateHotspots();\n    }\n\n    setTypesFilter(types) {\n        this.filterOptions.types = types\n        this._updateHotspots();\n    }\n\n\n    _updateHotspots() {\n        if(!this._useHotspots) return;\n        this._drawHts();\n    }\n    \n    /**\n     * \n     * @param {String} pos polygon positions\n     * @returns {Array} formated positions\n     */\n    _formatPositions(pos){\n        let positions = [];\n        const reg = pos;\n        const polys = reg.split('|');\n        for (let i = 0; i < polys.length; i++) {\n            const coor = polys[i].split(\";\");\n            \n            for (let j = 0; j < coor.length; j++) {\n                const obj = coor[j].split(\",\");\n                positions.push({\n                    x : obj[0],\n                    y : obj[1],\n                })\n            }\n            }\n        return positions;\n    }\n    \n    \n\n\n\n    hSEvents() {\n\n        this.htEvtCanvas.addEventListener(\"mousemove\" , (e) => {\n            this.mouseMoveEvent(e);\n        });\n\n        \n        if(window.PointerEvent) {\n\n            this.htEvtCanvas.addEventListener(\"pointerdown\" , (e) => {\n                this._startEvent(e);\n            });\n            this.htEvtCanvas.addEventListener(\"pointerup\" , (e) => {\n                if(this._canClick()) {\n                    this.clickEvent(e);\n                }\n                \n            });\n\n        }else{\n\n            this.htEvtCanvas.addEventListener(\"mousedown\" , (e) => {\n                this._startEvent(e);\n            });\n            this.htEvtCanvas.addEventListener(\"mouseup\" , (e) => {\n                if(this._canClick()) {\n                    this.clickEvent(e);\n                }\n            });\n\n            this.htEvtCanvas.addEventListener(\"touchstart\" , (e) => {\n                this._startEvent(e);\n            });\n    \n            this.htEvtCanvas.addEventListener(\"touchend\" , (e) => {\n                if(this._canClick()) {\n                    this.touchEvent(e);\n                }\n            });\n        }\n        \n    }\n\n    mouseMoveEvent(e) {\n        const insideData = this._getHotspotData({x : e.clientX , y : e.clientY});\n        if( insideData === undefined ){\n            this._regionOutState();\n            return;\n        }\n        this._regionHoverState(insideData , {x : e.clientX , y : e.clientY});\n        \n    }\n\n\n    clickEvent(e){\n        const insideData = this._getHotspotData({x : e.clientX , y : e.clientY});\n        if( insideData !== undefined ){\n            this._regionClickState(insideData , {x : e.clientX , y : e.clientY});\n        }\n    }\n    touchEvent(e){\n        const touch = e.changedTouches[0];\n        const insideData = this._getHotspotData({x : touch.clientX , y : touch.clientY});\n        if( insideData !== undefined ){\n            this._regionClickState(insideData , {x : touch.clientX , y : touch.clientY});\n        }\n    }\n\n    \n\n    _startEvent(){\n        this.timeStart = Date.now();\n    }\n\n    _canClick() {\n        const t = Date.now();\n\n        const elapsed = t - this.timeStart;\n\n        if(elapsed < 300) {\n            return true;\n        }\n\n        return false;\n    }\n\n    _regionHoverState(color , mousePos) {\n\n        const regionData = this._getSelectedHotspot(color);\n        if(!regionData) {\n            return;\n        }\n\n        \n        const region = regionData.region;\n        if(this._lastHovered === undefined) {\n            this._setHsEffect(region);\n        }else{\n            \n            if(this._lastHovered.name !== region.name){\n                this._clearCtx(this.htEffectCtx);\n                this._setHsEffect(region);\n            }\n        }\n        \n\n        //add hover inline css style\n        this.htEvtCanvas.style.cursor = \"pointer\";\n\n        /**\n         * dispatch the OnHSHover global event on the window,\n         * sending mousePos and the hovered polygon\n         */\n\n        window.dispatchEvent(new CustomEvent(\"OnHSHover\", {\n            bubbles: false,\n            detail : {\n                mousePos : mousePos,\n                region : regionData.region\n            }\n        }));\n    }\n\n    _regionOutState(){\n\n        if(this._lastHovered !== undefined){\n            this._clearCtx(this.htEffectCtx);\n            this._lastHovered = undefined;\n        } \n        \n\n        this.htEvtCanvas.style.cursor = \"default\";\n        window.dispatchEvent(new CustomEvent(\"OnHSHoverOut\", {\n            bubbles: false,\n        }));\n    }\n\n    _regionClickState(color , mousePos) {\n\n        this._regionOutState();\n        const regionData = this._getSelectedHotspot(color);\n        \n        if(regionData === undefined) {\n            return;\n        }\n\n        /**\n         * dispatch the OnHSClick global event on the window,\n         * sending mousePos and the clicked polygon info\n         */\n        const regionName = regionData.region.name;\n        window.dispatchEvent(new CustomEvent(\"OnHSClick\", {\n            bubbles: false,\n            detail : {\n                mousePos : mousePos,\n                region : this.regionsInfo[regionName]\n            }\n        }));\n\n    }\n\n    _setHsEffect(region){\n        this._drawPolygon(this.htEffectCtx , region.polygon , 'transparent' , '#FFFFFF' , 2);\n        this._lastHovered = region;\n    }\n\n\n    _getHotspotData(pos) {\n        const bounding = this.htDrawcanvas.getBoundingClientRect();\n        const x = Math.round(pos.x - bounding.left);\n        const y = Math.round(pos.y - bounding.top);\n\n        // Get image pixel coordinate\n        const pixel = this.htRefCtx.getImageData(x, y, 1, 1);\n        const data = pixel.data;\n\n        // if color is not matching any poly \n        if( data[0] === 0 && data[1] === 0 && data[2] === 0 ){\n            \n            return undefined;\n        }\n        \n        return data;\n    }\n\n    _getSelectedHotspot(color){\n\n        //get the current region from filtered regions based on frame and level\n        const region = this._getCurrentRegion();\n        if(region === undefined) return undefined;\n\n        //get the RGB color\n        const c = {red : color[0] , green:color[1] , blue :color[2] }\n\n        //get the key string from the color\n        const cString = COLOR_HELPER.getColorString(c);\n\n        //point to the polyon with the given key\n        const poly = region[cString];\n        if(poly === undefined) {\n            return undefined;\n        }\n\n        return {region : poly };\n    }\n\n\n\n\n\n    \n\n    /**\n     * return the current region based on current level and frame\n     * @returns {Array<Object>} current region\n     */\n    _getCurrentRegion(){\n\n        if(typeof(this.filtredRegions[this.level]) === \"undefined\") {\n            this._clearCtx(this.htRefCtx);\n            return undefined;\n        }\n\n        if(typeof(this.filtredRegions[this.level][this.frame]) === \"undefined\") {\n            this._clearCtx(this.htRefCtx);\n            return undefined;\n        }\n\n        return this.filtredRegions[this.level][this.frame];\n    }\n\n    _clearCtx(ctx) {\n        ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n    }\n        \n}\n\n\nexport { Hotspots}","import { Animator } from \"./animator\";\nimport { CanvasBuilder } from \"./canvasBuilder\";\n\n\nclass Orbital {\n    constructor(container , orbitalData , regionsInfo){\n        \n        this.container = container;\n\n        this._orbitalData = orbitalData;\n\n        this._regionsInfo = regionsInfo;\n\n        this.animationsPaths = [];\n\n        this.animator, this.canvasBuilder;\n\n    }\n\n    init(configFile){\n        this.hotspotsConfig = configFile;\n        this._setup();\n    }\n\n    _setup() {\n        \n        const params = this._orbitalData.params;\n        const levelsCount = params.animationsCount;\n        let lPath = params.imagesFolder + params.preloadedFolder;\n        \n        for (let i = 0; i < levelsCount; i++) {\n            \n            const p = lPath.replace(/%row/g , i).replace(/%col/g , \"?\");\n            this.animationsPaths.push(p);\n        }\n\n        this.canvasBuilder = new CanvasBuilder(this.container);\n\n        const layers = this.canvasBuilder.createLayers();\n\n        const orbitaConfig = {\n            maxWidth : params.maxWidth,\n            maxHeight : params.maxHeight,\n            imagesFolder : params.imagesFolder,\n            framesCount : params.framesCount,\n            timeLineSpeed : params.timeLineSpeed,\n            autoplay : params.autoplay,\n            frameStart : params.frameStart,\n            animStart : params.animStart,\n            \n            tilesFolder : this._orbitalData.tiles.tilesFolder,\n            breakpoints_sizes : this._orbitalData.tiles.breakpoints_sizes,\n            breakpoints : this._orbitalData.tiles.breakpoints,\n            breakpoints_folder : this._orbitalData.tiles.breakpoints_folder,\n            maxCache : this._orbitalData.tiles.maxTilesCache,\n            cropSize : this._orbitalData.tiles.cropSize,\n\n            zoomOptions : this._orbitalData.controls.zoom,\n            dragOptions : this._orbitalData.controls.drag,\n            HSColors : this._orbitalData.hotspots.color_HS\n        };\n\n\n        this.animator = new Animator(\n            layers,\n            this.animationsPaths ,\n            orbitaConfig,\n            this.hotspotsConfig,\n            this._regionsInfo,\n        );\n\n        window.addEventListener(\"OnAnimatorReady\" , () => this.appReady() , {once : true});\n        this._setConfigStyles();\n    }\n\n    _setConfigStyles(){\n        if(this.animator === undefined) return;\n        document.getElementById(this.container).style.backgroundColor = this._orbitalData.params.bg_color;\n    }\n\n    appReady() {\n\n        this.animationsPaths = null;\n\n        this.animator.run();\n\n        window.dispatchEvent(new CustomEvent(\"OnAppReady\", {\n            bubbles: false\n        }));\n\n        const useHS = this._orbitalData.hotspots.useHotspots;\n        this.useHotspots(useHS);\n    }\n    \n\n    getPercentLoaded() {\n        if(this.animator === undefined) return 0;\n        return this.animator.percentLoaded;\n    }\n\n    playOrbital(){\n        this.animator.play();\n    }\n\n    stopOrbital(){\n        this.animator.stop();\n    }\n\n    next(){\n        this.animator.playFrame(false);\n    }\n\n    prev(){\n        this.animator.playFrame(true);\n    }\n\n    setLevel(level){\n        this.animator.switchAnimation(level);\n    }\n    \n    filterHSByPrice(surface) {\n        if(this.animator) this.animator.stop();\n        if(this.animator.hotspots) this.animator.hotspots.setSurfaceFilter(surface);\n    }\n    filterHSByTypes(types) {\n        if(this.animator) this.animator.stop();\n        if(this.animator.hotspots) this.animator.hotspots.setTypesFilter(types);\n    }\n\n    setZoomOptions (opt){\n        if(this.animator) this.animator._inputSystem.zoom.setOptions(opt);\n    }\n\n    setZoom(zoomIn) {\n        if(this.animator) this.animator._inputSystem.zoom.setZoom(zoomIn);\n    }\n\n    getParam(param){\n        return this._orbitalData.params[param];\n    }\n    getHSParam(param){\n        return this._orbitalData.hotspots[param];\n    }\n\n    getCurrentFrame(){\n        if(!this.animator) return 0;\n        return this.animator._frameIndex;\n    }\n\n    useHotspots(useHS){\n        if(!this.animator) return;\n        if(this.animator.hotspots) this.animator.hotspots.useHotspots(useHS);\n    }\n\n    getEventsCanvas(){\n        if(!this.animator) return null;\n        return this.animator.eventsCanvas;\n    }\n\n    unmountOrbital() {\n        if(this.animator === undefined) return;\n        this.animator.cancel = true;\n    }\n    \n}\n\nexport {Orbital}","class Resizer {\n\n    constructor (canvasObj) {\n\n        this.canvasObj = canvasObj;\n        this.init();\n    }\n\n    init(){\n        this.resize();\n    }\n\n    resize(){\n\n        Object.values(this.canvasObj).forEach((rect) => {\n            rect.width = document.documentElement.clientWidth;\n            rect.height = document.documentElement.clientHeight;\n        });\n\n    }\n}\n\nexport {Resizer}","class TilesController {\n\n    /**\n     * @param {Object} options\n     * some params needed in options\n     * @param {Object} options.breakpoints_sizes - Breakpoints sizes , ex. keys : { small , medium , large}\n     * @param {Number} options.cropSize - the tile size of the splitted image (e.g 512 for 512x512)\n     * @param {Number} options.maxCache - the max cache of tiles\n     *  \n     */\n\n    constructor (options) {\n\n        this.options = options;\n        \n        if(typeof options.breakpoints_sizes === \"undefined\" && typeof options.breakpoints_sizes !== \"object\") {\n            alert(\"breakpoints not valid\")\n            throw new Error(\"breakpoints not valid\");\n        }\n        \n\n        /**\n         * Original images sizes\n         */\n\n        this.naturalSizes = options.breakpoints_sizes;\n\n        /**\n         * the preloaded size by default (this is loaded when the page load)\n         */\n\n        this.preloadedBP = this.naturalSizes.preloaded;\n\n\n        this.cropSize = options.cropSize;\n        this.maxCache = options.maxCache;\n\n\n        /**\n         * the current natural image width ,\n         * when loading tiles we must know the original width of the current breakpoint\n         * we must calculate height based on width with the right aspect ratio\n         */\n        \n        this._currentNaturalWidth = null;\n\n        this._animationIndex = 0;\n        this._currentFrame = 0;\n        this._currentBreakPoint;\n        this._currentScale;\n\n        /** \n         * the cache array , contain lazy-loaded images width additional info\n         * */\n\n        this._cachedFrames = new Array();\n\n        this._useCache = true;\n\n        this._timeOutLoad;\n        this._firstFetch = true;\n\n        this.init();\n    }\n\n    init() {\n\n        this._setLimitCache();\n        // creating sorted breakpoints sizes from min to max\n        this.breakPoints = Object.entries(this.naturalSizes)\n            .sort(([,a],[,b]) => a-b)\n            .reduce((r, [k, v]) => ({ ...r, [k]: v }), {});\n\n       \n    }\n\n\n    _setLimitCache(){\n\n        if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {\n\n            if(!performance.memory) {\n                \n                this.maxCache = 15;\n                return;\n            }\n\n            if (performance.memory.jsHeapSizeLimit < 500000000) {\n               \n                this.maxCache = 15;\n                return;\n            }\n        }\n    }\n\n    /**\n     * \n     * @param {Number} animationIndex - the animation index \n     * @param {Number} frameIndex - the current frame index \n     * @param {Number} currentWidth - the current image width \n     * @param {Number} scale - the current zoom/scale\n     * @returns resolve with loaded tiles || reject\n     */\n    fetchTiles(animationIndex , frameIndex , currentWidth , scale) {\n        \n        this._setCurrentBP(currentWidth);\n        this._setCurrentNaturalSize(this._currentBreakPoint);\n        \n        if(currentWidth <= this.preloadedBP) return this._loadTiles(true);\n\n        this._animationIndex = animationIndex;\n        this._currentFrame = frameIndex;\n        this._currentScale = scale;\n\n        if(this._firstFetch) {\n            //first fetch\n            this._firstFetch = false;\n            return this._loadTiles();\n        }\n\n        if(this._useCache) {\n            const preloaded = this._cachedFrames.find((v) => {\n                if(\n                    v.animationIndex === this._animationIndex &&\n                    v.frame === this._currentFrame && \n                    v.breakPoint === this._currentBreakPoint\n                ) \n                {\n                    return v;\n                }\n            });\n    \n            if(typeof preloaded !== \"undefined\") {\n                return this._loadExistingTiles(preloaded);\n            }\n        }\n        \n\n        return this._loadTiles();\n        \n    }\n\n\n\n    /**\n     * load tiles from cache\n     * @param {Object} preloaded the cached tiles object if found\n     * @returns the cached canvas containing tiles of the current frame \n     */\n    _loadExistingTiles(preloaded){\n        \n        return new Promise((resolve , reject) => {\n            if(\n                preloaded.animationIndex === this._animationIndex && \n                preloaded.frame === this._currentFrame && \n                preloaded.breakPoint === this._currentBreakPoint\n            )\n            {\n                resolve(preloaded.canvas);\n            }\n            else{\n                reject();\n            }\n        });\n    }\n\n    /**\n     * load tiles of current frame\n     * @param {boolean} error this is helpful for rejecting the promise if frame is changed while loading tiles\n     * @returns the loaded canvas containing tiles of the current frame \n     */\n    _loadTiles(error = false) {\n        window.clearTimeout(this._timeOutLoad);\n        const p = new Promise((resolve , reject ) => {\n            if(error) {\n                reject();\n            }else{\n                this._timeOutLoad = window.setTimeout( () => {\n                    \n                    const animationIndex = this._animationIndex;\n                    const frameIndex = this._currentFrame;\n                    const breakpoint = this._currentBreakPoint;\n                    const scaleFactor = this._currentScale;\n\n                    const folder = this._getTilesFolder(animationIndex , frameIndex , breakpoint);\n\n                    this._createAndLoadTiles(folder,  (WSCanvas) => {\n                        \n                        if(this._useCache) {\n                            const tilesInfo = {\n                                animationIndex : animationIndex,\n                                frame : frameIndex,\n                                breakPoint : breakpoint,\n                                canvas : WSCanvas\n                            };\n        \n                            this._addToCache(tilesInfo);\n                        }\n                        \n    \n                        if(!this._canLoadImg(animationIndex , frameIndex , breakpoint , scaleFactor)) {\n                            reject();\n                        }\n                        resolve(WSCanvas);\n                    });\n                } , 100);\n                \n            }\n            \n        });\n        return p;\n    }\n\n    /**\n     * add loaded tiles if not already exist into the cache \n     * @param {Object} cacheInfo info about the cached canvas \n     */\n    _addToCache(cacheInfo) {\n        \n        if(this._cachedFrames.includes(cacheInfo)) return;\n\n        this._checkCache();\n        this._cachedFrames.push(cacheInfo);\n    }\n    \n\n    /**\n     * load tiles method , this is multi-thread by using the Promise all\n     * @param {String} folder the tiles folder\n     * @param {Function} onFinish calllback when finish loading tiles\n     */\n    _createAndLoadTiles(folder , onFinish) {\n\n        const natWidth = this._currentNaturalWidth;\n        const natHeight = this._calculateWithAspectRatio(natWidth);\n\n        let canvas = document.createElement('canvas');\n        let ctx = canvas.getContext(\"2d\");\n\n        canvas.width = natWidth;\n        canvas.height = natHeight;\n        \n        const cropSize = this.cropSize; // the crop rect size\n        \n        const partsX = Math.floor(natWidth / cropSize);\n        const partsY = Math.floor(natHeight / cropSize);\n\n        const moduloX = natWidth % cropSize;\n        const moduloY = natHeight % cropSize;\n\n        const lengthX = moduloX != 0 ? partsX+1 : partsX;\n        const lengthY = moduloY != 0 ? partsY+1 : partsY;\n\n        let allPromises = new Array();\n        \n        for(let y= 0 ; y < lengthY ; y++) {\n            for(let x = 0 ; x < lengthX ; x++ ) {\n\n                const p = new Promise((resolve , reject) => {\n                    let sx = x*cropSize ,\n                    sy = y*cropSize;\n                    \n                    const index = lengthX * y + x;\n                    const src = `${folder}p-${index}.jpg` ;\n                    const path = require(\"@/\" + src);\n    \n                    let img = new Image();\n                    img.decoding = \"async\";\n                    \n                    img.onload = () => {\n                        ctx.drawImage(img, sx, sy);\n                        img = null;\n                        resolve();\n                        return;\n                    };\n                    img.onerror = () => {\n                        img = null;\n                        reject();\n                    };\n                    img.src = path;\n                });\n\n                allPromises.push(p);\n\n            }\n        }\n\n        Promise.all(allPromises).then(() => {\n            onFinish(canvas);\n            allPromises = null;\n        })\n    }\n\n    /* releaseCanvas(canvas) {\n        canvas.width = 1;\n        canvas.height = 1;\n        const ctx = canvas.getContext('2d');\n        ctx && ctx.clearRect(0, 0, 1, 1);\n    } */\n\n\n    /**\n     * if loaded tiles is the same after the fetch\n     * @param {Number} animationIndex - the animation index when tiles loaded\n     * @param {Number} frame - the frame when tiles loaded\n     * @param {Number} breakPoint \n     * @param {Number} scaleFactor \n     * @returns \n     */\n    _canLoadImg(animationIndex , frame , breakPoint , scaleFactor) {\n\n        if(\n            animationIndex !== this._animationIndex || \n            frame !== this._currentFrame || \n            breakPoint !== this._currentBreakPoint || \n            scaleFactor !== this._currentScale\n        )\n        {\n            return false;\n        }\n        return true;\n    }\n\n    \n    /**\n     * \n     * @param {Context} ctx \n     * @param {HTMLCanvasElement} img \n     * @param {Number} sx - x source coordinate\n     * @param {Number} sy - y source coordinate\n     */\n    _draw(ctx , img , sx , sy) {\n        ctx.clearRect(sx, sy, ctx.canvas.width, ctx.canvas.height);\n        ctx.drawImage(img, sx, sy);\n    }\n\n\n    /**\n     * return the folder path depending on given breakpoint\n     * @param {Number} animationIndex \n     * @param {Number} frameIndex \n     * @param {Number} breakpoint \n     * @returns  tiles folder\n     */\n    _getTilesFolder(animationIndex , frameIndex , breakpoint ){\n\n        let tilesRegPath = this.options.imagesFolder + this.options.tilesFolder;\n        \n        for(const [key , bp] of Object.entries(this.breakPoints)) {\n            if(breakpoint === bp) {\n                const keyPath = this.options.breakpoints_folder[key];\n                tilesRegPath = tilesRegPath\n                    .replace(/%row/g , animationIndex)\n                    .replace(\"%bp\" , keyPath)\n                    .replace(\"%col\" , frameIndex);\n                break;\n            }\n        }\n        return tilesRegPath;\n    }\n\n\n    /**\n     * set the current original size based on the given breakpoint\n     * @param {Number} breakpoint \n     */\n    _setCurrentNaturalSize(breakpoint) {\n\n        for(const [key , bp] of Object.entries(this.breakPoints)) {\n            if(bp === breakpoint) {\n                this._currentNaturalWidth = this.naturalSizes[key];\n                break;\n            }\n        }\n    }\n\n    /**\n     * set current breakpoint based on given width\n     * @param {Number} width \n     */\n    _setCurrentBP(width){\n\n        for(const [key=key , bp] of Object.entries(this.breakPoints)) {\n            if(width <= bp) {\n                this._currentBreakPoint = bp;\n                break;\n            }\n            this._currentBreakPoint = bp;\n        }\n    }\n\n    /**\n     * check if cache is out of max cache , if so then we delete the first element of the cache array\n     */\n    _checkCache(){\n        if(this._cachedFrames.length > this.maxCache) {\n            \n            let removed = this._cachedFrames.shift();\n            removed.canvas = null;\n            removed = null;\n        }\n    }\n\n\n    /**\n     * calculate the height of image based on width preserving the aspect ratio\n     * @param {Number} width \n     * @returns the calculated height\n     */\n    _calculateWithAspectRatio(width) {\n        const aspect = this.options.maxWidth / this.options.maxHeight;\n        const height = width / aspect;\n\n        return height;\n    }\n\n\n    \n}\n\n\nexport {TilesController}","<template>\n    <div class=\"container-fluid card-foot mb-3\">\n\n        <div class=\"row align-items-center\">\n            <div class=\"col\">\n                <span class=\"dispo\">{{ infoRef.statut }}</span>\n            </div>\n            <div class=\"col\">\n                <status-component :status=\"infoRef.statut\"></status-component>\n            </div>\n        </div>\n\n\n        <div class=\"form-parent d-flex flex-column justify-content-center align-items-center\" v-if=\"isAdmin\">\n            <div class=\"me-3 h-100\" v-if=\"showLoader\">\n                <div class=\"spinner-grow text-type-color text-center\" role=\"status\">\n                    <span class=\"visually-hidden\">Loading...</span>\n                </div>\n            </div>\n            <div class=\"col-12 my-2\" v-if=\"!showLoader\">\n                <form action=\"\" @submit.prevent=\"\">\n                    <div class=\"form-check\" v-for=\"(s, index ) in availableStatus\" :key=\"s.name\">\n                        <input class=\"form-check-input\" type=\"radio\" :value=\"s.value\" :name=\"s.name\" :id=\"`${uid}_${index}`\"\n                            v-model=\"status\">\n                        <label class=\"form-check-label\" :for=\"`${uid}_${index}`\">\n                            {{ s.value }}\n                        </label>\n                    </div>\n                </form>\n            </div>\n\n            <div class=\"form-footer w-100 col d-flex justify-content-between align-items-center\" v-if=\"!showLoader\">\n\n                <button class=\"btn btn-success btn-sm\" @click=\"sendEdit(uid)\">Save</button>\n\n\n                <div class=\"msg text-center w-75 p-2\">\n                    <div class=\"alert m-0 p-2\" :class=\"alertStyle\">\n                        {{ alertMsg }}\n                    </div>\n                </div>\n\n            </div>\n        </div>\n\n    </div>\n</template>\n\n\n\n<script setup>\n\nimport { ref, watch, computed } from \"vue\";\nimport StatusComponent from \"@/components/app-ui/StatusComponent\";\n\nimport { useRegionsStore } from \"@/stores/regions\";\nimport { useAppDataStore } from \"@/stores/appData\";\nimport { storeToRefs } from 'pinia';\n\nconst appDataStore = useAppDataStore();\nconst { orbitalConfig, currentUID } = storeToRefs(appDataStore);\nconst availableStatus = computed(() => {\n    const conf = orbitalConfig.value.hotspots;\n    return conf.status;\n});\n\nconst regionsStore = useRegionsStore();\nconst { regions, isError } = storeToRefs(regionsStore);\n\n\nconst props = defineProps({\n    cardInfo: Object,\n    colorType: String,\n    isAdmin: {\n        type: Boolean,\n        default: false\n    }\n});\n\nconst infoRef = ref(props.cardInfo);\nconst uid = computed(() => infoRef.value[currentUID.value]);\n\nconst status = ref(infoRef.value.statut);\nconst lastStatus = ref(status.value);\n\nconst showLoader = ref(false);\nconst alertMsg = ref(infoRef.value.statut);\nconst isReqError = ref(false);\nconst alertStyle = computed(() => (\n    {\n        'alert-success': infoRef.value.statut === \"Disponible\" && !isReqError.value,\n        'alert-danger': infoRef.value.statut === \"Indisponible\" && !isReqError.value,\n        'alert-warning': (infoRef.value.statut === \"Réservé\" && !isReqError.value) || isReqError.value,\n    }\n));\n\n\nfunction sendEdit(id) {\n\n    if (lastStatus.value === status.value) return;\n    const delay = 1000;\n    showLoader.value = true;\n    alertMsg.value = 'Loading';\n    isReqError.value = false;\n    regionsStore.editStatus(id, status.value).then(msg => {\n        if (isError.value) {\n            showLoader.value = false;\n            isReqError.value = true;\n            alertMsg.value = msg;\n            window.setTimeout(() => {\n                const stat = infoRef.value.statut;\n                isReqError.value = false;\n                alertMsg.value = stat;\n                lastStatus.value = alertMsg.value = status.value = stat;\n            }, delay);\n            return;\n        }\n\n        infoRef.value = regions.value[id];\n        lastStatus.value = status.value = infoRef.value.statut;\n        isReqError.value = false;\n        showLoader.value = false;\n        alertMsg.value = msg;\n\n        window.setTimeout(() => {\n            alertMsg.value = infoRef.value.statut;\n        }, delay);\n    });\n}\n\n\n\nwatch(() => props.cardInfo, () => {\n    infoRef.value = props.cardInfo;\n    lastStatus.value = status.value = infoRef.value.statut;\n    alertMsg.value = infoRef.value.statut;\n});\n\n\n</script>\n\n\n\n<style lang=\"scss\" scoped>\n.text-type-color {\n    color: v-bind(colorType);\n}\n\n.dispo {\n    font-size: .8em;\n    color: var(--app-gray-color);\n    text-transform: uppercase;\n}\n\n.form-parent {\n    min-height: 8em;\n}\n\ninput,\nlabel {\n    cursor: pointer;\n}\n\nlabel {\n    font-size: .8em;\n    font-weight: bold;\n    color: #6a6a6a;\n}\n\n.form-footer {\n    height: 4em;\n\n    .msg {\n        font-size: .9em;\n    }\n}\n</style>","import script from \"./EditAppt.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./EditAppt.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./EditAppt.vue?vue&type=style&index=0&id=8c2888d6&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-8c2888d6\"]])\n\nexport default __exports__","<template>\n    <div class=\"alert text-center\" :class=\"classAlert\" role=\"alert\" v-if=\"message !== ''\">\n        {{ message }}\n    </div>\n</template>\n\n\n<script setup>\n\nimport { reactive, watchEffect } from \"vue\";\n\nconst props = defineProps({\n    message: {\n        type: String,\n        default: \"\"\n    },\n\n    isSuccess: {\n        type: Boolean,\n        default: true\n    }\n});\n\n\nconst classAlert = reactive({\n    \"alert-danger\": !props.isSuccess,\n    \"alert-success\": props.isSuccess,\n});\n\nwatchEffect(() => {\n    const success = props.isSuccess;\n    classAlert[\"alert-danger\"] = !success;\n    classAlert[\"alert-success\"] = success;\n});\n\n</script>","import script from \"./AlertComponent.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AlertComponent.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n    <div>\n        <Teleport to=\"body\">\n            <!-- Modal -->\n            <div class=\"screenshot-container modal fade\" id=\"capture-modal\" tabindex=\"-1\" aria-labelledby=\"screen-capture\"\n                aria-hidden=\"true\" ref=\"capture\">\n                <div class=\"modal-dialog modal-dialog-centered\">\n                    <div class=\"modal-content\">\n                        <div class=\"modal-header\">\n                            <h1 class=\"modal-title\" id=\"screen-capture\">Screenshot</h1>\n                            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n                        </div>\n                        <div class=\"modal-body\">\n\n                            <div class=\"d-flex justify-content-center align-items-center loader\" v-if=\"isLoading\">\n                                <div class=\"spinner-border\" role=\"status\">\n                                    <span class=\"visually-hidden\">Loading...</span>\n                                </div>\n                            </div>\n\n                            <h3 class=\"text-danger text-center fs-6 p-3\" v-if=\"errorCapture\">\n                                Une erreur s'est produite lors de la capture !\n                            </h3>\n\n                            <img :src=\"currentImage\" class=\"img-fluid\" alt=\"\" loading=\"lazy\" v-else />\n\n                        </div>\n                        <div class=\"modal-footer\">\n\n                            <div class=\"d-flex\">\n                                <input class=\"filename form-control form-control-sm mx-3\" id=\"filename\" type=\"text\"\n                                    placeholder=\"Nom du fichier\" aria-label=\".form-control-sm name\" v-model=\"fileName\"\n                                    required :disabled=\"isLoading || errorCapture\">\n\n                                <button type=\"button\" class=\"btn btn-sm custom-btn save-btn\"\n                                    :disabled=\"isLoading || errorCapture\" @click=\"download\">Telecharger</button>\n                                <a :href=\"captureLink\" :download=\"imgName\" v-show=\"false\" ref=\"downloadLink\">Telecharger</a>\n                            </div>\n\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n        </Teleport>\n\n    </div>\n</template>\n\n\n<script setup>\n\nimport { ref, watch, computed, onMounted, onUnmounted } from \"vue\";\nimport { Modal } from \"bootstrap\";\n\nimport { useCaptureStore } from \"@/stores/capture\";\nimport { storeToRefs } from \"pinia\";\n\nconst caprureStore = useCaptureStore();\nconst { isLoading, isOpenModal, currentImage, captureLink, errorCapture } = storeToRefs(caprureStore);\n\n\nconst fileName = ref(\"\");\nconst capture = ref(null);\nconst modal = ref(undefined);\nconst downloadLink = ref(null);\n\nconst imgName = computed(() => {\n    return (fileName.value !== '') ? `${fileName.value}.jpg` : 'Screenshot.jpg';\n});\n\nonMounted(() => {\n    modal.value = new Modal(capture.value);\n    capture.value.addEventListener(\"hidden.bs.modal\", () => {\n        isOpenModal.value = false;\n        fileName.value = \"\";\n    })\n});\n\nonUnmounted(() => {\n    modal.value.dispose();\n});\n\n\nwatch(isOpenModal, () => {\n    if (isOpenModal.value)\n        modal.value.show();\n});\n\nconst download = () => {\n    downloadLink.value.click();\n}\n\n\n</script>\n\n\n<style lang=\"scss\" scoped>\n.screenshot-container {\n    .modal-title {\n        font-size: .85em;\n        color: var(--app-secondary-color);\n        letter-spacing: .1em;\n        font-weight: 400;\n    }\n\n    .modal-footer {\n        .filename {\n            font-size: .65em;\n            text-transform: uppercase;\n            letter-spacing: .1em;\n            padding: 1em 4em 1em 1em;\n        }\n\n        .save-btn {\n            background-color: var(--app-primary-color);\n            color: #fff;\n            font-size: .7em;\n            font-weight: 400;\n            text-transform: uppercase;\n\n            &:hover {\n                background-color: var(--app-secondary-color);\n            }\n        }\n    }\n}\n\n.loader {\n    width: 5em;\n    min-height: 15em;\n    margin: auto;\n\n    .spinner-border {\n        width: 3em;\n        height: 3em;\n    }\n}\n</style>","import script from \"./CaptureModal.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./CaptureModal.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./CaptureModal.vue?vue&type=style&index=0&id=258a96e6&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-258a96e6\"]])\n\nexport default __exports__","<template>\n    <div class=\"container-fluid\">\n        <div class=\"row align-items-center position-relative\">\n            <div class=\"col\">\n                <div id=\"carousel-template\" class=\"carousel carousel-dark slide\" data-bs-touch=\"true\" ref=\"carouselElem\">\n\n                    <div class=\"carousel-inner d-flex align-items-center\">\n                        <div class=\"carousel-item\" v-for=\"(item, index) in itemsData\" :key=\"index\"\n                            :class=\"{ 'active': (index == 0) }\">\n                            <ImageComponent :src=\"item.url\" class=\"d-block w-100\" />\n                            <div class=\"carousel-caption d-block d-md-block\">\n                                <h5 class=\"m-0\">{{ item.title }}</h5>\n                                <p class=\"p-0 m-0\">{{ item.desc }}</p>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div class=\"carousel-indicators\">\n                        <div class=\"indicators-container\">\n                            <button v-for=\"(item, index) in itemsData\" :key=\"index\" type=\"button\"\n                                data-bs-target=\"#carousel-template\" :data-bs-slide-to=index\n                                :class=\"{ 'active': (index == 0) }\" aria-current=\"true\" aria-label=\"Slide {{index}}\">\n                            </button>\n                        </div>\n                    </div>\n\n                    <button class=\"carousel-control-prev\" type=\"button\" data-bs-target=\"#carousel-template\"\n                        data-bs-slide=\"prev\">\n                        <span class=\"\" aria-hidden=\"true\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1.6em\" height=\"1.6em\" fill=\"currentColor\"\n                                class=\"bi bi-chevron-left\" viewBox=\"0 0 16 16\">\n                                <path fill-rule=\"evenodd\"\n                                    d=\"M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z\" />\n                            </svg>\n                        </span>\n                        <span class=\"visually-hidden\">Previous</span>\n                    </button>\n\n                    <button class=\"carousel-control-next\" type=\"button\" data-bs-target=\"#carousel-template\"\n                        data-bs-slide=\"next\">\n                        <span class=\"\" aria-hidden=\"true\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1.6em\" height=\"1.6em\" fill=\"currentColor\"\n                                class=\"bi bi-chevron-right\" viewBox=\"0 0 16 16\">\n                                <path fill-rule=\"evenodd\"\n                                    d=\"M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z\" />\n                            </svg>\n                        </span>\n                        <span class=\"visually-hidden\">Next</span>\n                    </button>\n                </div>\n            </div>\n\n        </div>\n    </div>\n</template>\n\n\n\n<script setup>\n\nimport { Carousel } from \"bootstrap\";\nimport ImageComponent from \"./ImageComponent\";\nimport { ref, onMounted } from \"vue\";\n\n\n\ndefineProps({\n    itemsData: Object,\n    colorType: {\n        type: String,\n        default: \"var(--app-primary-color)\"\n    }\n});\n\nconst carouselElem = ref(null);\n\nonMounted(() => {\n    new Carousel(carouselElem.value)\n});\n\n\n</script>\n\n\n\n\n<style lang=\"scss\" scoped>\n.carousel {\n\n    $color-type : v-bind(colorType);\n    $ind-bg : var(--app-gray-color);\n    $ind-size : 1em;\n    $ind-small-size : .5em;\n\n    position: initial;\n\n    .carousel-inner {\n        min-height: 50vh;\n    }\n\n    .carousel-indicators {\n        position: fixed;\n        margin: 0;\n\n        @mixin type-styles {\n            border-color: $color-type;\n\n            &::after {\n                background-color: $color-type;\n            }\n        }\n\n        .indicators-container {\n            padding: 0.8em 1em;\n            min-width: 20%;\n            background-color: #ffffff43;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            border-radius: 2px;\n        }\n\n        button {\n            position: relative;\n            width: $ind-size;\n            height: $ind-size;\n            background-color: transparent;\n            border: .1em solid $ind-bg;\n            border-radius: 50%;\n            margin: 0 .6em;\n            opacity: 1;\n\n            &::after {\n                content: '';\n                position: absolute;\n                left: 50%;\n                top: 50%;\n                transform: translate(-50%, -50%);\n                width: $ind-small-size;\n                height: $ind-small-size;\n                background-color: $ind-bg;\n                border-radius: 50%;\n            }\n\n            &.active {\n                @include type-styles;\n                cursor: auto;\n                opacity: 0.5;\n            }\n\n            &:not(.active):hover {\n                @include type-styles;\n            }\n        }\n    }\n\n    .carousel-control-prev,\n    .carousel-control-next {\n        width: 3em;\n        height: 3em;\n        top: 50%;\n        transform: translateY(-50%);\n        color: var(--app-gray-color);\n        opacity: 1;\n\n        &:hover {\n            color: $color-type;\n        }\n    }\n\n    .carousel-item {\n        img {\n            max-height: 100vh;\n            padding: 1em;\n\n        }\n    }\n\n    .carousel-caption {\n        position: absolute;\n        text-align: left;\n        bottom: 1%;\n        left: 1%;\n        padding: 0;\n\n        h5 {\n            color: $color-type;\n            font-weight: 500;\n            font-size: .8em;\n            letter-spacing: .2em;\n            padding: 0.5em 0;\n        }\n\n        p {\n            letter-spacing: .1em;\n        }\n\n    }\n}\n</style>","import script from \"./CarouselComponent.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./CarouselComponent.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./CarouselComponent.vue?vue&type=style&index=0&id=30ce2435&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-30ce2435\"]])\n\nexport default __exports__","<template>\n    <div class=\"error-container\" v-if=\"isError\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"currentColor\"\n            class=\"bi bi-exclamation-lg warning-svg\" viewBox=\"0 0 16 16\">\n            <path\n                d=\"M7.005 3.1a1 1 0 1 1 1.99 0l-.388 6.35a.61.61 0 0 1-1.214 0L7.005 3.1ZM7 12a1 1 0 1 1 2 0 1 1 0 0 1-2 0\" />\n        </svg>\n        <p class=\"error\">Une erreur s'est produite!</p>\n        <p class=\"retry\">Essayer ultérieurement</p>\n    </div>\n</template>\n\n\n<script setup>\nimport { useRegionsStore } from \"@/stores/regions\";\nimport { storeToRefs } from \"pinia\";\n\nconst regionStore = useRegionsStore();\nconst { isError } = storeToRefs(regionStore);\n</script>\n\n\n<style lang=\"scss\" scoped>\n.error-container {\n    position: fixed;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    background-color: #fff;\n    z-index: 209;\n\n    .warning-svg {\n        width: 10em;\n        height: 10em;\n        color: #ca4949;\n        margin-bottom: 2em;\n    }\n\n    .error {\n        text-transform: uppercase;\n        letter-spacing: .2em;\n        font-size: .9em;\n        font-weight: 400;\n        margin-bottom: 1em !important;\n        color: #c50000;\n        margin-bottom: 2em;\n    }\n\n    .retry {\n        letter-spacing: .2em;\n        font-size: .8em;\n    }\n}\n</style>","import script from \"./ErrorComponent.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ErrorComponent.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ErrorComponent.vue?vue&type=style&index=0&id=33f7a180&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-33f7a180\"]])\n\nexport default __exports__","<template>\n    <div class=\"loader w-100 text-center\" v-if=\"isLoading\">\n        <div class=\"spinner-border\" role=\"status\">\n            <span class=\"visually-hidden\">Loading...</span>\n        </div>\n    </div>\n    <img v-else :src=\"sourceImg\" :srcset=\"srcSets\" :sizes=\"sizes\" class=\"img-fluid\" alt=\"\" loading=\"lazy\">\n</template>\n\n\n<script setup>\n\nimport { useImage } from '@vueuse/core';\nimport { reactive, computed } from \"vue\";\n\nconst props = defineProps({\n    src: {\n        type: String,\n        default: \"\"\n    },\n});\n\n\n//const defaultImage = \"https://via.placeholder.com/512x256.png/fff/ccc?text=Image not found\";\nconst defaultImage = require(\"@/assets/images/lots/villa1/3d/appt2_0_bloc22.jpg\");\n\nconst defaultBreakPoints = reactive({\n    \"medium\": 1024,\n    \"large\": 1920,\n});\n\nconst sizes = computed(() => {\n    let sizesAttr = \"\";\n    Object.values(defaultBreakPoints).forEach(function (v) {\n        sizesAttr += `(max-width: ${v}px) ${v}px, `;\n    });\n    return (srcSets.value !== \"\") ? sizesAttr : \"\";\n});\n\nconst srcSets = computed(() => {\n    const source = props.src;\n    const splited = source.split('/');\n    const name = splited[splited.length - 1];\n    const baseString = splited.splice(0, splited.length - 1).join('/');\n\n    let p = \"\";\n    Object.entries(defaultBreakPoints).forEach(function ([k, v]) {\n        const path = `${baseString}/${k}/${name}`;\n\n        let set = getSrcsetPath(path);\n        set = (set !== '') ? set + ` ${v}w, ` : '';\n        p += set;\n    });\n\n    const smallBp = defaultBreakPoints.small;\n    const smallPath = source;\n\n    let smallSet = getSrcsetPath(smallPath);\n\n    smallSet = (smallSet !== '') ? `${smallSet} ${smallBp}w, ` : '';\n\n    const srcSet = `${smallSet} ${p}`;\n    return (p !== \"\") ? srcSet : \"\";\n});\n\nconst sourceImg = computed(() => {\n    const source = props.src;\n    return getImagePath(source);\n});\n\nconst { isLoading } = useImage({ src: sourceImg.value });\n\n\n\n\nfunction getImagePath(path) {\n    let src = \"\";\n    try {\n        src = require(`@/${path}`);\n    } catch (error) {\n        src = defaultImage;\n    }\n    return src;\n}\n\nfunction getSrcsetPath(path) {\n    let src = \"\";\n    try {\n        src = require(`@/${path}`);\n    } catch (error) {\n        src = \"\";\n    }\n    return src;\n}\n\n\n</script>\n\n<style lang=\"scss\" scoped>\n.spinner-border {\n    width: 3em;\n    height: 3em;\n}\n\nimg {\n    width: auto !important;\n    object-fit: contain;\n    margin: auto;\n}\n</style>","import script from \"./ImageComponent.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ImageComponent.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ImageComponent.vue?vue&type=style&index=0&id=06e900b0&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-06e900b0\"]])\n\nexport default __exports__","<template>\n    <div class=\"title d-flex justify-content-end align-items-center text-end\">\n        <div class=\"line\"></div>\n        <div class=\"text\">\n            <slot />\n        </div>\n    </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.title {\n    padding: 2em;\n\n    .line {\n        width: 100%;\n        height: 1px;\n        background: var(--app-primary-color);\n        ;\n    }\n\n    .text {\n        padding-left: 1.5em;\n        font-size: .7em;\n        letter-spacing: .2em;\n        text-wrap: nowrap;\n        text-transform: uppercase;\n        color: var(--app-secondary-color);\n    }\n}\n</style>","import { render } from \"./LineWithTitle.vue?vue&type=template&id=b84584e6&scoped=true\"\nconst script = {}\n\nimport \"./LineWithTitle.vue?vue&type=style&index=0&id=b84584e6&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-b84584e6\"]])\n\nexport default __exports__","import script from \"./NestedPagesLoader.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./NestedPagesLoader.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n    <div class=\"filter-product d-flex flex-column justify-content-center align-items-center shadow p-3\">\n\n        <div class=\"bg-white w-100 mb-3 p-3 shadow-sm\">\n            <filter-by-orbital @onOrbitalSelect=\"switchOrbitals\"></filter-by-orbital>\n        </div>\n\n        <div class=\"slider bg-white w-100 mb-3 p-3 shadow-sm\">\n            <slider-filter @onSurfaceChanged=\"surfaceChanged\" :min=\"surfaceMinMax.min\" :max=\"surfaceMinMax.max\" :step=\"10\"\n                :gap=\"20\"></slider-filter>\n        </div>\n\n        <div class=\"types bg-white w-100 mb-3 p-3 shadow-sm\">\n            <types-filter :default-types=\"defaultFilters.types\" @onTypesChanged=\"typesChanged\"></types-filter>\n        </div>\n\n        <div class=\"stages bg-white w-100 mb-3 p-3 shadow-sm\">\n            <stages-filter :stage-count=\"stageCount\" :default-stages=\"defaultFilters.stages\"\n                @onStagesChanged=\"stagesChanged\"></stages-filter>\n        </div>\n\n        <div class=\"status bg-white w-100 mb-3 py-3 shadow-sm\">\n            <status-filter @onStatusChanged=\"statusChanged\"></status-filter>\n        </div>\n    </div>\n</template>\n\n\n<script setup>\nimport SliderFilter from \"@/components/orbital/search/SliderFilter\";\nimport TypesFilter from \"@/components/orbital/search/TypesFilter\";\nimport StagesFilter from \"@/components/orbital/search/StagesFilter\";\nimport StatusFilter from \"@/components/orbital/search/StatusFilter\";\nimport FilterByOrbital from \"@/components/orbital/search/FilterByOrbital.vue\";\n\nimport { ref, reactive, watch } from \"vue\";\nimport { useAppDataStore } from \"@/stores/appData\";\nimport { useRegionsStore } from \"@/stores/regions\";\nimport { storeToRefs } from 'pinia';\n\nconst emits = defineEmits([\n    \"onOrbitalSwitched\"\n]);\n\n\nconst regionsStore = useRegionsStore();\nconst appDataStore = useAppDataStore();\n\nconst { params, surfaceMinMax } = storeToRefs(appDataStore);\n\nconst { defaultFilters } = storeToRefs(regionsStore);\n\nconst stageCount = ref(params.value.animationsCount);\n\nconst filters = reactive({});\n\n\nfunction switchOrbitals(selected) {\n    appDataStore.setCurrentOrbital(selected);\n    emits(\"onOrbitalSwitched\");\n}\n\nfunction surfaceChanged(sur) {\n    filters.surface = sur;\n}\n\nfunction stagesChanged(stages) {\n    filters.stages = stages;\n}\n\nfunction typesChanged(types) {\n    filters.types = types;\n}\n\nfunction statusChanged(status) {\n    filters.status = status;\n}\n\nwatch(filters, () => {\n    regionsStore.filterRegions(filters);\n});\n\ndefineExpose({\n    filters\n});\n\n</script>\n\n\n<style lang=\"scss\" scoped>\n.filter-product {\n    span {\n        font-size: .9em;\n    }\n}\n</style>","import script from \"./SideFilter.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SideFilter.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./SideFilter.vue?vue&type=style&index=0&id=30945b90&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-30945b90\"]])\n\nexport default __exports__","import script from \"./StatusComponent.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./StatusComponent.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n    <div class=\"to-top\" v-if=\"showTopBtn\">\n        <button class=\"btn custom-btn btn-sm\" @click=\"toTop\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1.6em\" height=\"1.6em\" fill=\"currentColor\"\n                class=\"bi bi-arrow-up-short\" viewBox=\"0 0 16 16\">\n                <path fill-rule=\"evenodd\"\n                    d=\"M8 12a.5.5 0 0 0 .5-.5V5.707l2.146 2.147a.5.5 0 0 0 .708-.708l-3-3a.5.5 0 0 0-.708 0l-3 3a.5.5 0 1 0 .708.708L7.5 5.707V11.5a.5.5 0 0 0 .5.5z\" />\n            </svg>\n            <slot></slot>\n        </button>\n\n    </div>\n</template>\n\n\n<script setup>\n\nimport { computed } from \"vue\";\nimport { useScroll } from \"@vueuse/core\";\nimport gsap from \"gsap\";\nimport ScrollToPlugin from \"gsap/ScrollToPlugin\";\n\ngsap.registerPlugin(ScrollToPlugin);\n\nconst scroller = useScroll(window);\n\nconst showTopBtn = computed(() => {\n    return scroller.y.value > window.innerHeight * 2;\n});\n\nfunction toTop() {\n    gsap.to(window, { duration: .2, scrollTo: { y: 0 } });\n}\n\n</script>\n\n\n<style lang=\"scss\">\n.to-top {\n    position: fixed;\n    bottom: 0;\n    left: 0;\n\n    button {\n        background-color: #ffffff6e;\n        font-size: .7em;\n        letter-spacing: .4em;\n        text-transform: uppercase;\n        font-weight: 400;\n\n        svg {\n            vertical-align: bottom;\n        }\n    }\n}\n</style>","import script from \"./ToTopBtn.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ToTopBtn.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ToTopBtn.vue?vue&type=style&index=0&id=212541c9&lang=scss\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n    <div class=\"compass\">\n        <div class=\"compass-inner\">\n            <div class=\"main-arrow\" ref=\"mainArrow\">\n                <div class=\"arrow-up\"></div>\n                <div class=\"arrow-down\"></div>\n            </div>\n        </div>\n    </div>\n</template>\n\n\n<script setup>\n\nimport { gsap } from \"gsap\";\nimport { ref } from \"vue\";\n\n\nconst mainArrow = ref(null);\n\nfunction rotate(deg) {\n    gsap.to(mainArrow.value, {\n        rotate: deg + '_short', //_short for reversing rotation when its about 360 to 0\n        duration: 0.3,\n        overwrite: true\n    })\n}\n\ndefineExpose({\n    rotate\n});\n\n\n\n</script>\n\n\n\n<style lang=\"scss\" scoped>\n$size-compass : 4.1em;\n$size-compass-inner : 5.3em;\n$arrow-width : 0.2em;\n$arrow-height : 1.6em;\n\n\n\n.compass {\n    position: absolute;\n    right: 1rem;\n    top: 0.8rem;\n    z-index: 5;\n    font-size: .8rem;\n    background-color: transparent;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    .compass-inner {\n        width: $size-compass-inner;\n        height: $size-compass-inner;\n        background-color: transparent;\n        border-radius: 100%;\n        border: .1em solid var(--app-secondary-color);\n        display: flex;\n        justify-content: center;\n        align-items: center;\n\n\n        .main-arrow {\n            height: auto;\n            width: auto;\n            padding-top: 0;\n            position: relative;\n            color: var(--app-gray-color);\n\n            &::before {\n                content: 'N';\n                position: absolute;\n                left: 50%;\n                top: -30%;\n                font-size: .6em;\n                transform: translateX(-50%);\n            }\n\n            &::after {\n                content: 'S';\n                position: absolute;\n                left: 50%;\n                bottom: -30%;\n                font-size: .6em;\n                transform: translateX(-50%);\n            }\n\n            .arrow-up {\n                width: 0;\n                height: 0;\n                border-left: $arrow-width solid transparent;\n                border-right: $arrow-width solid transparent;\n                border-bottom: $arrow-height solid var(--app-secondary-color);\n            }\n\n            .arrow-down {\n                width: 0;\n                height: 0;\n                transform: rotate(180deg);\n                border-left: $arrow-width solid transparent;\n                border-right: $arrow-width solid transparent;\n                border-bottom: $arrow-height solid #00000025;\n            }\n        }\n    }\n}\n</style>","import script from \"./CompassComponent.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./CompassComponent.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./CompassComponent.vue?vue&type=style&index=0&id=57e4b332&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-57e4b332\"]])\n\nexport default __exports__","<template>\n    <div class=\"filter position-fixed p-0\" :style=\"style\" ref=\"filterParent\">\n        <div class=\"d-flex justify-content-center\">\n\n            <div id=\"filter\" class=\"toast\" role=\"alert\" aria-live=\"assertive\" aria-atomic=\"true\" data-bs-autohide=\"false\"\n                ref=\"filter\">\n                <div class=\"toast-header\" ref=\"draggableCapture\">\n                    <strong class=\"me-auto\">Filtrage de Lot</strong>\n                    <button type=\"button\" class=\"btn-close btn-close-white\" @click=\"closeToast\"></button>\n                </div>\n                <div class=\"toast-body\">\n\n                    <slider-filter @onSurfaceChanged=\"surfaceChanged\" :min=\"surfaceMinMax.min\" :max=\"surfaceMinMax.max\"\n                        :step=\"1\" :gap=\"10\" :slider-delay=\"300\">\n                    </slider-filter>\n\n                    <hr />\n\n                    <types-filter :default-types=\"checkedTypes\" @onTypesChanged=\"typesChanged\"></types-filter>\n\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n\n<script setup>\n\nimport { Toast } from \"bootstrap\";\n\nimport SliderFilter from \"@/components/orbital/search/SliderFilter\";\nimport TypesFilter from \"@/components/orbital/search/TypesFilter\";\n\nimport { onClickOutside, useDraggable } from '@vueuse/core'\n\nimport { ref, reactive, watch, onMounted, onUnmounted } from \"vue\";\n\nimport { useRegionsStore } from \"@/stores/regions\";\nimport { useAppDataStore } from \"@/stores/appData\";\n\nimport { storeToRefs } from 'pinia';\n\nconst regionsStore = useRegionsStore();\nconst appDataStore = useAppDataStore();\n\nconst emits = defineEmits([\n    \"onCloseToast\",\n    \"onSurfaceChanged\",\n    \"onTypesChanged\"\n]);\n\n\nconst props = defineProps(\n    {\n        showToast: {\n            type: Boolean,\n            default: true\n        },\n    }\n);\n\n\nconst filterParent = ref(null);\nconst filter = ref(null);\nconst draggableCapture = ref(null);\n\nconst { defaultFilters } = storeToRefs(regionsStore);\nconst { surfaceMinMax } = storeToRefs(appDataStore);\nconst checkedTypes = ref(defaultFilters.value.types);\n\n\nlet toast = null;\nconst appReady = ref(false);\nconst surface = reactive({\n    min: surfaceMinMax.value.min,\n    max: surfaceMinMax.value.max\n});\n\n\nconst { style, position } = useDraggable(filterParent, {\n    exact: false,\n    handle: draggableCapture,\n    pointerTypes: ['mouse', 'touch', 'pen'],\n    onMove: (pos) => {\n        const elem = filterParent.value;\n        const elemWidth = elem.offsetWidth;\n        const elemHeight = elem.offsetHeight;\n        const windowWidth = window.innerWidth;\n        const windowHeight = window.innerHeight;\n\n        if (pos.x < 0) {\n            position.value.x = 0;\n        }\n        if (pos.x > (windowWidth - elemWidth)) {\n            position.value.x = windowWidth - elemWidth;\n        }\n\n        if (pos.y < 0) {\n            position.value.y = 0;\n        }\n\n        if (pos.y > (windowHeight - elemHeight)) {\n            position.value.y = windowHeight - elemHeight;\n        }\n    }\n});\n\n\nonClickOutside(filterParent, () => {\n    closeToast();\n});\n\n\n\n\nfunction initToast() {\n    toast = new Toast(filter.value);\n    toast.show(); //showing the toast before hidding it to get his size\n    toogleToast();\n}\nfunction toogleToast() {\n    if (props.showToast) {\n        toast.show();\n    } else {\n        toast.hide();\n    }\n}\n\nfunction closeToast() {\n    emits(\"onCloseToast\");\n}\n\n\nfunction surfaceChanged(sur = surface) {\n    surface.min = sur.min;\n    surface.max = sur.max;\n    if (appReady.value) {\n        surface.min = sur.min;\n        surface.max = sur.max;\n        emits(\"onSurfaceChanged\", surface);\n    }\n}\n\nfunction typesChanged(types = defaultFilters.value.types) {\n    if (appReady.value) {\n        checkedTypes.value = types;\n        emits(\"onTypesChanged\", checkedTypes.value);\n    }\n}\n\nfunction _appReady() {\n    appReady.value = true;\n    surfaceChanged();\n    typesChanged();\n}\n\n\nwatch(() => props.showToast, () => {\n    toogleToast();\n});\n\n\n\nonMounted(() => {\n    initToast();\n    position.value.x = (window.innerWidth * 0.5) - (filterParent.value.offsetWidth * 0.5);\n    position.value.y = (window.innerHeight * 0.5) - (filterParent.value.offsetHeight * 0.5);\n\n    window.addEventListener(\"OnAppReady\", _appReady);\n});\n\nonUnmounted(() => {\n    window.removeEventListener(\"OnAppReady\", _appReady);\n});\n\n</script>\n\n\n\n<style lang=\"scss\" scoped>\n.filter {\n    z-index: 100;\n    width: auto;\n    user-select: none;\n\n    .toast {\n        width: 25em;\n\n        .toast-header {\n            background-color: var(--app-gray-color);\n            color: #ffffff;\n            letter-spacing: .2em;\n            font-size: .75em;\n            text-transform: uppercase;\n            font-weight: 300;\n            padding: 1em;\n\n            &:hover {\n                cursor: move;\n            }\n        }\n\n    }\n}\n</style>","import script from \"./FilterComponent.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./FilterComponent.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./FilterComponent.vue?vue&type=style&index=0&id=0148f92b&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0148f92b\"]])\n\nexport default __exports__","<template>\n    <Transition @enter=\"onEnter\" @leave=\"onLeave\" :css=\"false\">\n\n        <div class=\"parent-hs-more container-fluid\" v-show=\"canShow\" ref=\"hsDetailParent\">\n\n\n\n            <div class=\"more-container row align-items-center\" ref=\"screenshot\">\n\n                <div class=\"hs-more-carousel hs-more col-lg-9 position-relative d-flex align-items-center\">\n                    <CarouselComponent :items-data=\"items\" :color-type=\"currentColor\"></CarouselComponent>\n                    <div class=\"close-detail\">\n                        <button class=\"btn custom-btn btn-sm btn-style\" @click=\"$emit('onCloseDetails')\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"2.5em\" height=\"2.5em\" fill=\"currentColor\"\n                                class=\"bi bi-backspace\" viewBox=\"0 0 16 16\">\n                                <path\n                                    d=\"M5.83 5.146a.5.5 0 0 0 0 .708L7.975 8l-2.147 2.146a.5.5 0 0 0 .707.708l2.147-2.147 2.146 2.147a.5.5 0 0 0 .707-.708L9.39 8l2.146-2.146a.5.5 0 0 0-.707-.708L8.683 7.293 6.536 5.146a.5.5 0 0 0-.707 0z\" />\n                                <path\n                                    d=\"M13.683 1a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7.08a2 2 0 0 1-1.519-.698L.241 8.65a1 1 0 0 1 0-1.302L5.084 1.7A2 2 0 0 1 6.603 1h7.08zm-7.08 1a1 1 0 0 0-.76.35L1 8l4.844 5.65a1 1 0 0 0 .759.35h7.08a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1h-7.08z\" />\n                            </svg>\n                        </button>\n                    </div>\n                </div>\n\n                <div\n                    class=\"hs-more-infos hs-more col-lg-3 text-center d-flex flex-column justify-content-center justify-content-lg-start align-items-center\">\n\n                    <div class=\"more-head w-100 mb-3\">\n                        <div class=\"row\">\n                            <div class=\"col-12 color-type\"></div>\n                        </div>\n                        <div class=\"more-title row align-items-center text-white py-3 text-uppercase\">\n                            <div class=\"col-12 p-0\">\n                                <p class=\"p-0 m-0\"> <b>{{ titleInfo }}</b> <sup>{{ titleInfoSmall }}</sup></p>\n                            </div>\n\n                        </div>\n                    </div>\n\n\n                    <div class=\"infos-list-container d-flex flex-column mb-3\">\n\n                        <div class=\"infos-list my-2\" v-for=\"(value, name, index) in AllInfo \" :key=\"index\">\n                            <span class=\"content-title\">\n                                {{ name }}\n                            </span>\n                            <span class=\"content-value\" v-html=\"`${currentRegion[value.key]} ${value.suffixTxt}`\"></span>\n                        </div>\n\n                    </div>\n\n                    <hr class=\"my-3\" /><!----------------------------->\n\n                    <div class=\"container-fluid\">\n                        <div class=\"row-dispo row align-items-center p-1 my-4\">\n\n                            <div class=\"col-12\">\n                                <h3 class=\"dispo-title\">{{ currentRegion.statut }}</h3>\n                            </div>\n\n                            <div class=\"col-12\">\n                                <p class=\"dispo p-2 m-0\">\n                                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"2em\" height=\"2em\" fill=\"currentColor\"\n                                        class=\"bi bi-check-circle text-success\" viewBox=\"0 0 16 16\"\n                                        v-if=\"currentRegion.statut === 'Disponible'\">\n                                        <path d=\"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\" />\n                                        <path\n                                            d=\"M10.97 4.97a.235.235 0 0 0-.02.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05z\" />\n                                    </svg>\n\n                                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"2em\" height=\"2em\" fill=\"currentColor\"\n                                        class=\"bi bi-x-circle text-danger\" viewBox=\"0 0 16 16\"\n                                        v-else-if=\"currentRegion.statut === 'Indisponible'\">\n                                        <path d=\"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\" />\n                                        <path\n                                            d=\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\" />\n                                    </svg>\n\n                                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"2em\" height=\"2em\" fill=\"currentColor\"\n                                        class=\"bi bi-exclamation-circle text-warning\" viewBox=\"0 0 16 16\" v-else>\n                                        <path d=\"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16\" />\n                                        <path\n                                            d=\"M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0z\" />\n                                    </svg>\n                                </p>\n                            </div>\n                        </div>\n                    </div>\n\n                    <hr class=\"my-3 flex-grow-1\" /><!----------------------------->\n\n                    <div class=\"more-footer mb-3\">\n                        <button class=\"btn custom-btn btn-sm btn-style\" type=\"button\"\n                            @click=\"captureStore.takeScreen(screenshot)\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"2.5em\" height=\"2.5em\" fill=\"currentColor\"\n                                class=\"bi bi-camera\" viewBox=\"0 0 16 16\">\n                                <path\n                                    d=\"M15 12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h1.172a3 3 0 0 0 2.12-.879l.83-.828A1 1 0 0 1 6.827 3h2.344a1 1 0 0 1 .707.293l.828.828A3 3 0 0 0 12.828 5H14a1 1 0 0 1 1 1v6zM2 4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2h-1.172a2 2 0 0 1-1.414-.586l-.828-.828A2 2 0 0 0 9.172 2H6.828a2 2 0 0 0-1.414.586l-.828.828A2 2 0 0 1 3.172 4H2z\" />\n                                <path\n                                    d=\"M8 11a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5zm0 1a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7zM3 6.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0z\" />\n                            </svg>\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </Transition>\n</template>\n\n\n<script setup>\n\nimport { ref } from 'vue'\nimport CarouselComponent from \"../app-ui/CarouselComponent\"\nimport { transitionEnter, transitionLeave } from \"@/utils/hsDetailsTransition\";\nimport { useRegionsStore } from \"@/stores/regions\";\nimport { useAppDataStore } from \"@/stores/appData\";\nimport { useCaptureStore } from \"@/stores/capture\";\nimport { storeToRefs } from 'pinia';\n\n\ndefineEmits([\n    'onCloseDetails'\n])\n\ndefineProps({\n    canShow: {\n        type: Boolean,\n        default: true\n    },\n});\n\n\nconst regionsStore = useRegionsStore();\nconst appDataStore = useAppDataStore();\nconst captureStore = useCaptureStore();\n\nconst { currentColor, currentRegion, AllInfo, titleInfo, titleInfoSmall } = storeToRefs(regionsStore);\nconst { currentOrbital } = storeToRefs(appDataStore);\n\n\nconst screenshot = ref(null);\n\nconst items = ref([\n    {\n        url: \"\",\n        title: \"Plan 3D\",\n        desc: \"\"\n    },\n    {\n        url: \"\",\n        title: \"Plan 2d\",\n        desc: \"\"\n    }\n]);\n\n\nconst setImageSrc = () => {\n    const apptName = currentRegion.value.nom;\n    items.value[0].url = `assets/images/lots/${currentOrbital.value.id}/3d/${apptName}.jpg`;\n    items.value[1].url = `assets/images/lots/${currentOrbital.value.id}/2d/${apptName}.jpg`;\n};\n\nfunction onEnter(el) {\n    transitionEnter(el);\n}\n\nfunction onLeave(el, done) {\n    transitionLeave(el, done);\n}\n\ndefineExpose({\n    setImageSrc\n});\n\n</script>\n\n\n\n<style lang=\"scss\" scoped>\n$type-color : v-bind(currentColor);\n$brightness : 0.9;\n$dirt-dark : var(--app-gray-color);\n\n@mixin type-color {\n    color: $type-color;\n    filter: brightness($brightness);\n}\n\n@mixin type-bg-color {\n    background-color: $type-color;\n    filter: brightness($brightness);\n}\n\nhr {\n    width: 90%;\n    color: #828282;\n    margin: 0;\n}\n\n.parent-hs-more {\n    position: absolute;\n    z-index: 101;\n    background-color: #fff;\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n\n\n    .btn-style {\n        background-color: transparent;\n        color: $dirt-dark;\n        padding: 0;\n        margin: 0 .5em;\n    }\n\n    .btn-style:hover {\n        @include type-color;\n    }\n\n\n\n    .more-container {\n        min-height: 100%;\n        min-height: 100vh;\n    }\n\n    .hs-more {\n        min-height: 100%;\n        min-height: 100vh;\n    }\n\n    .hs-more-carousel {\n        background-color: #fff;\n\n        .close-detail {\n            position: absolute;\n            right: .5em;\n            top: 1em;\n            z-index: 1032;\n\n            svg {\n                display: block;\n            }\n        }\n    }\n\n    .hs-more-infos {\n\n        background-color: #ffffff;\n        box-shadow: -1px -1px 8px 0px #ccccccad;\n\n        .more-head {\n            letter-spacing: .1em;\n\n            .more-title {\n                background-color: $dirt-dark;\n\n                sup {\n                    font-size: 0.6em;\n                }\n            }\n        }\n\n        .color-type {\n            height: 1em;\n            @include type-bg-color;\n        }\n\n        .infos-list-container {\n            width: 90%;\n\n            .infos-list {\n                font-size: .85em;\n\n                .content-title {\n                    color: #6a6a6a;\n                    float: left;\n                }\n\n                .content-value {\n                    font-weight: bold;\n                    color: $dirt-dark;\n                    float: right;\n                }\n            }\n        }\n\n\n\n        .row-dispo {\n\n            .dispo-title {\n                font-size: .9em;\n                text-transform: uppercase;\n                color: $dirt-dark;\n            }\n        }\n\n\n    }\n}\n</style>","import script from \"./HotspotDetails.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./HotspotDetails.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./HotspotDetails.vue?vue&type=style&index=0&id=35d8c34a&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-35d8c34a\"]])\n\nexport default __exports__","<template>\n    <div class=\"parent position-relative p-0 m-0 border border-0\">\n\n        <error-component />\n        <capture-modal />\n\n        <orbital-loader :is-error=\"orbitalError\" :show=\"showLoader\" :percent-loaded=\"percentLoaded\" @on-refresh=\"refresh\">\n        </orbital-loader>\n\n        <hotspot-details :canShow=\"showHsDetails\" @onCloseDetails=\"showHsDetails = false\" ref=\"detailsComponent\">\n        </hotspot-details>\n\n        <orbital-menu :stage-count=\"stageCount\" :starting-at=\"startStage\" @on-play=\"play\" @on-step=\"step\"\n            @on-step-end=\"endTimout\" @on-set-level=\"setLevel\" @on-show-filter=\"showFilter\" @on-zoom=\"setZoom\"\n            @on-zoom-end=\"endTimout\">\n        </orbital-menu>\n\n        <div class=\"orbital-canvas full-width full-height\" id=\"orbital\" ref=\"screenshot\">\n            <compass-component ref=\"compass\"></compass-component>\n            <PopoverComponent :show-popover=\"showPopper\" :positions=\"popoverPos\"></PopoverComponent>\n        </div>\n\n        <filter-component :default-filters=\"default_filters\" :show-toast=\"showToast\" @onCloseToast=\"closeFilter\"\n            @onSurfaceChanged=\"surfaceChanged\" @onTypesChanged=\"typesChanged\">\n        </filter-component>\n\n        <div class=\"s-f-menu d-flex flex-column\">\n            <button class=\"btn custom-btn btn-sm btn-style capture-btn\" type=\"button\"\n                @click=\"captureStore.takeScreen(screenshot)\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1.5em\" height=\"1.5em\" fill=\"currentColor\"\n                    class=\"bi bi-camera\" viewBox=\"0 0 16 16\">\n                    <path\n                        d=\"M15 12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h1.172a3 3 0 0 0 2.12-.879l.83-.828A1 1 0 0 1 6.827 3h2.344a1 1 0 0 1 .707.293l.828.828A3 3 0 0 0 12.828 5H14a1 1 0 0 1 1 1v6zM2 4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2h-1.172a2 2 0 0 1-1.414-.586l-.828-.828A2 2 0 0 0 9.172 2H6.828a2 2 0 0 0-1.414.586l-.828.828A2 2 0 0 1 3.172 4H2z\" />\n                    <path\n                        d=\"M8 11a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5zm0 1a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7zM3 6.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0z\" />\n                </svg>\n            </button>\n\n            <button class=\"btn custom-btn btn-sm btn-style fullscreen-btn\" type=\"button\" @click=\"toggle\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1.3em\" height=\"1.3em\" fill=\"currentColor\"\n                    class=\"bi bi-arrows-fullscreen\" viewBox=\"0 0 16 16\">\n                    <path fill-rule=\"evenodd\"\n                        d=\"M5.828 10.172a.5.5 0 0 0-.707 0l-4.096 4.096V11.5a.5.5 0 0 0-1 0v3.975a.5.5 0 0 0 .5.5H4.5a.5.5 0 0 0 0-1H1.732l4.096-4.096a.5.5 0 0 0 0-.707zm4.344 0a.5.5 0 0 1 .707 0l4.096 4.096V11.5a.5.5 0 1 1 1 0v3.975a.5.5 0 0 1-.5.5H11.5a.5.5 0 0 1 0-1h2.768l-4.096-4.096a.5.5 0 0 1 0-.707zm0-4.344a.5.5 0 0 0 .707 0l4.096-4.096V4.5a.5.5 0 1 0 1 0V.525a.5.5 0 0 0-.5-.5H11.5a.5.5 0 0 0 0 1h2.768l-4.096 4.096a.5.5 0 0 0 0 .707zm-4.344 0a.5.5 0 0 1-.707 0L1.025 1.732V4.5a.5.5 0 0 1-1 0V.525a.5.5 0 0 1 .5-.5H4.5a.5.5 0 0 1 0 1H1.732l4.096 4.096a.5.5 0 0 1 0 .707z\" />\n                </svg>\n            </button>\n        </div>\n\n\n\n    </div>\n</template>\n\n\n\n<script setup>\n\nimport { Orbital } from \"@/orbital-modules/orbital\";\n\nimport CaptureModal from \"@/components/app-ui/CaptureModal\";\nimport CompassComponent from \"./CompassComponent\";\nimport FilterComponent from \"./FilterComponent\";\nimport HotspotDetails from \"./HotspotDetails\";\nimport OrbitalLoader from \"./OrbitalLoader.vue\";\nimport OrbitalMenu from \"./OrbitalMenu\";\nimport PopoverComponent from \"./PopoverComponent\";\nimport ErrorComponent from \"@/components/app-ui/ErrorComponent\";\n\nimport { useFullscreen } from '@vueuse/core';\nimport { ref, reactive, computed, onMounted, onUnmounted } from \"vue\";\nimport { storeToRefs } from \"pinia\";\nimport { useRegionsStore } from \"@/stores/regions\";\nimport { useAppDataStore } from \"@/stores/appData\";\nimport { useCaptureStore } from \"@/stores/capture\";\n\nconst emits = defineEmits(['onHSHover', 'onHSOut', 'onHSClick']);\n\nconst { toggle } = useFullscreen();\n\nconst captureStore = useCaptureStore();\nconst regionsStore = useRegionsStore();\nconst appDataStore = useAppDataStore();\n\nconst { regions, isError } = storeToRefs(regionsStore);\nconst { currentOrbital, currentUID, orbitalConfig } = storeToRefs(appDataStore);\n\nconst default_filters = ref(orbitalConfig.value.hotspots.default_filters);\n\nconst screenshot = ref(null), detailsComponent = ref(null);\n\nconst showLoader = ref(true);\n\nconst orbitalError = ref(false);\n\nconst orbital = ref();\n\nconst showHsDetails = ref(false),\n    hsData = ref({}),\n    stageCount = ref(1),\n    typesColors = ref({}),\n    currentColor = ref(\"#cccccc\"),\n    percentLoaded = ref(0),\n    startingStage = ref(0);\n\nconst startStage = computed(() => {\n    return Math.min(Math.max(parseInt(startingStage.value), 0), stageCount.value - 1);\n});\n\nconst MenuBtnInterval = ref(undefined);\n\n\n/***********************************\n  Initialisation\n***********************************/\nfunction init() {\n\n    regionsStore.fetchRegions().then(() => {\n        if (isError.value) {\n            orbitalError.value = true;\n            showLoader.value = false;\n            return;\n        }\n        setupOrbital();\n    });\n\n}\n\nfunction setupOrbital() {\n    appDataStore.fetchHSConfig().then((HS) => {\n        orbital.value = new Orbital(\"orbital\", orbitalConfig.value, regions.value);\n        orbital.value.init(HS);\n        const params = orbitalConfig.value.params;\n        stageCount.value = params.animationsCount;\n        startingStage.value = params.animStart;\n        typesColors.value = orbitalConfig.value.hotspots.color_types;\n        addEvents();\n    });\n}\n/***********************************\n  END Initialisation\n***********************************/\n\n\n\n\n/***********************************\n        Orbital interactions\n***********************************/\nfunction setLevel(level) {\n    orbital.value.setLevel(level);\n}\n\nfunction play(play) {\n    if (play) {\n        return orbital.value.playOrbital();\n    }\n    orbital.value.stopOrbital();\n}\n\nfunction step(reverse) {\n    window.clearInterval(MenuBtnInterval.value);\n    if (reverse)\n        orbital.value.prev();\n    else orbital.value.next();\n    _rotateCompass();\n\n    MenuBtnInterval.value = window.setInterval(() => {\n        if (reverse)\n            orbital.value.prev();\n        else orbital.value.next();\n        _rotateCompass();\n    }, 100);\n}\n\n\nfunction setZoom(zoomIn) {\n    window.clearInterval(MenuBtnInterval.value);\n    orbital.value.setZoom(zoomIn);\n    MenuBtnInterval.value = window.setInterval(() => orbital.value.setZoom(zoomIn), 30);\n}\n/***********************************\n  END Orbital interactions\n***********************************/\n\n\n\n/***********************************\n    Filters\n***********************************/\nconst showToast = ref(false);\n\nfunction endTimout() {\n    window.clearInterval(MenuBtnInterval.value);\n}\nfunction showFilter() {\n    showToast.value = true;\n}\n\nfunction closeFilter() {\n    showToast.value = false;\n}\n\nfunction surfaceChanged(surface) {\n    orbital.value.filterHSByPrice(surface);\n}\n\nfunction typesChanged(types) {\n    orbital.value.filterHSByTypes(types);\n}\n\n\n/***********************************\n    END Filters\n***********************************/\n\n\n\n\n/***********************************\n            Compass\n***********************************/\nconst compass = ref(null);\nconst angle = ref(0);\nconst northAngle = ref(orbitalConfig.value.params.northAngle);\nfunction _setOrbitalAngle() {\n    const frameCount = orbitalConfig.value.params.framesCount;\n    const totalFrames = frameCount;\n    angle.value = Math.round(360 / totalFrames);\n}\nfunction _rotateCompass() {\n    const frame = orbital.value.getCurrentFrame();\n    const a = northAngle.value + angle.value * frame;\n    compass.value.rotate(a);\n}\n/***********************************\n  END Compass\n***********************************/\n\n\n\n\n\n/***********************************\n        Events functions\n***********************************/\nfunction onAppReady() {\n    showLoader.value = false;\n    _setOrbitalAngle();\n    _rotateCompass();\n    const eventsCanvas = orbital.value.getEventsCanvas();\n    eventsCanvas.addEventListener('OnDrag', onDrag);\n}\n\nfunction onUpdateTimeline() {\n    _rotateCompass();\n}\n\nfunction onError() {\n    orbitalError.value = true;\n}\n\nfunction onLoadingChange() {\n    percentLoaded.value = orbital.value.getPercentLoaded();\n}\n\nfunction onDrag() {\n    _rotateCompass();\n}\n/***********************************\n        END Events functions\n***********************************/\n\n\n\n\n/***********************************\n    Hotspots Events\n***********************************/\nconst showPopper = ref(false);\nconst popoverPos = reactive({ x: 0, y: 0 });\nconst lastRegionBody = ref({});\n\nfunction onHSClick(e) {\n    const detail = e.detail;\n    const region = detail.region;\n    if (region === undefined) return;\n    if (currentOrbital.value.isOrbitalSelection) {\n        emits(\"onHSClick\", region[currentUID.value]);\n        return;\n    }\n    hsData.value = region;\n    regionsStore.setRegion(region[currentUID.value]);\n    detailsComponent.value.setImageSrc();\n    showHsDetails.value = true;\n\n}\n\nfunction onHSHover(e) {\n\n    const detail = e.detail;\n    const region = detail.region;\n\n    if (region === undefined || !Object.keys(regions.value).length) return;\n\n    const pos = e.detail.mousePos;\n    showPopper.value = true;\n    popoverPos.x = pos.x;\n    popoverPos.y = pos.y;\n    const regionBody = regions.value[region.name];\n\n    if (lastRegionBody.value === regionBody) return;\n\n    lastRegionBody.value = regionBody;\n    const type = regionBody.type;\n    currentColor.value = typesColors.value[type];\n    hsData.value = regionBody;\n    regionsStore.setRegion(region.name);\n    emits(\"onHSHover\", region.name);\n}\n\nfunction onHSOut() {\n    showPopper.value = false;\n}\n/***********************************\n    END Hotspots Events\n***********************************/\n\n\n\n\n\n\nfunction refresh() {\n    orbitalError.value = false;\n    percentLoaded.value = 0;\n    init();\n}\n\n\nonMounted(() => {\n    init();\n});\n\nonUnmounted(() => {\n    clearEvents();\n    if (orbital.value) orbital.value.unmountOrbital();\n});\n\n\nfunction addEvents() {\n    window.addEventListener(\"OnLoadingChange\", onLoadingChange);\n    window.addEventListener(\"OnUpdateTimeline\", onUpdateTimeline);\n    window.addEventListener(\"OnError\", onError);\n    window.addEventListener(\"OnAppReady\", onAppReady);\n    window.addEventListener(\"OnHSClick\", onHSClick);\n    window.addEventListener(\"OnHSHover\", onHSHover);\n    window.addEventListener(\"OnHSHoverOut\", onHSOut);\n}\n\nfunction clearEvents() {\n    window.removeEventListener(\"OnLoadingChange\", onLoadingChange);\n    window.removeEventListener(\"OnUpdateTimeline\", onUpdateTimeline);\n    window.removeEventListener(\"OnError\", onError);\n    window.removeEventListener(\"OnAppReady\", onAppReady);\n    window.removeEventListener(\"OnHSClick\", onHSClick);\n    window.removeEventListener(\"OnHSHover\", onHSHover);\n    window.removeEventListener(\"OnHSHoverOut\", onHSOut);\n}\n\n</script>\n\n\n<style lang=\"scss\" scoped>\n.orbital-canvas {\n    position: relative;\n    padding: 0;\n    margin: 0;\n    border: none;\n}\n\n.s-f-menu {\n    position: absolute;\n    right: 0;\n    bottom: 0;\n    z-index: 100;\n}\n</style>\n","import script from \"./OrbitalComponent.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./OrbitalComponent.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./OrbitalComponent.vue?vue&type=style&index=0&id=6c9ca99f&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-6c9ca99f\"]])\n\nexport default __exports__","<template>\n    <div class=\"orital-loader position-fixed\" v-if=\"canShow\" ref=\"loaderParent\">\n        <div class=\"h-100 d-flex flex-column justify-content-center align-items-center\" v-if=\"!isError\">\n\n            <p class=\"loading-txt\" ref=\"loadingTxt\">Loading {{ currentOrbital.title }}</p>\n            <div class=\"progress\" ref=\"progress\">\n                <div class=\"progress-bar\" role=\"progressbar\" aria-label=\"range-loading\" :aria-valuenow=\"percentLoaded\"\n                    aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\n            </div>\n\n            <div class=\"text-center\">\n                <p class=\"percentage\" ref=\"percentage\">{{ percentLoaded }}%</p>\n            </div>\n\n\n        </div>\n\n    </div>\n</template>\n\n\n<script setup>\n\nimport { ref, watchEffect, computed } from \"vue\";\nimport { useAppDataStore } from \"@/stores/appData\";\nimport { storeToRefs } from \"pinia\";\nimport { gsap } from \"gsap\";\n\nconst appDataStore = useAppDataStore();\nconst { currentOrbital } = storeToRefs(appDataStore);\n\n\ndefineEmits([\n    \"onRefresh\"\n]);\n\nconst props = defineProps({\n    title: {\n        type: String,\n        default: \"Orbital\"\n    },\n    show: {\n        type: Boolean,\n        default: true\n    },\n    percentLoaded: {\n        type: Number,\n        default: 0\n    },\n    isError: {\n        type: Boolean,\n        default: false\n    }\n});\n\nconst progress = ref(null);\nconst loadingTxt = ref(null);\nconst percentage = ref(null);\nconst loaderParent = ref(null);\n\nconst canShow = ref(true);\nconst animFinished = ref(false);\n\nwatchEffect(() => {\n    if (!props.show && !animFinished.value) {\n        _loaderAnimOut();\n    }\n});\n\nconst percentRangeLoading = computed(() => {\n    return props.percentLoaded + \"%\";\n});\n\n\nfunction _loaderAnimOut() {\n\n    gsap.to(progress.value, {\n        width: 0,\n        duration: 1.5,\n        delay: .8,\n        ease: \"expo.inOut()\",\n    });\n\n    gsap.to(loadingTxt.value, {\n        y: 10,\n        opacity: 0,\n        duration: .7,\n        delay: .5,\n        ease: \"expo.inOut()\",\n    });\n\n    gsap.to(percentage.value, {\n        y: -10,\n        opacity: 0,\n        duration: .7,\n        delay: .5,\n        ease: \"expo.inOut()\",\n    });\n\n    gsap.to(loaderParent.value, {\n        x: -window.outerWidth,\n        opacity: .9,\n        duration: 1.5,\n        delay: 1.85,\n        ease: \"expo.inOut()\",\n        onComplete: () => {\n            gsap.set(loaderParent.value, { x: \"-100%\", opacity: 1 });\n            canShow.value = false;\n            animFinished.value = true;\n        }\n    });\n}\n</script>\n\n\n\n\n<style lang=\"scss\" scoped>\n.orital-loader {\n    z-index: 220;\n    width: 100%;\n    height: 100%;\n    background-color: #fafafa;\n\n    .progress {\n        width: 30%;\n        height: 0.1em;\n        margin: 1em 0;\n\n        .progress-bar {\n            width: v-bind(percentRangeLoading);\n            background-color: var(--app-primary-color);\n        }\n    }\n\n    .loading-txt {\n        color: var(--app-secondary-color);\n        font-size: .8em;\n        letter-spacing: .2em;\n        text-transform: uppercase;\n        margin: 1em 0;\n    }\n\n    .percentage {\n        font-size: .9em;\n        letter-spacing: .1em;\n        color: var(--app-gray-color);\n    }\n\n}\n</style>","import script from \"./OrbitalLoader.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./OrbitalLoader.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./OrbitalLoader.vue?vue&type=style&index=0&id=7ca7d423&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7ca7d423\"]])\n\nexport default __exports__","<template>\n    <div class=\"sidebar-parent\">\n\n        <Teleport to=\"#app\">\n            <button class=\"side-menu-toggler btn custom-btn\" type=\"button\" v-show=\"!isOpen\" @click=\"showMenu\" ref=\"showBtn\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1.5em\" height=\"1.5em\" fill=\"currentColor\" class=\"bi bi-list\"\n                    viewBox=\"0 0 16 16\">\n                    <path fill-rule=\"evenodd\"\n                        d=\"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z\" />\n                </svg>\n                Menu\n            </button>\n        </Teleport>\n\n\n        <div class=\"sidebar show border-0 rounded\" ref=\"sidebar\" v-show=\"isOpen\">\n\n            <div class=\"sidebar-body p-1 d-flex flex-row justify-content-between align-items-center\">\n\n                <ul class=\"sidebar-menu p-0 close-menu\">\n                    <li class=\"sidebar-item\">\n                        <button type=\"button\" class=\"btn custom-btn btn-sm\" @click=\"closeMenu\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\"\n                                class=\"bi bi-x-lg\" viewBox=\"0 0 16 16\">\n                                <path\n                                    d=\"M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z\" />\n                            </svg>\n                        </button>\n                    </li>\n                </ul>\n\n                <div class=\"vr\"></div>\n\n                <ul class=\"sidebar-menu d-none d-md-flex align-items-center\">\n                    <li class=\"sidebar-item\">\n                        <button class=\"btn custom-btn btn-sm\" @mousedown=\"$emit('onStep', true)\"\n                            @mouseup=\"$emit('onStepEnd')\" @touchstart.prevent=\"$emit('onStep', true)\"\n                            @touchend=\"$emit('onStepEnd')\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1.3em\" height=\"1.3em\" fill=\"currentColor\"\n                                class=\"bi bi-arrow-counterclockwise\" viewBox=\"0 0 16 16\">\n                                <path fill-rule=\"evenodd\"\n                                    d=\"M8 3a5 5 0 1 1-4.546 2.914.5.5 0 0 0-.908-.417A6 6 0 1 0 8 2v1z\" />\n                                <path\n                                    d=\"M8 4.466V.534a.25.25 0 0 0-.41-.192L5.23 2.308a.25.25 0 0 0 0 .384l2.36 1.966A.25.25 0 0 0 8 4.466z\" />\n                            </svg>\n                        </button>\n                    </li>\n                    <li class=\"sidebar-item\">\n                        <button class=\"btn custom-btn btn-sm\" @click=\"$emit('onPlay', true)\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1.3em\" height=\"1.3em\" fill=\"currentColor\"\n                                class=\"bi bi-play-circle\" viewBox=\"0 0 16 16\">\n                                <path d=\"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\" />\n                                <path\n                                    d=\"M6.271 5.055a.5.5 0 0 1 .52.038l3.5 2.5a.5.5 0 0 1 0 .814l-3.5 2.5A.5.5 0 0 1 6 10.5v-5a.5.5 0 0 1 .271-.445z\" />\n                            </svg>\n                        </button>\n                    </li>\n                    <li class=\"sidebar-item\">\n                        <button class=\"btn custom-btn btn-sm\" @click=\"$emit('onPlay', false)\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1.3em\" height=\"1.3em\" fill=\"currentColor\"\n                                class=\"bi bi-stop-circle\" viewBox=\"0 0 16 16\">\n                                <path d=\"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\" />\n                                <path\n                                    d=\"M5 6.5A1.5 1.5 0 0 1 6.5 5h3A1.5 1.5 0 0 1 11 6.5v3A1.5 1.5 0 0 1 9.5 11h-3A1.5 1.5 0 0 1 5 9.5v-3z\" />\n                            </svg>\n                        </button>\n                    </li>\n\n                    <li class=\"sidebar-item\">\n                        <button class=\"btn custom-btn btn-sm\" @mousedown=\"$emit('onStep', false)\"\n                            @mouseup=\"$emit('onStepEnd')\" @touchstart.prevent=\"$emit('onStep', false)\"\n                            @touchend=\"$emit('onStepEnd')\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1.3em\" height=\"1.3em\" fill=\"currentColor\"\n                                class=\"bi bi-arrow-clockwise\" viewBox=\"0 0 16 16\">\n                                <path fill-rule=\"evenodd\"\n                                    d=\"M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2v1z\" />\n                                <path\n                                    d=\"M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466z\" />\n                            </svg>\n                        </button>\n                    </li>\n\n                    <li class=\"sidebar-item\">\n                        <button class=\"btn custom-btn btn-sm\" @mousedown=\"$emit('onZoom', true)\"\n                            @mouseup=\"$emit('onZoomEnd')\" @touchstart.prevent=\"$emit('onZoom', true)\"\n                            @touchend=\"$emit('onZoomEnd')\" @contextmenu.prevent=\"\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1.3em\" height=\"1.3em\" fill=\"currentColor\"\n                                class=\"bi bi-zoom-in\" viewBox=\"0 0 16 16\">\n                                <path fill-rule=\"evenodd\"\n                                    d=\"M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z\" />\n                                <path\n                                    d=\"M10.344 11.742c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1 6.538 6.538 0 0 1-1.398 1.4z\" />\n                                <path fill-rule=\"evenodd\"\n                                    d=\"M6.5 3a.5.5 0 0 1 .5.5V6h2.5a.5.5 0 0 1 0 1H7v2.5a.5.5 0 0 1-1 0V7H3.5a.5.5 0 0 1 0-1H6V3.5a.5.5 0 0 1 .5-.5z\" />\n                            </svg>\n                        </button>\n                    </li>\n\n                    <li class=\"sidebar-item\">\n                        <button class=\"btn custom-btn btn-sm\" @mousedown=\"$emit('onZoom', false)\"\n                            @mouseup=\"$emit('onZoomEnd')\" @touchstart.prevent=\"$emit('onZoom', false)\"\n                            @touchend=\"$emit('onZoomEnd')\" @contextmenu.prevent=\"\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1.3em\" height=\"1.3em\" fill=\"currentColor\"\n                                class=\"bi bi-zoom-out\" viewBox=\"0 0 16 16\">\n                                <path fill-rule=\"evenodd\"\n                                    d=\"M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z\" />\n                                <path\n                                    d=\"M10.344 11.742c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1 6.538 6.538 0 0 1-1.398 1.4z\" />\n                                <path fill-rule=\"evenodd\"\n                                    d=\"M3 6.5a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5z\" />\n                            </svg>\n                        </button>\n                    </li>\n                </ul>\n\n\n                <div class=\"vr d-none d-md-block\"></div>\n\n                <ul class=\"sidebar-menu align-self-start align-self-sm-center overflow-auto\">\n\n                    <div class=\"d-flex align-items-center\">\n                        <li class=\"sidebar-item\" v-for=\"stage in stages\" :key=\"stage.index + 1\">\n                            <button class=\"btn custom-btn btn-sm\" :class=\"{ 'active': stage.isActive }\"\n                                @click=\"stageClick(stage.index)\">\n                                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1.2em\" height=\"1.2em\" fill=\"currentColor\"\n                                    class=\"bi bi-layers-half\" viewBox=\"0 0 16 16\">\n                                    <path\n                                        d=\"M8.235 1.559a.5.5 0 0 0-.47 0l-7.5 4a.5.5 0 0 0 0 .882L3.188 8 .264 9.559a.5.5 0 0 0 0 .882l7.5 4a.5.5 0 0 0 .47 0l7.5-4a.5.5 0 0 0 0-.882L12.813 8l2.922-1.559a.5.5 0 0 0 0-.882l-7.5-4zM8 9.433 1.562 6 8 2.567 14.438 6 8 9.433z\" />\n                                </svg> {{ stage.title }}\n                            </button>\n                        </li>\n                    </div>\n\n\n                </ul>\n\n                <div class=\"vr\"></div>\n\n                <ul class=\"sidebar-menu\">\n                    <li class=\"sidebar-item\">\n                        <button class=\"btn custom-btn filter-btn\" @click=\"$emit('onShowFilter')\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1em\" height=\"1em\" fill=\"currentColor\"\n                                class=\"bi bi-sliders\" viewBox=\"0 0 16 16\">\n                                <path fill-rule=\"evenodd\"\n                                    d=\"M11.5 2a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM9.05 3a2.5 2.5 0 0 1 4.9 0H16v1h-2.05a2.5 2.5 0 0 1-4.9 0H0V3h9.05zM4.5 7a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM2.05 8a2.5 2.5 0 0 1 4.9 0H16v1H6.95a2.5 2.5 0 0 1-4.9 0H0V8h2.05zm9.45 4a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zm-2.45 1a2.5 2.5 0 0 1 4.9 0H16v1h-2.05a2.5 2.5 0 0 1-4.9 0H0v-1h9.05z\" />\n                            </svg>\n                            <small>Filtre</small>\n                        </button>\n                    </li>\n                </ul>\n\n            </div>\n\n        </div>\n\n\n\n    </div>\n</template>\n\n\n\n\n<script setup>\n\nimport { ref, watch, watchEffect } from \"vue\";\nimport { gsap } from \"gsap\";\n\n\nconst props = defineProps({\n    stageCount: {\n        type: Number,\n        validator(value) {\n            return value > 0\n        },\n        default: 1\n    },\n\n    startingAt: {\n        type: Number,\n        default: 0\n    },\n\n    stagePrefix: {\n        type: String,\n        default: \"R\"\n    }\n});\n\nconst emits = defineEmits([\n    \"onSetLevel\",\n    \"onPlay\",\n    \"onStep\",\n    \"onStepEnd\",\n    \"onShowFilter\",\n    \"onZoom\",\n    \"onZoomEnd\"\n]);\n\nconst isOpen = ref(false);\n\nconst activeStageIndex = ref(props.startingAt);\n\nconst stages = ref([]);\n\nwatch(() => props.startingAt, () => {\n    activeStageIndex.value = props.startingAt;\n});\n\nwatchEffect(() => {\n    const count = props.stageCount;\n    for (let i = 0; i < count; i++) {\n        stages.value[i] = {\n            index: i,\n            title: props.stagePrefix.concat(i),\n            isActive: activeStageIndex.value === i\n        }\n    }\n\n    stages.value[0].title = \"RDC\";\n\n    if (count > 1) {\n        stages.value[count - 1].title = \"Toit\";\n    }\n\n});\n\nfunction stageClick(index) {\n    activeStageIndex.value = index;\n    emits('onSetLevel', index);\n}\n\nconst showBtn = ref(null);\nconst sidebar = ref(null);\n\nfunction showMenu() {\n    isOpen.value = true;\n    gsap.set(sidebar.value, {\n        autoAlpha: 0,\n        y: \"100%\"\n    });\n    gsap.to(sidebar.value, {\n        autoAlpha: 1,\n        y: 0,\n        duration: .3\n    });\n}\n\nfunction closeMenu() {\n\n    gsap.set(showBtn.value, {\n        scale: 0,\n        autoAlpha: 0,\n    });\n\n    gsap.to(sidebar.value, {\n        autoAlpha: 0,\n        y: \"100%\",\n        duration: .3,\n        onComplete: () => {\n            isOpen.value = false\n        }\n    });\n\n    gsap.to(showBtn.value, {\n        scale: 1,\n        autoAlpha: 1,\n        duration: .3,\n        delay: .3,\n        ease: \"back.out(3)\",\n    });\n}\n\n\n</script>\n\n\n\n\n<style lang=\"scss\" scoped>\n$SB-bg-color : #ffffff;\n$SB-color : var(--app-gray-color);\n$SB-btn-bg-color : var(--app-primary-color);\n$SB-btn-bg-hover : var(--app-secondary-color);\n$SB-color-btn : #ffffff;\n\n$SB-shadow : 0 0 0.4em #ccccccad;\n\n.custom-tooltip {\n    background-color: $SB-bg-color;\n}\n\n.side-menu-toggler {\n    position: fixed;\n    bottom: 0;\n    left: 50%;\n    transform: translate(-50%);\n    background-color: #ffffff;\n    font-size: .7em;\n    color: $SB-btn-bg-hover;\n    letter-spacing: .2em;\n    text-transform: uppercase;\n    padding: .6em 1em;\n    border-radius: 4px;\n    z-index: 100;\n    font-weight: 500;\n\n    &:hover {\n        background-color: $SB-btn-bg-color;\n        color: #fff;\n    }\n}\n\n.sidebar-parent {\n    position: absolute;\n    width: 80%;\n    bottom: 2rem;\n    left: 50%;\n    transform: translate(-50%);\n    max-height: 5em !important;\n    z-index: 100;\n\n    .vr {\n        background-color: $SB-btn-bg-color;\n    }\n\n    .sidebar {\n        margin: auto;\n        border: none;\n        background-color: $SB-bg-color !important;\n        box-shadow: $SB-shadow;\n\n        .sidebar-body {\n            overflow: hidden;\n        }\n\n        .sidebar-menu {\n            list-style: none;\n            padding: 0 1em;\n            margin: 0;\n        }\n\n        .sidebar-item {\n            padding: 0.3em;\n            margin: 0em 0.1em;\n            text-align: center;\n            display: inline;\n\n            button {\n                font-weight: 400;\n            }\n        }\n\n        .filter-btn {\n            padding: .3em;\n\n            svg {\n                margin: 0 .5em;\n            }\n\n            small {\n                font-size: 0.6em;\n                letter-spacing: 0.2em;\n                text-transform: uppercase;\n                padding: 0 0.5em;\n            }\n\n        }\n\n\n    }\n\n}\n</style>","import script from \"./OrbitalMenu.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./OrbitalMenu.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./OrbitalMenu.vue?vue&type=style&index=0&id=41f247c2&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-41f247c2\"]])\n\nexport default __exports__","<template>\n    <div class=\"position-absolute popper\" ref=\"popper\" v-show=\"showPopover\">\n        <div class=\"card shadow border border-0\">\n            <div class=\"card-header p-0 overflow-hidden\">\n                <div class=\"color-type\"></div>\n                <div class=\"container-fluid\">\n                    <div class=\"header-bg row align-items-center\">\n                        <div class=\"col-12 p-0\">\n                            <p><b>{{ titleInfo }}</b><sup class=\"ms-1\"> {{ titleInfoSmall }}</sup></p>\n                        </div>\n                    </div>\n                </div>\n\n            </div>\n            <div class=\" card-body\">\n                <div class=\"container-fluid px-0\">\n\n                    <div v-for=\"(value, name, index) in  HSHoverInfo \" :key=\"index\" class=\"row align-items-center p-1\">\n                        <div class=\"col-6\">\n                            <span>{{ name }}</span>\n                        </div>\n                        <div class=\"col-6\">\n                            <p v-html=\"`${currentRegion[value.key]} ${value.suffixTxt}`\"></p>\n                        </div>\n                    </div>\n                </div>\n\n\n            </div>\n\n            <div class=\"card-footer bg-transparent\">\n                <span>{{ currentRegion.statut }}</span>\n                <status-component :status=\"currentRegion.statut\"></status-component>\n            </div>\n        </div>\n    </div>\n</template>\n\n\n<script setup>\n\n\nimport { ref, watch, onMounted, onUnmounted } from \"vue\";\nimport StatusComponent from \"@/components/app-ui/StatusComponent\";\nimport { createPopper } from '@popperjs/core';\nimport { useRegionsStore } from \"@/stores/regions\";\nimport { storeToRefs } from 'pinia';\n\nconst regionsStore = useRegionsStore();\n\n\n\nconst props = defineProps({\n\n    showPopover: {\n        type: Boolean,\n        default: false\n    },\n    positions: {\n        type: Object,\n\n    }\n});\n\n\nconst { currentColor, currentRegion, HSHoverInfo, titleInfo, titleInfoSmall } = storeToRefs(regionsStore);\n\nlet pInstance = null;\nlet virtualElement = null;\nconst popper = ref(null);\n\n\nfunction initPopover() {\n    virtualElement = {\n        getBoundingClientRect: generateGetBoundingClientRect(),\n    };\n    pInstance = createPopper(virtualElement, popper.value, {\n        placement: 'top',\n        modifiers: [\n            {\n                name: 'offset',\n                options: {\n                    offset: ({ placement }) => {\n                        if (placement === 'bottom') {\n                            return [0, 30];\n                        }\n\n                        if (placement === 'top') {\n                            return [0, 30];\n                        }\n\n                        return [];\n                    },\n                }\n            },\n        ]\n    });\n}\n\nfunction updatePopover(x, y) {\n    virtualElement.getBoundingClientRect = generateGetBoundingClientRect(x, y);\n    pInstance.update();\n}\n\nfunction generateGetBoundingClientRect(x = 0, y = 0) {\n    return () => ({\n        width: 0,\n        height: 0,\n        top: y,\n        right: x,\n        bottom: y,\n        left: x,\n    });\n}\n\nwatch(props.positions, () => {\n    updatePopover(props.positions.x, props.positions.y);\n});\n\nonMounted(() => {\n    initPopover();\n});\n\nonUnmounted(() => {\n    pInstance.destroy();\n});\n\n</script>\n\n\n\n\n<style lang=\"scss\" scoped>\n.popper {\n    opacity: .9;\n    /* popper beside canvasEvent to prevent interaction issue with hotspots */\n    z-index: 98;\n    width: 20em;\n    user-select: none;\n}\n\n.card {\n    $type-color : v-bind(currentColor);\n    border-radius: .3em;\n\n    .card-header {\n\n        .header-bg {\n            background-color: var(--app-gray-color);\n            color: #ffffff;\n            text-transform: uppercase;\n            text-align: center;\n            padding: .6em 0;\n        }\n\n        .color-type {\n            height: .5em;\n            background-color: $type-color;\n            padding: 0;\n        }\n\n        p {\n            font-size: .8em;\n            letter-spacing: .2em;\n            padding: .1em 0;\n            margin: 0;\n        }\n    }\n\n    .card-body {\n        padding: initial 0;\n\n        span {\n            font-size: .7em;\n            color: var(--app-gray-color);\n            text-transform: uppercase;\n            letter-spacing: .1em;\n        }\n\n        p {\n            text-align: end;\n            font-size: .85em;\n            color: $type-color;\n            margin: 0;\n            font-weight: 500;\n        }\n    }\n\n    .card-footer {\n        text-align: center;\n\n        span {\n            font-size: .7em;\n            color: var(--app-gray-color);\n            text-transform: uppercase;\n            letter-spacing: .1em;\n            font-weight: 500;\n        }\n    }\n\n\n}\n</style>","import script from \"./PopoverComponent.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./PopoverComponent.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./PopoverComponent.vue?vue&type=style&index=0&id=772777d9&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-772777d9\"]])\n\nexport default __exports__","<template>\n    <div class=\"card-parent shadow-sm\">\n        <div class=\"card-head w-100 mb-2\">\n            <div class=\"container-fluid\">\n                <div class=\"row\">\n                    <div class=\"col-12 color-type\"></div>\n                </div>\n                <div class=\"row card-title text-center align-items-center text-white py-2 text-uppercase py-3\">\n                    <div class=\"col-12 p-0\">\n                        <p class=\"p-0 m-0\"> <b>Appt-{{ titleInfo }}</b> <sup>Bloc-{{ titleInfoSmall }}</sup></p>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div class=\"container-fluid\">\n            <div class=\"row\">\n                <div class=\"card-image d-flex align-items-center p-1\">\n                    <ImageComponent :src=\"imgUrl\" />\n                </div>\n            </div>\n        </div>\n\n        <hr />\n\n        <div class=\"container-fluid\">\n            <div class=\"card-content row align-items-center\" v-for=\"(v, name, index) in AllInfo \" :key=\"index\">\n                <div class=\"col-5 content-title p-2\">\n                    <span>{{ name }}</span>\n                </div>\n                <div class=\"col-7 content-value\">\n                    <span v-html=\"`${cardInfo[v.key]} ${v.suffixTxt}`\"></span>\n                </div>\n            </div>\n        </div>\n\n        <hr />\n\n        <edit-appt :card-info=\"cardInfo\" :color-type=\"typeColor\" :is-admin=\"isAdmin\"></edit-appt>\n    </div>\n</template>\n\n\n<script setup>\n\nimport { computed } from \"vue\";\nimport ImageComponent from \"@/components/app-ui/ImageComponent\";\nimport EditAppt from \"@/components/admin/EditAppt\";\nimport { useRegionsStore } from \"@/stores/regions\";\nimport { useAppDataStore } from \"@/stores/appData\";\nimport { storeToRefs } from 'pinia';\n\nconst regionsStore = useRegionsStore();\nconst { AllInfo, titleInfoScheme } = storeToRefs(regionsStore);\n\nconst appData = useAppDataStore();\nconst { currentOrbital } = storeToRefs(appData);\n\n\nconst props = defineProps({\n    cardInfo: Object,\n    typesColors: Object,\n    isAdmin: {\n        type: Boolean,\n        default: false\n    }\n});\n\nconst typeColor = computed(() => {\n    const colorsProps = props.typesColors;\n    const type = props.cardInfo.type;\n    return colorsProps[type] || \"#cecece\";\n});\n\nconst imgUrl = computed(() => {\n    return `assets/images/lots/${currentOrbital.value.id}/3d/${props.cardInfo.nom}.jpg`\n});\n\nconst titleInfo = computed(() => {\n    const a = props.cardInfo[titleInfoScheme.value.normal];\n    const prefix = (a <= 9) ? \"0\" : \"\";\n    return prefix + a;\n});\nconst titleInfoSmall = computed(() => {\n    const a = props.cardInfo[titleInfoScheme.value.small];\n    const prefix = (a <= 9) ? \"0\" : \"\";\n    return prefix + a;\n});\n\n\n\n</script>\n\n<style lang=\"scss\" scoped>\n$type-color : v-bind(typeColor);\n\n.card-parent {\n\n    border: 1px solid #e6e6e6;\n    overflow: hidden;\n    border-radius: .2em;\n\n    hr {\n        color: var(--app-secondary-color);\n    }\n\n    .card-head {\n\n        letter-spacing: .1em;\n        font-size: .9em;\n\n        .color-type {\n            height: .5em;\n            background-color: $type-color;\n        }\n\n        .card-title {\n            background-color: var(--app-gray-color);\n        }\n    }\n\n    .card-image {\n        overflow: hidden;\n        min-height: 10em;\n    }\n\n    .card-content {\n        font-size: .85em;\n\n        .content-title {\n\n            span {\n                color: var(--app-gray-color);\n            }\n        }\n\n        .content-value {\n            text-align: end;\n\n            span {\n                font-weight: bold;\n                color: $type-color;\n                filter: brightness(0.85);\n            }\n        }\n    }\n\n}\n</style>","import script from \"./CardSearch.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./CardSearch.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./CardSearch.vue?vue&type=style&index=0&id=2c7e1dc3&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2c7e1dc3\"]])\n\nexport default __exports__","<template>\n    <div class=\"FBO\">\n        <div class=\"filters-title mb-3\">\n            <span>Par Villa</span>\n        </div>\n\n        <div>\n            <select v-model=\"selectedOrbital\" class=\"custom-select form-select form-select-sm\"\n                aria-label=\".form-select-sm select-orbital\" id=\"filtreOrbital\">\n                <option v-for=\"(value, key, index) in listOrbitals\" :key=\"index\" :value=\"key\">{{ value.title }}\n                </option>\n            </select>\n        </div>\n    </div>\n</template>\n\n\n<script setup>\nimport { ref, computed, watch } from \"vue\";\nimport { useAppDataStore } from \"@/stores/appData\";\nimport { storeToRefs } from 'pinia';\n\nconst emits = defineEmits([\n    \"onOrbitalSelect\"\n]);\n\nconst appDataStore = useAppDataStore();\nconst { availableOrbitals, currentOrbital } = storeToRefs(appDataStore);\n\nconst selectedOrbital = ref(currentOrbital.value.id);\n\nconst listOrbitals = computed(() => {\n    const filteredEntries = Object.entries(availableOrbitals.value).filter((orb) => {\n        return !orb[1].isOrbitalSelection\n    });\n    const filteredObject = Object.fromEntries(filteredEntries);\n    return filteredObject;\n});\n\nwatch(selectedOrbital, () => {\n    emits('onOrbitalSelect', selectedOrbital.value);\n});\n\n</script>\n\n\n<style lang=\"scss\" scoped>\n.custom-select {\n    letter-spacing: .2em;\n    font-size: .7em;\n    text-transform: uppercase;\n    padding: 0.5em 1em;\n    border: 1px solid var(--app-primary-color-300);\n}\n</style>","import script from \"./FilterByOrbital.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./FilterByOrbital.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./FilterByOrbital.vue?vue&type=style&index=0&id=1856c212&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1856c212\"]])\n\nexport default __exports__","<template>\n    <div class=\"list-cards\">\n        <div class=\"container-fluid\">\n            <div class=\"row justify-content-left\">\n                <div class=\"col-sm-6 col-md-6 col-lg-4 mb-4\" v-for=\"(card, _, index) in infinitData\" :key=\"index\">\n                    <card-search :card-info=\"card\" :types-colors=\"colorTypes\" :is-admin=\"showAdmin\"></card-search>\n                </div>\n            </div>\n            <div class=\"no-search row text-center\" v-if=\"Object.keys(infinitData).length === 0\">\n                <div class=\"col\">\n                    <p class=\"title py-5 m-0\">Aucun resultat</p>\n                    <div class=\"icon py-3\">\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"8em\" height=\"8em\" fill=\"currentColor\"\n                            class=\"bi bi-exclamation-square-fill\" viewBox=\"0 0 16 16\">\n                            <path\n                                d=\"M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm6 4c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995A.905.905 0 0 1 8 4zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z\" />\n                        </svg>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <!-- Infinite Trigger Element -->\n        <span ref=\"infiniteElem\" v-if=\"showTrigger\"></span>\n        <div v-if=\"showTrigger\">\n            <div class=\"d-flex justify-content-center\">\n                <div class=\"spinner-grow spinner\" role=\"status\">\n                    <span class=\"visually-hidden\">Loading...</span>\n                </div>\n            </div>\n        </div>\n        <!-- End Infinite Trigger Element -->\n\n    </div>\n</template>\n\n\n<script setup>\n\nimport CardSearch from \"@/components/orbital/search/CardSearch.vue\";\n\nimport { useIntersectionObserver } from '@vueuse/core';\n\nimport { ref, watch } from \"vue\";\n\nimport { useRegionsStore } from \"@/stores/regions\";\nimport { useAppDataStore } from \"@/stores/appData\";\nimport { storeToRefs } from 'pinia';\n\nconst regionsStore = useRegionsStore();\nconst appDataStore = useAppDataStore();\n\nconst props = defineProps({\n    fetchBy: {\n        type: Number,\n        default: 6\n    },\n    showAdmin: {\n        type: Boolean,\n        default: false\n    }\n});\n\nconst { filteredRegions } = storeToRefs(regionsStore);\nconst { colorTypes } = storeToRefs(appDataStore);\n\nconst countPerFetch = ref(props.fetchBy);\nconst infiniteElem = ref(null);\nconst infinitData = ref({});\nconst showTrigger = ref(false);\n\nuseIntersectionObserver(\n    infiniteElem,\n    ([{ isIntersecting }]) => {\n        const length = Object.keys(infinitData.value).length;\n        if (isIntersecting) {\n            const arr = Object.entries(infinitData.value);\n            arr.push(...getMore());\n            infinitData.value = Object.fromEntries(arr);\n        }\n\n        if (length >= Object.keys(filteredRegions.value).length || length <= 0) {\n            showTrigger.value = false;\n        }\n    },\n    {\n        threshold: 0.1,\n    }\n);\n\n\nfunction getMore() {\n    const length = Object.entries(infinitData.value).length;\n    return Object.entries(filteredRegions.value).slice(length, length + countPerFetch.value);\n}\n\nwatch(filteredRegions, () => {\n\n    infinitData.value = Object.fromEntries(\n        Object.entries(filteredRegions.value).slice(0, countPerFetch.value)\n    );\n    showTrigger.value = true;\n});\n\n\n</script>\n\n\n<style lang=\"scss\" scoped>\n.no-search {\n    .title {\n        font-size: 1.5em;\n        font-weight: 300;\n        color: var(--app-gray-color);\n        text-transform: uppercase;\n        letter-spacing: .1em;\n    }\n\n    .icon {\n        color: var(--app-primary-color);\n    }\n}\n\n.spinner {\n    color: #d5d5d5;\n}\n</style>","import script from \"./ListCards.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ListCards.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ListCards.vue?vue&type=style&index=0&id=a5a9470a&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-a5a9470a\"]])\n\nexport default __exports__","<template>\n    <div class=\"slider-parent\">\n\n\n        <div class=\"slider\">\n            <div class=\"filters-title\">\n                <span>Surface en M²</span>\n            </div>\n            <div class=\"position-relative ranges\">\n                <input type=\"range\" class=\"form-range position-absolute\" id=\"min-range\" ref=\"minSlider\" :max=\"max\"\n                    :min=\"min\" :step=\"step\" v-model=\"minValue\" :value=\"minValue\" @input=\"minSliderInput\">\n                <input type=\"range\" class=\"form-range position-absolute\" id=\"max-range\" ref=\"maxSlider\" :max=\"max\"\n                    :min=\"min\" :step=\"step\" v-model=\"maxValue\" :value=\"maxValue\" @input=\"maxSliderInput\">\n            </div>\n        </div>\n\n        <div class=\"range-info d-flex justify-content-between align-items-center my-4\">\n            <div class=\"form-floating mx-4 mx-sm-1\">\n                <input type=\"number\" id=\"min-input\" class=\"form-control\" :value=\"minValue\" @input=\"debounceMin\">\n                <label for=\"min-input\">min</label>\n            </div>\n\n            <div class=\"form-floating mx-4 mx-sm-1\">\n                <input class=\"form-control\" type=\"number\" id=\"max-input\" :value=\"maxValue\" @input=\"debounceMax\">\n                <label for=\"max-input\">max</label>\n            </div>\n        </div>\n    </div>\n</template>\n\n\n\n\n<script setup>\n\nimport debounce from \"lodash/debounce\";\nimport { ref, reactive, watch, onMounted } from \"vue\";\n\n\nconst emits = defineEmits([\n    \"onSurfaceChanged\"\n]);\n\n\nconst props = defineProps({\n\n    min: {\n        type: Number,\n        default: 0\n    },\n    max: {\n        type: Number,\n        default: 100\n    },\n    step: {\n        type: Number,\n        default: 1\n    },\n    gap: {\n        type: Number,\n        default: 10\n    },\n    sliderColor: {\n        type: String,\n        default: \"#cecece\"\n    },\n    rangeColor: {\n        type: String,\n        default: \"#21af4f\"\n    },\n\n    sliderDelay: {\n        type: Number,\n        default: 1000\n    },\n\n    inputsDelay: {\n        type: Number,\n        default: 800\n    }\n});\n\n\n\nconst minValue = ref(props.min);\nconst maxValue = ref(props.max);\n\n\nconst surface = reactive({\n    min: minValue.value,\n    max: maxValue.value\n});\n\nconst maxSlider = ref(null);\n\nfunction initSliders() {\n    minValue.value = surface.min = props.min;\n    maxValue.value = surface.max = props.max;\n    fillSlider(minValue.value, maxValue.value);\n}\n\n\nfunction fillSlider(from, to) {\n    if (!maxSlider.value) return;\n    const rangeDistance = props.max - props.min;\n    const fromPosition = from - props.min;\n    const toPosition = to - props.min;\n    const sliderColor = props.sliderColor;\n    const rangeColor = props.rangeColor;\n\n    maxSlider.value.style.background = `linear-gradient(\n        to right,\n        ${sliderColor} 0%,\n        ${sliderColor} ${(fromPosition) / (rangeDistance) * 100}%,\n        ${rangeColor} ${((fromPosition) / (rangeDistance)) * 100}%,\n        ${rangeColor} ${(toPosition) / (rangeDistance) * 100}%, \n        ${sliderColor} ${(toPosition) / (rangeDistance) * 100}%, \n        ${sliderColor} 100%)`;\n}\n\n\nfunction controlSlider(isMinSlider) {\n    const gap = Number(props.gap);\n    const min = Number(minValue.value);\n    const max = Number(maxValue.value);\n    const validMax = max - gap;\n\n    if (min < props.min) {\n        minValue.value = props.min;\n        fillSlider(min, max);\n        return;\n    }\n\n    if (max > props.max) {\n        maxValue.value = props.max;\n        fillSlider(min, max);\n        return;\n    }\n\n    if (isMinSlider) {\n        if (min > validMax) {\n            minValue.value = validMax;\n            fillSlider(validMax, max);\n            return;\n        }\n        fillSlider(min, max);\n        return;\n    }\n\n    if (minValue.value > validMax) {\n        maxValue.value = min + gap;\n        fillSlider(min, maxValue.value);\n        return;\n    }\n    fillSlider(min, max);\n\n}\n\n\n\nfunction surfaceChanged() {\n    emits(\"onSurfaceChanged\", surface);\n}\n\n\n\n//SLIDERS\nfunction minSliderInput() {\n    controlSlider(true)\n    debounceMinSlider();\n}\nfunction maxSliderInput() {\n    controlSlider(false)\n    debounceMaxSlider();\n}\nconst debounceMinSlider = debounce(() => {\n    surface.min = minValue.value;\n}, props.sliderDelay);\nconst debounceMaxSlider = debounce(() => {\n    surface.max = maxValue.value;\n}, props.sliderDelay);\n\n//INPUTS\nconst debounceMin = debounce((evt) => {\n    minValue.value = evt.target.value;\n    surface.min = minValue.value;\n    controlSlider(true)\n}, props.inputsDelay);\n\nconst debounceMax = debounce((evt) => {\n    maxValue.value = evt.target.value;\n    surface.max = maxValue.value;\n    controlSlider(false);\n}, props.inputsDelay);\n\n\n\n\nwatch(surface, () => {\n    surfaceChanged();\n});\n\nwatch(() => [props.min, props.max], () => {\n    initSliders();\n});\n\n\nonMounted(() => {\n    initSliders();\n});\n\n\n\n</script>\n\n\n\n\n<style lang=\"scss\" scoped>\n.ranges {\n    margin: 1em 0;\n    min-height: 1em;\n}\n\ninput[type=range] {\n    height: 0.3em;\n    width: 100%;\n    position: absolute;\n    background-color: #C6C6C6;\n    pointer-events: none;\n    border-radius: 2em;\n}\n\ninput[type=range]::-moz-range-thumb {\n    cursor: pointer;\n    pointer-events: all;\n}\n\n\ninput[type=range]::-webkit-slider-thumb {\n    cursor: pointer;\n    pointer-events: all;\n}\n\n\ninput[type=range]::-moz-range-track {\n    background-color: transparent;\n\n}\n\ninput[type=range]::-webkit-slider-runnable-track {\n    background-color: transparent;\n\n}\n\n\n#min-range {\n    top: 0.15em;\n    height: 0;\n    z-index: 1;\n}\n</style>","import script from \"./SliderFilter.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SliderFilter.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./SliderFilter.vue?vue&type=style&index=0&id=22bb3bba&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-22bb3bba\"]])\n\nexport default __exports__","<template>\n    <div class=\"stages-parent w-100\">\n        <div class=\"filters-title mb-2\">\n            <span>Etages</span>\n        </div>\n        <div class=\"container-fluid p-1\">\n            <div class=\"row justify-content-center\">\n                <div class=\"stages-content\" v-for=\"index in stageCount\" :key=\"index\">\n                    <input type=\"checkbox\" class=\"custom-checkbox\" :id=\"'stages-' + index\" :value=\"index - 1\"\n                        v-model=\"checkedStages\" autocomplete=\"off\">\n                    <label class=\"btn custom-btn \" :for=\"'stages-' + index\">\n\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1.2em\" height=\"1.2em\" fill=\"currentColor\"\n                            class=\"bi bi-layers-half\" viewBox=\"0 0 16 16\">\n                            <path\n                                d=\"M8.235 1.559a.5.5 0 0 0-.47 0l-7.5 4a.5.5 0 0 0 0 .882L3.188 8 .264 9.559a.5.5 0 0 0 0 .882l7.5 4a.5.5 0 0 0 .47 0l7.5-4a.5.5 0 0 0 0-.882L12.813 8l2.922-1.559a.5.5 0 0 0 0-.882l-7.5-4zM8 9.433 1.562 6 8 2.567 14.438 6 8 9.433z\" />\n                        </svg> {{ index - 1 }}\n\n                    </label>\n                </div>\n            </div>\n        </div>\n\n    </div>\n</template>\n\n\n<script setup>\n\n\nimport { ref, watch, onMounted } from \"vue\";\n\n\nconst emits = defineEmits([\n    \"onStagesChanged\"\n]);\n\nconst props = defineProps({\n    stageCount: Number,\n    defaultStages: {\n        type: Array,\n        default() {\n            return []\n        }\n    }\n});\n\nconst checkedStages = ref(props.defaultStages);\n\nfunction stageChanged() {\n    emits(\"onStagesChanged\", checkedStages.value);\n}\n\nwatch(checkedStages, () => {\n    stageChanged();\n});\n\nwatch(() => props.defaultStages, () => {\n    checkedStages.value = props.defaultStages;\n    stageChanged();\n});\n\nonMounted(() => {\n    stageChanged();\n});\n\n</script>\n\n\n\n<style lang=\"scss\" scoped>\n.stages-content {\n    width: auto;\n    padding: 0;\n    margin: .2em;\n    text-align: center;\n}\n\n.custom-checkbox {\n\n    display: none;\n\n    +.btn {\n        font-size: .9em;\n        font-weight: normal;\n        border-radius: .2em;\n    }\n}\n\n.custom-checkbox:checked {\n    +.btn {\n        color: #ffffff;\n        background-color: var(--app-secondary-color);\n    }\n\n}\n</style>","import script from \"./StagesFilter.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./StagesFilter.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./StagesFilter.vue?vue&type=style&index=0&id=41fca7c0&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-41fca7c0\"]])\n\nexport default __exports__","<template>\n    <div class=\"status-parent\">\n        <div class=\"filters-title mb-3\">\n            <span>Status</span>\n        </div>\n\n        <div class=\"d-flex justify-content-center flex-wrap text-white\">\n            <div class=\"m-1\" v-for=\"(stat, index ) in status\" :key=\"index\">\n                <input type=\"checkbox\" class=\"btn-check\" :id=\"stat.name + index\" v-model=\"currentStatus\" :value=\"stat.value\"\n                    autocomplete=\"off\">\n                <label class=\"btn custom-checkbox border-0 text-white text-start pe-4\" :class=\"stat.css_type\"\n                    :for=\"stat.name + index\">\n                    {{ stat.name }}\n                </label>\n            </div>\n        </div>\n    </div>\n</template>\n\n\n<script setup>\n\nimport { ref, watch, onMounted } from \"vue\";\n\nimport { useAppDataStore } from \"@/stores/appData\";\nimport { storeToRefs } from \"pinia\";\n\nconst appDataStore = useAppDataStore();\n\nconst { status, defaultStatus } = storeToRefs(appDataStore);\n\n\nconst emits = defineEmits([\n    \"onStatusChanged\"\n]);\n\nconst currentStatus = ref(defaultStatus.value);\n\nfunction statusChanged() {\n    emits(\"onStatusChanged\", currentStatus.value);\n}\n\nwatch(currentStatus, () => {\n    statusChanged();\n});\n\nwatch(() => defaultStatus.value, () => {\n    currentStatus.value = defaultStatus.value;\n    statusChanged();\n});\n\nonMounted(() => {\n    statusChanged();\n})\n</script>\n\n","import script from \"./StatusFilter.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./StatusFilter.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n    <div class=\"types\">\n\n        <div class=\"filters-title mb-3\">\n            <span>Types</span>\n        </div>\n\n        <div class=\"d-flex justify-content-center\">\n            <div class=\"me-2 w-50 position-relative\" v-for=\"(value, key, index) in colorTypes\" :key=\"index\">\n                <input type=\"checkbox\" class=\"btn-check\" :id=\"'checkbox-' + index\" :value=\"key\" v-model=\"checkedTypes\"\n                    autocomplete=\"off\">\n                <label class=\"btn custom-checkbox border-0 text-white text-start w-100\" :for=\"'checkbox-' + index\"\n                    :style=\"{ 'background-color': value }\">\n                    {{ key }}\n                </label>\n            </div>\n        </div>\n    </div>\n</template>\n\n\n<script setup>\n\nimport { ref, watch, onMounted } from \"vue\";\nimport { useAppDataStore } from \"@/stores/appData\";\nimport { storeToRefs } from 'pinia';\n\nconst appDataStore = useAppDataStore();\n\nconst { colorTypes } = storeToRefs(appDataStore);\n\nconst emits = defineEmits([\n    \"onTypesChanged\"\n]);\n\nconst props = defineProps({\n    defaultTypes: {\n        type: Array,\n        default() {\n            return []\n        }\n    }\n});\n\nconst checkedTypes = ref(props.defaultTypes);\n\n\nfunction typesChanged() {\n    emits(\"onTypesChanged\", checkedTypes.value);\n}\n\nwatch(checkedTypes, () => {\n    typesChanged();\n});\n\nwatch(() => props.defaultTypes, () => {\n    checkedTypes.value = props.defaultTypes;\n    typesChanged();\n});\n\nonMounted(() => {\n    typesChanged();\n});\n\n\n</script>\n\n<style lang=\"scss\" scoped>\n.btn-check {\n    +.btn {\n        letter-spacing: .2em;\n        font-weight: 600;\n    }\n}\n</style>","import script from \"./TypesFilter.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./TypesFilter.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./TypesFilter.vue?vue&type=style&index=0&id=9d9b0a8e&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-9d9b0a8e\"]])\n\nexport default __exports__","<template>\n    <div class=\"row scrollable-pages\">\n\n        <div class=\"col-12\">\n            <LineWithTitle>\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1.6em\" height=\"1.6em\" fill=\"currentColor\"\n                    class=\"bi bi-file-earmark-lock2-fill me-1\" viewBox=\"0 0 16 16\">\n                    <path d=\"M7 7a1 1 0 0 1 2 0v1H7V7z\" />\n                    <path\n                        d=\"M9.293 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4.707A1 1 0 0 0 13.707 4L10 .293A1 1 0 0 0 9.293 0zM9.5 3.5v-2l3 3h-2a1 1 0 0 1-1-1zM10 7v1.076c.54.166 1 .597 1 1.224v2.4c0 .816-.781 1.3-1.5 1.3h-3c-.719 0-1.5-.484-1.5-1.3V9.3c0-.627.46-1.058 1-1.224V7a2 2 0 1 1 4 0z\" />\n                </svg>\n                Administration\n            </LineWithTitle>\n        </div>\n\n        <div class=\"col-md-4 col-lg-3 m-0 p-0 px-3\">\n            <side-filter :is-loading=\"isLoading\" @onOrbitalSwitched=\"orbitalSwitched\" ref=\"sideFilterRef\"></side-filter>\n        </div>\n\n        <div class=\"col-md-8 col-lg-9 m-0 p-0\">\n            <list-cards :fetch-by=\"6\" :show-admin=\"true\"></list-cards>\n        </div>\n\n        <to-top-btn>to top</to-top-btn>\n\n    </div>\n</template>\n\n\n<script setup>\n\n\n\nimport SideFilter from \"@/components/app-ui/SideFilter\";\nimport ListCards from \"@/components/orbital/search/ListCards\";\nimport ToTopBtn from \"@/components/app-ui/ToTopBtn\";\nimport LineWithTitle from \"@/components/app-ui/LineWithTitle\";\n\nimport { ref, onBeforeMount } from \"vue\";\nimport { useRegionsStore } from \"@/stores/regions\";\nimport { useAppDataStore } from \"@/stores/appData\";\nimport { storeToRefs } from 'pinia';\n\nconst regionsStore = useRegionsStore();\nconst { isLoading } = storeToRefs(regionsStore);\n\nconst appDataStore = useAppDataStore();\nconst { currentOrbital } = storeToRefs(appDataStore);\n\nconst sideFilterRef = ref(null);\n\nfunction orbitalSwitched() {\n    _fetchData();\n}\n\nonBeforeMount(() => {\n    if (currentOrbital.value.isOrbitalSelection) {\n        appDataStore.setCurrentOrbital('villa1');\n    }\n    _fetchData();\n});\n\nfunction _fetchData() {\n    regionsStore.fetchAuthRegions().then(() => {\n        if (sideFilterRef.value) regionsStore.filterRegions(sideFilterRef.value.filters);\n    });\n}\n\n\n</script>\n","import script from \"./AdminPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AdminPage.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n    <div class=\"carousel-parent pages\">\n        <CarouselComponent :itemsData=\"items\"></CarouselComponent>\n    </div>\n</template>\n\n\n<script setup>\n\nimport { ref } from 'vue';\nimport CarouselComponent from \"@/components/app-ui/CarouselComponent.vue\";\n\n\nconst items = ref([\n    {\n        url: \"assets/images/gallery/outside-pers-day.jpg\",\n        title: \"\",\n        desc: \"\"\n    },\n    {\n        url: \"assets/images/gallery/outside-pers-night.jpg\",\n        title: \"\",\n    },\n    {\n        url: \"assets/images/gallery/salon-inside.jpg\",\n        title: \"\",\n    }\n])\n\n</script>\n","import script from \"./GaleriePage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./GaleriePage.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import script from \"./HomePage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./HomePage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./HomePage.vue?vue&type=style&index=0&id=13060527&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-13060527\"]])\n\nexport default __exports__","<template>\n    <div class=\"pages\">\n        <CarouselComponent :itemsData=\"items\"></CarouselComponent>\n    </div>\n</template>\n\n\n<script setup>\n\nimport { ref } from \"vue\";\n\nimport CarouselComponent from \"@/components/app-ui/CarouselComponent.vue\";\n\n\nconst items = ref([\n    {\n        url: \"assets/images/localisation/localisation.jpg\",\n        title: \"Domaine Marrakech\",\n        desc: \"\"\n    },\n    {\n        url: \"assets/images/localisation/masse-plan.jpg\",\n        title: \"Plan de masse\",\n        desc: \"\"\n    }\n]);\n\n\n</script>\n","import script from \"./LocalisationPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./LocalisationPage.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n    <div class=\"\">\n\n        <div class=\"container\">\n            <div class=\"row justify-content-center align-items-center vh-100\">\n                <div class=\"col-8 col-md-6 col-lg-5\">\n                    <div class=\"login-wrap bg-white shadow p-4 p-md-5\">\n\n                        <AlertComponent :message=\"alertMsg\" :is-success=\"isSuccessAlert\"></AlertComponent>\n\n                        <div class=\"icon d-flex align-items-center justify-content-center pb-3\">\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"3em\" height=\"3em\" fill=\"currentColor\"\n                                class=\"bi bi-person-fill-lock\" viewBox=\"0 0 16 16\">\n                                <path\n                                    d=\"M11 5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm-9 8c0 1 1 1 1 1h5v-1a1.9 1.9 0 0 1 .01-.2 4.49 4.49 0 0 1 1.534-3.693C9.077 9.038 8.564 9 8 9c-5 0-6 3-6 4Zm7 0a1 1 0 0 1 1-1v-1a2 2 0 1 1 4 0v1a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1v-2Zm3-3a1 1 0 0 0-1 1v1h2v-1a1 1 0 0 0-1-1Z\" />\n                            </svg>\n                        </div>\n                        <h3 class=\"text-center lead mb-4\">Login</h3>\n\n                        <form @submit.prevent=\"login\">\n                            <div class=\"form-group mb-3\">\n                                <input type=\"text\" class=\"form-control\" placeholder=\"Username\" v-model=\"username\" required>\n                            </div>\n                            <div class=\"form-group d-flex mb-3\">\n                                <input type=\"password\" class=\"form-control\" placeholder=\"Password\" v-model=\"password\"\n                                    required>\n                            </div>\n\n                            <div class=\"form-group mb-3 text-center\">\n                                <button type=\"submit\" class=\"btn btn-primary p-2 px-5\" :disabled=\"showLoading\">\n                                    <span class=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"\n                                        v-if=\"showLoading\"></span>\n                                    Login\n                                </button>\n                            </div>\n                        </form>\n\n                    </div>\n                </div>\n            </div>\n        </div>\n\n\n    </div>\n</template>\n\n\n\n<script setup>\n\nimport { ref, onMounted } from \"vue\";\nimport AlertComponent from \"@/components/app-ui/AlertComponent\"\n\nimport { useAuthStore } from \"@/stores/auth\";\nimport { storeToRefs } from 'pinia';\n\nconst authStore = useAuthStore();\n\nconst { isError } = storeToRefs(authStore);\n\n\nconst username = ref(\"\");\nconst password = ref(\"\");\n\nconst alertMsg = ref(\"\");\nconst isSuccessAlert = ref(false);\n\nconst showLoading = ref(false);\n\n\nconst login = () => {\n\n    showLoading.value = true\n    authStore.login(username.value, password.value).then(msg => {\n        alertMsg.value = msg;\n        isSuccessAlert.value = !isError.value;\n        showLoading.value = false;\n    });\n}\n\nonMounted(() => {\n    username.value = \"\";\n    password.value = \"\";\n    alertMsg.value = \"\";\n});\n\n</script>","import script from \"./LoginPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./LoginPage.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n    <orbital-component @OnHSClick=\"HSClick\" />\n</template>\n\n\n<script setup>\n\nimport OrbitalComponent from \"@/components/orbital/OrbitalComponent\";\nimport { useRouter } from \"vue-router\";\nimport { useAppDataStore } from \"@/stores/appData\";\n\nconst appDataStore = useAppDataStore();\nappDataStore.setCurrentOrbital(\"listOrbitals\");\n\nconst router = useRouter();\n\nfunction HSClick(id) {\n    const path = `orbitals/${id}`;\n    router.push(path);\n}\n\n</script>\n","import script from \"./OrbitalPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./OrbitalPage.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n    <div class=\"list-orbitals\">\n        <div ref=\"SubPagesLoader\">\n            <nested-pages-loader :can-show=\"showLoader\"></nested-pages-loader>\n        </div>\n\n        <router-view v-slot=\"{ Component }\">\n            <transition @enter=\"onEnter\" @leave=\"onLeave\" :css=\"false\" mode=\"out-in\">\n                <component :is=\"Component\" />\n            </transition>\n        </router-view>\n    </div>\n</template>\n\n\n<script setup>\n\nimport NestedPagesLoader from \"@/components/app-ui/NestedPagesLoader\";\nimport { ref } from \"vue\";\nimport { transitionEnter, transitionLeave } from \"@/utils/nestedPagesTransition\";\n\nconst SubPagesLoader = ref(null);\nconst showLoader = ref(false);\n\nfunction onEnter() {\n    transitionEnter(SubPagesLoader.value, () => {\n        showLoader.value = false;\n    });\n}\n\nfunction onLeave(el, done) {\n    showLoader.value = true;\n    transitionLeave(SubPagesLoader.value, done);\n}\n\n</script>","import script from \"./OrbitalsList.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./OrbitalsList.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n    <div class=\"pages\">\n        <iframe :src=\"frameUrl\" width=\"100%\" height=\"100%\"></iframe>\n    </div>\n</template>\n\n\n<script setup>\n\nimport { ref } from \"vue\";\n\nconst baseUrl = process.env.VUE_APP_B_BASE_URL;\nconst panoUrl = process.env.VUE_APP_PANORAMA_URL;\nconst frameUrl = ref(baseUrl + panoUrl);\n\n</script>","import script from \"./PanoramaPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./PanoramaPage.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n    <div class=\"list-tours\">\n        <div ref=\"SubPagesLoader\">\n            <nested-pages-loader :can-show=\"showLoader\"></nested-pages-loader>\n        </div>\n\n        <router-view v-slot=\"{ Component }\">\n            <transition @enter=\"onEnter\" @leave=\"onLeave\" :css=\"false\" mode=\"out-in\">\n                <component :is=\"Component\" />\n            </transition>\n        </router-view>\n    </div>\n</template>\n\n\n<script setup>\n\nimport NestedPagesLoader from \"@/components/app-ui/NestedPagesLoader\";\nimport { ref } from \"vue\";\nimport { transitionEnter, transitionLeave } from \"@/utils/nestedPagesTransition\";\n\nconst SubPagesLoader = ref(null);\nconst showLoader = ref(false);\n\nfunction onEnter() {\n    transitionEnter(SubPagesLoader.value, () => {\n        showLoader.value = false;\n    });\n}\n\nfunction onLeave(el, done) {\n    showLoader.value = true;\n    transitionLeave(SubPagesLoader.value, done);\n}\n\n</script>","import script from \"./PanoramasList.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./PanoramasList.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n    <div class=\"row scrollable-pages\">\n\n        <div class=\"col-12\">\n            <line-with-title>\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"1.2em\" height=\"1.2em\" fill=\"currentColor\"\n                    class=\"bi bi-search me-1\" viewBox=\"0 0 16 16\">\n                    <path\n                        d=\"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z\" />\n                </svg>\n                Trouver dans <b>{{ currentOrbital.title }}</b>\n            </line-with-title>\n        </div>\n\n        <div class=\"col-md-4 col-lg-3 m-0 p-0 px-3\">\n            <side-filter :is-loading=\"isLoading\" @onOrbitalSwitched=\"orbitalSwitched\" ref=\"sideFilterRef\"></side-filter>\n            <to-top-btn>filter</to-top-btn>\n        </div>\n\n        <div class=\"col-md-8 col-lg-9 m-0 p-0\">\n            <div class=\"list-product p-1\">\n                <list-cards :fetch-by=\"6\"></list-cards>\n            </div>\n        </div>\n    </div>\n</template>\n\n\n<script setup>\n\nimport ListCards from \"@/components/orbital/search/ListCards\";\nimport SideFilter from \"@/components/app-ui/SideFilter\";\nimport ToTopBtn from \"@/components/app-ui/ToTopBtn\";\nimport LineWithTitle from \"@/components/app-ui/LineWithTitle\";\n\nimport { ref, onBeforeMount } from \"vue\";\nimport { useAppDataStore } from \"@/stores/appData\";\nimport { useRegionsStore } from \"@/stores/regions\";\nimport { storeToRefs } from 'pinia';\n\nconst appDataStore = useAppDataStore();\nconst regionsStore = useRegionsStore();\nconst { currentOrbital } = storeToRefs(appDataStore);\nconst { isLoading } = storeToRefs(regionsStore);\n\nconst sideFilterRef = ref(null);\n\nonBeforeMount(() => {\n    if (currentOrbital.value.isOrbitalSelection) {\n        appDataStore.setCurrentOrbital('villa1');\n    }\n    _fetchData();\n});\n\nfunction orbitalSwitched() {\n    _fetchData();\n}\n\nfunction _fetchData() {\n    regionsStore.fetchRegions().then(() => {\n        if (sideFilterRef.value) regionsStore.filterRegions(sideFilterRef.value.filters);\n    });\n}\n\n</script>\n","import script from \"./SearchPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SearchPage.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n    <div class=\"pages\">\n        <iframe :src=\"frameUrl\" width=\"100%\" height=\"100%\"></iframe>\n    </div>\n</template>\n\n\n<script setup>\n\nimport { computed } from \"vue\";\n\nconst baseUrl = process.env.VUE_APP_B_BASE_URL;\nconst panoUrl = process.env.VUE_APP_PANORAMA_URL;\n\nconst frameUrl = computed(() => {\n    return `${baseUrl}${panoUrl}`;\n});\n\n</script>","import script from \"./TourVillaOne.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./TourVillaOne.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n    <div class=\"pages\">\n        <iframe :src=\"frameUrl\" width=\"100%\" height=\"100%\"></iframe>\n    </div>\n</template>\n\n\n<script setup>\n\nimport { computed } from \"vue\";\n\nconst baseUrl = process.env.VUE_APP_B_BASE_URL;\nconst panoUrl = process.env.VUE_APP_PANORAMA_URL;\n\nconst frameUrl = computed(() => {\n    return `${baseUrl}${panoUrl}`;\n});\n\n</script>","import script from \"./TourVillaThree.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./TourVillaThree.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n    <div class=\"pages\">\n        <iframe :src=\"frameUrl\" width=\"100%\" height=\"100%\"></iframe>\n    </div>\n</template>\n\n\n<script setup>\n\nimport { computed } from \"vue\";\n\nconst baseUrl = process.env.VUE_APP_B_BASE_URL;\nconst panoUrl = process.env.VUE_APP_PANORAMA_URL;\n\nconst frameUrl = computed(() => {\n    return `${baseUrl}${panoUrl}`;\n});\n\n</script>","import script from \"./TourVillaTwo.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./TourVillaTwo.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n    <div class=\"parent-video d-flex align-items-center\">\n        <div class=\"ratio ratio-16x9 h-100\">\n            <video controls>\n                <source :src=\"_src\" type=\"video/mp4\">\n                <p>Votre navigateur ne prend pas en charge les vidéos HTML5.\n                    Voici <a :href=\"videoPath\">un lien pour télécharger la vidéo</a>.</p>\n            </video>\n        </div>\n    </div>\n</template>\n\n\n<script setup>\n\nimport { ref, watch } from \"vue\";\nimport axios from \"axios\";\n\nconst videoPath = ref(\"@/assets/videos/video-sample.mp4\");\nconst _src = ref(\"\");\n\nwatch(videoPath, () => {\n    _src.value = _getSource();\n}, { immediate: true });\n\nasync function _getSource() {\n    try {\n        const response = await axios.get(videoPath.value);\n        return response.data;\n    } catch (error) {\n        console.error('Error loading video:', error);\n    }\n\n}\n\n</script>\n\n<style lang=\"scss\" scoped>\n.parent-video {\n    height: 100vh;\n    overflow: hidden;\n}\n</style>","import script from \"./VideoPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./VideoPage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./VideoPage.vue?vue&type=style&index=0&id=64f612ea&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-64f612ea\"]])\n\nexport default __exports__","<template>\n    <orbital-component />\n</template>\n\n\n<script setup>\n\nimport OrbitalComponent from \"@/components/orbital/OrbitalComponent\";\nimport { useAppDataStore } from \"@/stores/appData\";\n\nconst appDataStore = useAppDataStore();\nappDataStore.setCurrentOrbital(\"villa1\");\n\n\n</script>\n","import script from \"./VillaOnePage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./VillaOnePage.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n    <orbital-component @OnHSHover=\"HSHover\" @OnHSClick=\"HSClick\" />\n</template>\n\n\n<script setup>\n\nimport OrbitalComponent from \"@/components/orbital/OrbitalComponent\";\nimport { useRouter } from \"vue-router\";\nimport { useAppDataStore } from \"@/stores/appData\";\n\nconst appDataStore = useAppDataStore();\nappDataStore.setCurrentOrbital(\"villa3\");\n\nconst router = useRouter();\n\nfunction HSClick(regionName) {\n    console.log(regionName);\n    router.push(\"orbital\");\n}\n\nfunction HSHover() {\n\n}\n\n\n\n</script>\n","import script from \"./VillaThreePage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./VillaThreePage.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n    <orbital-component @OnHSHover=\"HSHover\" @OnHSClick=\"HSClick\" />\n</template>\n\n\n<script setup>\n\nimport OrbitalComponent from \"@/components/orbital/OrbitalComponent\";\nimport { useRouter } from \"vue-router\";\nimport { useAppDataStore } from \"@/stores/appData\";\n\nconst appDataStore = useAppDataStore();\nappDataStore.setCurrentOrbital(\"villa2\");\n\nconst router = useRouter();\n\nfunction HSClick(regionName) {\n    console.log(regionName);\n    router.push(\"orbital\");\n}\n\nfunction HSHover() {\n\n}\n\n\n\n</script>\n","import script from \"./VillaTwoPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./VillaTwoPage.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["Animation","constructor","fileNameTemplate","countSprite","onFinishLoading","onLoadingChange","this","_images","_countSprite","imgLoaded","_loadAnimation","allPromises","i","p","Promise","resolve","reject","path","replace","imgPath","require","image","Image","src","push","addEventListener","e","console","log","all","then","catch","findFrame","index","Animator","layers","animationsPattern","orbitalConfig","hotspotRegions","regionInfo","_layers","_orbitalConfig","hotspots","eventsCanvas","_tilesCanvas","tilesCanvas","_animCanvas","animation","_hotspotRegions","_regionInfo","init","_currentWidth","_currentHeight","_countFrames","framesCount","_tlTimeDraw","timeLineSpeed","_animations","maxWidth","maxHeight","_animationIndex","animStart","_frameIndex","frameStart","mobileWidth","_reverse","_isPlaying","_currentFrame","_animationsReady","cancel","_tilesController","_resizer","percentLoaded","_countAnimLoaded","_zoomPoints","undefined","_animCtx","getContext","_tilesCtx","_loadAnimations","loadPromises","total","length","promise","pattern","anim","error","Math","round","window","dispatchEvent","CustomEvent","bubbles","_setup","Error","min","max","parseInt","Resizer","_initTiles","Hotspots","HSColors","_inputSystem","InputSystem","width","height","zoomOptions","dragOptions","rect","_onZoomEvent","onDragEvent","onresize","resize","zoom","setMaxZoom","requestFrameDraw","TilesController","run","_showAnimationFrame","autoplay","setTimeout","play","requestAnimationFrame","timestamp","_update","stop","cancelAnimationFrame","_startTime","elapsed","_step","reverse","_setPrevIndex","_setNextIndex","_draw","_getAnimation","scaleFactor","currentScale","_setZoomOffset","x","_offsetX","y","_offsetY","clearRect","animIndex","frameIndex","offsetX","offsetY","pr","fetchTiles","canvas","scale","drawImage","drawHts","screenCenterX","screenCenterY","xPivot","yPivot","framePosX","framePosY","zPointx","zPointy","isZoomIn","speed","maxMagnitude","angle","atan2","magnitude","sqrt","pow","cos","sin","switchAnimation","playFrame","_zoomLerp","points","zoomPoints","detail","CanvasBuilder","parentId","_parentId","_parentElem","createLayers","document","getElementById","alert","createCanvas","htEffectCanvas","htDrawCanvas","animCanvas","htRefCanvas","style","left","visibility","hotspotsRef","hotspotsDraw","hotspotsEffects","id","zId","createElement","documentElement","clientWidth","clientHeight","position","zIndex","top","appendChild","Drag","_sensitivity","sensitivity","_threshold","threshold","_throwSens","throwSens","_maxVelocity","maxVelocity","_maxStepsCaptures","velocity","isDragging","_prevX","_prevT","_lastDiff","_bounding","_waitTimout","getBoundingClientRect","clear","clearTimeout","mouseDown","_startEvent","clientX","mouseMove","_rotate","mouseUp","_endEvent","touchStart","touches","touchMove","touchEnd","_getCurrentX","Date","now","_throw","currentX","new_t","abs","condition","floor","_wait","absDiff","captures","ease","_easeOutSine","PI","ms","naturalSizes","drag","Zoom","_hasTouch","_touchListeners","_mouseListeners","_pointerZoomEvent","preventDefault","_wheelZoom","onmousedown","button","_mouseDown","onmousemove","_mouseMove","onmouseup","_mouseUp","_touchStart","_touchMove","passive","_touchEnd","pointerStart","pointerEnd","pointerMove","isZooming","changedTouches","options","_naturalSizes","evCache","prevDiff","prevTouchDiff","defaultOptions","minScale","maxScale","scaleMargins","zoomInterval","setOptions","Object","keys","forEach","opt","initScale","curDiff","zoomIn","pinchCenter","_getPinchCenter","clientY","_pinchZoom","xPoint","yPoint","findIndex","cachedEv","pointerId","x0","x1","y0","y1","diffX","diffY","_removeEvent","splice","setZoom","_canZoom","_limitScale","_setZoomPoints","deltaY","zoomTimeStart","natWidth","_canZoomInPoint","scaleAmount","rayScale","canvasGroup","regionsInfo","_canvasGroup","_HSColors","imgW","imgH","level","frame","htDrawCtx","htRefCtx","filtredRegions","_uColorSet","filterOptions","_hsRefTimer","_delayRefDraw","_lastHovered","_useHotspots","htDrawcanvas","htEvtCanvas","htEffectCtx","willReadFrequently","htEvtCtx","_typesColors","useHotspots","_setupHotspots","_initHotspots","hSEvents","Set","ht","name","type","polyColor","polyAlpha","polygons","poly","row","state","column","fPos","_formatPositions","vertices","uniqColor","COLOR_HELPER","getUniqColor","add","hexToRgb","polyObj","polygon","colorRef","fillColor","alpha","uKey","getColorString","_drawHts","_clearCtx","drawHotspots","drawHotspotsRef","region","_getCurrentRegion","values","validate","positions","c","getColorFill","_drawPolygon","fill","ctx","fillStyle","strokeStyle","lineWidth","beginPath","margX","margY","lineTo","closePath","stroke","regionName","infoPoly","surface","filterOpt","filterTypes","types","minSurface","maxSurface","includes","setSurfaceFilter","_updateHotspots","setTypesFilter","pos","reg","polys","split","coor","j","obj","mouseMoveEvent","PointerEvent","_canClick","clickEvent","touchEvent","insideData","_getHotspotData","_regionHoverState","_regionOutState","_regionClickState","touch","timeStart","t","color","mousePos","regionData","_getSelectedHotspot","_setHsEffect","cursor","bounding","pixel","getImageData","data","red","green","blue","cString","Orbital","container","orbitalData","_orbitalData","_regionsInfo","animationsPaths","animator","canvasBuilder","configFile","hotspotsConfig","params","levelsCount","animationsCount","lPath","imagesFolder","preloadedFolder","orbitaConfig","tilesFolder","tiles","breakpoints_sizes","breakpoints","breakpoints_folder","maxCache","maxTilesCache","cropSize","controls","color_HS","appReady","once","_setConfigStyles","backgroundColor","bg_color","useHS","getPercentLoaded","playOrbital","stopOrbital","next","prev","setLevel","filterHSByPrice","filterHSByTypes","setZoomOptions","getParam","param","getHSParam","getCurrentFrame","getEventsCanvas","unmountOrbital","canvasObj","preloadedBP","preloaded","_currentNaturalWidth","_currentBreakPoint","_currentScale","_cachedFrames","Array","_useCache","_timeOutLoad","_firstFetch","_setLimitCache","breakPoints","entries","sort","a","b","reduce","r","k","v","test","navigator","userAgent","performance","memory","jsHeapSizeLimit","animationIndex","currentWidth","_setCurrentBP","_setCurrentNaturalSize","_loadTiles","find","breakPoint","_loadExistingTiles","breakpoint","folder","_getTilesFolder","_createAndLoadTiles","WSCanvas","tilesInfo","_addToCache","_canLoadImg","cacheInfo","_checkCache","onFinish","natHeight","_calculateWithAspectRatio","partsX","partsY","moduloX","moduloY","lengthX","lengthY","sx","sy","img","decoding","onload","onerror","tilesRegPath","key","bp","keyPath","removed","shift","aspect","appDataStore","useAppDataStore","currentUID","storeToRefs","availableStatus","computed","conf","value","status","regionsStore","useRegionsStore","regions","isError","props","__props","infoRef","ref","cardInfo","uid","statut","lastStatus","showLoader","alertMsg","isReqError","alertStyle","sendEdit","delay","editStatus","msg","stat","watch","__exports__","classAlert","reactive","isSuccess","watchEffect","success","caprureStore","useCaptureStore","isLoading","isOpenModal","currentImage","captureLink","errorCapture","fileName","capture","modal","downloadLink","imgName","onMounted","Modal","onUnmounted","dispose","show","download","click","carouselElem","Carousel","regionStore","defaultImage","defaultBreakPoints","sizes","sizesAttr","srcSets","source","splited","baseString","join","set","getSrcsetPath","smallBp","small","smallPath","smallSet","srcSet","sourceImg","getImagePath","useImage","class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_renderSlot","_ctx","$slots","script","render","emits","__emit","surfaceMinMax","defaultFilters","stageCount","filters","switchOrbitals","selected","setCurrentOrbital","surfaceChanged","sur","stagesChanged","stages","typesChanged","statusChanged","filterRegions","__expose","gsap","registerPlugin","ScrollToPlugin","scroller","useScroll","showTopBtn","innerHeight","toTop","to","duration","scrollTo","mainArrow","rotate","deg","overwrite","filterParent","filter","draggableCapture","checkedTypes","toast","useDraggable","exact","handle","pointerTypes","onMove","elem","elemWidth","offsetWidth","elemHeight","offsetHeight","windowWidth","innerWidth","windowHeight","initToast","Toast","toogleToast","showToast","hide","closeToast","_appReady","onClickOutside","removeEventListener","captureStore","currentColor","currentRegion","AllInfo","titleInfo","titleInfoSmall","currentOrbital","screenshot","items","url","title","desc","setImageSrc","apptName","nom","onEnter","el","transitionEnter","onLeave","done","transitionLeave","toggle","useFullscreen","default_filters","detailsComponent","orbitalError","orbital","showHsDetails","hsData","typesColors","startingStage","startStage","MenuBtnInterval","fetchRegions","setupOrbital","fetchHSConfig","HS","color_types","addEvents","step","clearInterval","_rotateCompass","setInterval","endTimout","showFilter","closeFilter","compass","northAngle","_setOrbitalAngle","frameCount","totalFrames","onAppReady","onDrag","onUpdateTimeline","onError","showPopper","popoverPos","lastRegionBody","onHSClick","isOrbitalSelection","setRegion","onHSHover","regionBody","onHSOut","refresh","clearEvents","progress","loadingTxt","percentage","loaderParent","canShow","animFinished","_loaderAnimOut","percentRangeLoading","opacity","outerWidth","onComplete","isOpen","activeStageIndex","startingAt","stageClick","count","stagePrefix","concat","isActive","showBtn","sidebar","showMenu","autoAlpha","closeMenu","HSHoverInfo","pInstance","virtualElement","popper","initPopover","generateGetBoundingClientRect","createPopper","placement","modifiers","offset","updatePopover","update","right","bottom","destroy","titleInfoScheme","appData","typeColor","colorsProps","imgUrl","normal","prefix","availableOrbitals","selectedOrbital","listOrbitals","filteredEntries","orb","filteredObject","fromEntries","filteredRegions","colorTypes","countPerFetch","fetchBy","infiniteElem","infinitData","showTrigger","getMore","slice","useIntersectionObserver","isIntersecting","arr","minValue","maxValue","maxSlider","initSliders","fillSlider","from","rangeDistance","fromPosition","toPosition","sliderColor","rangeColor","background","controlSlider","isMinSlider","gap","Number","validMax","minSliderInput","debounceMinSlider","maxSliderInput","debounceMaxSlider","debounce","sliderDelay","debounceMin","evt","target","inputsDelay","debounceMax","checkedStages","defaultStages","stageChanged","defaultStatus","currentStatus","defaultTypes","sideFilterRef","orbitalSwitched","_fetchData","fetchAuthRegions","onBeforeMount","authStore","useAuthStore","username","password","isSuccessAlert","showLoading","login","router","useRouter","HSClick","SubPagesLoader","baseUrl","process","panoUrl","frameUrl","videoPath","_src","async","_getSource","response","axios","get","immediate","HSHover"],"sourceRoot":""}