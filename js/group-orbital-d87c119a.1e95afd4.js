"use strict";(self["webpackChunkorbital"]=self["webpackChunkorbital"]||[]).push([[571,22,4,279,352,51],{82864:function(t,e,s){s.r(e),s.d(e,{Animation:function(){return i}});s(70560);class i{constructor(t,e,s,i){this._images=[],this._countSprite=e,this.imgLoaded=0,this._loadAnimation(t,s,i)}_loadAnimation(t,e,i){let a=[];for(let n=0;n<this._countSprite;n++){const e=new Promise(((e,a)=>{const o=t.replace("?",n),l=s(18116)("./"+o),r=new Image;r.src=l,this._images.push(r),r.addEventListener("load",(()=>{this.imgLoaded++,i(),e()})),r.addEventListener("error",(t=>{console.log(t),a(t)}))}));a.push(e)}Promise.all(a).then((()=>{e()})).catch((t=>{e(t)}))}findFrame(t){return this._images[t]}}},11360:function(t,e,s){s.r(e),s.d(e,{Animator:function(){return r}});s(70560);var i=s(82864),a=s(70737),n=s(78983),o=s(59285),l=s(23913);class r{constructor(t,e,s,i,a){this._layers=t,this.animationsPattern=e,this._orbitalConfig=s,this.hotspots,this.eventsCanvas=t.eventsCanvas,this._tilesCanvas=t.tilesCanvas,this._animCanvas=t.animation,this._hotspotRegions=i,this._regionInfo=a,this.init()}init(){this._currentWidth=0,this._currentHeight=0,this._countFrames=this._orbitalConfig.framesCount,this._tlTimeDraw=this._orbitalConfig.timeLineSpeed,this._animations=[],this.maxWidth=this._orbitalConfig.maxWidth,this.maxHeight=this._orbitalConfig.maxHeight,this._animationIndex=this._orbitalConfig.animStart,this._frameIndex=this._orbitalConfig.frameStart,this.mobileWidth=500,this._reverse=!1,this._isPlaying=!1,this._currentFrame,this._animationsReady=!1,this.cancel=!1,this._tilesController=null,this._resizer=null,this.percentLoaded=0,this._countAnimLoaded=0,this._zoomPoints=void 0,this._animCtx=this._animCanvas.getContext("2d"),this._tilesCtx=this._tilesCanvas.getContext("2d"),this._loadAnimations()}_loadAnimations(){console.log("loading..");let t=[];const e=this.animationsPattern.length*this._countFrames;for(let s=0;s<this.animationsPattern.length;s++){const a=new Promise(((t,a)=>{const n=this.animationsPattern[s],o=new i.Animation(n,this._countFrames,(e=>{this.cancel&&a("cancel"),"undefined"!==typeof e?a(e):t()}),(()=>{this._countAnimLoaded++,this.percentLoaded=Math.round(this._countAnimLoaded/e*100),window.dispatchEvent(new CustomEvent("OnLoadingChange",{bubbles:!1}))}));this._animations.push(o)}));t.push(a)}Promise.all(t).then((()=>{console.log("all animations loaded!"),this._animationsReady=!0,this._setup()})).catch((t=>{if("cancel"!==t)throw window.dispatchEvent(new CustomEvent("OnError",{bubbles:!1})),new Error("Error while loading animations! please check your images...")}))}_setup(){this._frameIndex=Math.min(Math.max(parseInt(this._frameIndex),0),this._countFrames-1),this._animationIndex=Math.min(Math.max(parseInt(this._animationIndex),0),this._animations.length-1),this._resizer=new l.Resizer(this._layers),this._initTiles(),this.hotspots=new a.Hotspots(this._layers,this._hotspotRegions,this._regionInfo,this._orbitalConfig.HSColors),this._inputSystem=new o.InputSystem(this.eventsCanvas,{width:this.maxWidth,height:this.maxHeight},this._orbitalConfig.zoomOptions,this._orbitalConfig.dragOptions),this._inputSystem.rect.addEventListener("OnZoom",(()=>{this._onZoomEvent()})),this._countFrames>1&&this._inputSystem.rect.addEventListener("OnDrag",(t=>{this.onDragEvent(t)})),window.onresize=()=>{this._resizer.resize(),this._inputSystem.zoom.setMaxZoom(),this.requestFrameDraw()},window.dispatchEvent(new CustomEvent("OnAnimatorReady",{bubbles:!1}))}_initTiles(){this._tilesController=new n.TilesController(this._orbitalConfig)}run(){this._showAnimationFrame(this._animationIndex,this._frameIndex),this._orbitalConfig.autoplay&&window.setTimeout((()=>this.play()),0)}play(){this._isPlaying||1==this._countFrames||(window.requestAnimationFrame((t=>{this._update(t)})),this._isPlaying=!0)}stop(){this._isPlaying&&(window.cancelAnimationFrame((t=>{this._update(t)})),this._isPlaying=!1)}_update(t){if(!this._animationsReady)return;void 0===this._startTime&&(this._startTime=t);const e=t-this._startTime;e>=this._tlTimeDraw&&this._isPlaying&&(this._step(),window.dispatchEvent(new CustomEvent("OnUpdateTimeline",{bubbles:!1})),this._startTime=t),window.requestAnimationFrame((t=>{this._update(t)}))}_step(t){1!==this._countFrames&&(t=void 0==t?this._reverse:t,t?this._setPrevIndex():this._setNextIndex(),this._showAnimationFrame(this._animationIndex,this._frameIndex))}requestFrameDraw(){window.requestAnimationFrame((()=>{this._draw()}))}_draw(){if(!this._animationsReady)return;const t=this._getAnimation();this._currentFrame=t.findFrame(this._frameIndex);const e=this._inputSystem.zoom.currentScale;this._currentWidth=this.maxWidth*e,this._currentHeight=this.maxHeight*e,this._setZoomOffset();let s=Math.round(.5*this._animCanvas.width-.5*this._currentWidth-this._offsetX),i=Math.round(.5*this._animCanvas.height-.5*this._currentHeight-this._offsetY);this._animCanvas.width<this.mobileWidth&&(s=Math.round(.5*this._animCanvas.width-.5*this._currentWidth),i=Math.round(.5*this._animCanvas.height-.5*this._currentHeight),this._offsetX=0,this._offsetY=0),this._tilesCtx.clearRect(0,0,this._tilesCanvas.width,this._tilesCanvas.height),this._animCtx.clearRect(0,0,this._animCanvas.width,this._animCanvas.height);const a=this._animationIndex,n=this._frameIndex,o=this._offsetX,l=this._offsetY,r=this._tilesController.fetchTiles(a,n,this._currentWidth,e);r.then((t=>{const r=this._inputSystem.zoom.currentScale;r===e&&a===this._animationIndex&&n===this._frameIndex&&o===this._offsetX&&l===this._offsetY&&this._tilesCtx.drawImage(t,s,i,this._currentWidth,this._currentHeight)})).catch((()=>{})),this.hotspots.drawHts(this._animationIndex,this._frameIndex,this._currentWidth,this._currentHeight,this._offsetX,this._offsetY),this._animCtx.drawImage(this._currentFrame,s,i,this._currentWidth,this._currentHeight)}_setZoomOffset(){if(void 0===this._offsetX&&(this._offsetX=0),void 0===this._offsetY&&(this._offsetY=0),void 0===this._zoomPoints)return;const t=.5*this._animCanvas.width,e=.5*this._animCanvas.height,s=t-.5*this._currentWidth+this._offsetX,i=e-.5*this._currentHeight+this._offsetY,a=s+.5*this._currentWidth,n=i+.5*this._currentHeight;let o,l;this._inputSystem.zoom.isZoomIn&&-1!=this._zoomPoints?(o=this._zoomPoints.x-a,l=this._zoomPoints.y-n):(o=t-a,l=e-n);const r=.1,c=.1*this._animCanvas.width,u=Math.atan2(l,o);let d=Math.sqrt(Math.pow(o,2)+Math.pow(l,2));d>c&&(d=c),this._offsetX+=Math.round(d*Math.cos(u)*r),this._offsetY+=Math.round(d*Math.sin(u)*r),this._zoomPoints=void 0}switchAnimation(t){t<0||t>=this._animations.length||this._showAnimationFrame(t,this._frameIndex)}_showAnimationFrame(t,e){this._animationIndex=t,this._frameIndex=e,this.requestFrameDraw()}playFrame(t){this.stop(),this._step(t)}_getAnimation(){return this._animations[this._animationIndex]}_setNextIndex(){this._frameIndex++,this._frameIndex>=this._countFrames&&(this._frameIndex=0)}_setPrevIndex(){this._frameIndex--,this._frameIndex<0&&(this._frameIndex=this._countFrames-1)}_onZoomEvent(){this._zoomLerp(),this.stop(),this.requestFrameDraw()}_zoomLerp(){const t=this._inputSystem.zoom.zoomPoints;this._zoomPoints=-1!=t?t:-1}onDragEvent(t){this.playFrame(t.detail)}}},61938:function(t,e,s){s.r(e),s.d(e,{CanvasBuilder:function(){return i}});class i{constructor(t){this._parentId=t,this._parentElem}createLayers(){if(this._parentElem=document.getElementById(this._parentId),!this._parentElem)throw alert("Orbital dom element not found !! "+this._parentId),new Error("Orbital dom element not found !!"+this._parentId);const t=this.createCanvas("eventsCanvas",99),e=this.createCanvas("htEffectCanvas",5),s=this.createCanvas("htDrawCanvas",4),i=this.createCanvas("tilesCanvas",3),a=this.createCanvas("animCanvas",2),n=this.createCanvas("htRefCanvas",1);n.style.left="-300%",n.style.visibility="hidden";const o={animation:a,hotspotsRef:n,hotspotsDraw:s,hotspotsEffects:e,eventsCanvas:t,tilesCanvas:i};return o}createCanvas(t,e){if(null===this._parentElem)return;const s=document.createElement("canvas");return s.id=t,s.width=document.documentElement.clientWidth,s.height=document.documentElement.clientHeight,s.style.position="fixed",s.style.zIndex=e,s.style.top=0,s.style.left=0,this._parentElem.appendChild(s),s}}},81512:function(t,e,s){s.r(e),s.d(e,{Drag:function(){return i}});class i{constructor(t,e){this.rect=t,this._sensitivity=e.sensitivity,this._threshold=e.threshold,this._throwSens=e.throwSens,this._maxVelocity=e.maxVelocity,this._maxStepsCaptures=50,this.velocity=void 0,this.isDragging=!1,this.reverse=!0,this._prevX=void 0,this._prevT=void 0,this._lastDiff=void 0,this._bounding,this._waitTimout,this.init()}get _bounding(){return this.rect.getBoundingClientRect()}init(){this.clear()}clear(){this.isDragging=!1,this._prevX=void 0,this._prevT=void 0,this._lastDiff=void 0,clearTimeout(this._waitTimout)}mouseDown(t){this._startEvent(t.clientX)}mouseMove(t){this.isDragging&&this._rotate(t.clientX)}mouseUp(){this._endEvent()}touchStart(t){const e=t.touches;e.length>1?this.clear():this._startEvent(e[0].clientX)}touchMove(t){if(!this.isDragging)return;const e=t.touches;e.length>1?this.clear():this._rotate(e[0].clientX)}touchEnd(){this._endEvent()}_startEvent(t){this.isDragging=!0,this._prevX=this._getCurrentX(t),this._prevT=Date.now(),clearTimeout(this._waitTimout)}_endEvent(){this.isDragging=!1,this._throw(),this._lastDiff=void 0}async _rotate(t){const e=this._getCurrentX(t);this._lastDiff=Math.round(e-this._prevX);const s=Date.now(),i=s-this._prevT;if(this.velocity=Math.abs(this._lastDiff/i),Math.abs(this._lastDiff)>this._threshold){this.reverse=this._lastDiff>0;const t=Math.floor(this.velocity*this._sensitivity);for(let e=0;e<=t;e++)await this._wait(this.velocity),this.rect.dispatchEvent(new CustomEvent("OnDrag",{bubbles:!1,detail:this.reverse}));this._prevX=e,this._prevT=s}}async _throw(){const t=Math.abs(this._lastDiff);if(this.isDragging||void 0===this._lastDiff||t<this._threshold)return void this.clear();const e=this._lastDiff>0;let s=Math.round(Math.abs(this.velocity))*this._throwSens;s=s>this._maxStepsCaptures?this._maxStepsCaptures:s,this.velocity=this.velocity>this._maxVelocity?this._maxVelocity:this.velocity,this.velocity=this._maxVelocity-this.velocity;for(let i=0;i<s;i++){if(this.isDragging){this.clear();break}await this._wait(this.velocity),this.rect.dispatchEvent(new CustomEvent("OnDrag",{bubbles:!1,detail:e}));const t=this._easeOutSine(i/s);this.velocity+=t*this._sensitivity}}_easeOutSine(t){return Math.sin(t*Math.PI/2)}_wait(t){const e=new Promise((e=>{this._waitTimout=setTimeout((()=>{e()}),t)}));return e}_getCurrentX(t){return t-this._bounding.left}}},59285:function(t,e,s){s.r(e),s.d(e,{InputSystem:function(){return n}});var i=s(98223),a=s(81512);class n{constructor(t,e,s,n){this.rect=t,this.drag=new a.Drag(t,n),this.zoom=new i.Zoom(t,e,s),this.init()}_hasTouch(){return"ontouchstart"in window}init(){this._hasTouch()?(console.log("touch support"),this._touchListeners()):(this._mouseListeners(),this._pointerZoomEvent()),this.rect.addEventListener("wheel",(t=>{t.preventDefault(),this.zoom._wheelZoom(t)}))}_mouseListeners(){this.rect.onmousedown=t=>{0===t.button&&this._mouseDown(t)},this.rect.onmousemove=t=>{this._mouseMove(t)},this.rect.onmouseup=t=>{this._mouseUp(t)}}_touchListeners(){this.rect.addEventListener("touchstart",(t=>{this._touchStart(t)})),this.rect.addEventListener("touchmove",(t=>{t.preventDefault(),this._touchMove(t)}),{passive:!1}),this.rect.addEventListener("touchend",(t=>{this._touchEnd(t)}))}_pointerZoomEvent(){this.rect.addEventListener("pointerdown",(t=>{0===t.button?this.zoom.pointerStart(t):this.zoom.pointerEnd(t)})),this.rect.addEventListener("pointermove",(t=>{t.preventDefault(),this.zoom.pointerMove(t)})),this.rect.addEventListener("pointerup",(t=>{this.zoom.pointerEnd(t)})),this.rect.addEventListener("pointercancel",(t=>{this.zoom.pointerEnd(t)})),this.rect.addEventListener("pointerout",(t=>{this.zoom.pointerEnd(t)})),this.rect.addEventListener("pointerleave",(t=>{this.zoom.pointerEnd(t)}))}_mouseDown(t){this.drag._startEvent(t.clientX)}_mouseMove(t){this.zoom.isZooming?this.drag.clear():this.drag.mouseMove(t)}_mouseUp(t){this.drag.mouseUp(t)}_touchStart(t){const e=t.changedTouches;this.zoom.touchStart(t),this.drag._startEvent(e[0].clientX)}_touchMove(t){this.zoom.touchMove(t),this.zoom.isZooming?this.drag.clear():this.drag.touchMove(t)}_touchEnd(t){this.zoom.touchEnd(t),this.drag._endEvent()}}},98223:function(t,e,s){s.r(e),s.d(e,{Zoom:function(){return i}});s(70560);class i{constructor(t,e,s){this.rect=t,this._naturalSizes=e,this.options=s,this.evCache=[],this.prevDiff=-1,this.prevTouchDiff=-1,this.isZooming=!1,this.zoomPoints=-1,this.init()}init(){this.defaultOptions={scaleFactor:.03,currentScale:.5,minScale:.26,maxScale:1,scaleMargins:.2,zoomInterval:16.66},this.setOptions(this.options),this.setMaxZoom()}setOptions(t){"undefined"==typeof t?this.options=this.defaultOptions:Object.keys(t).forEach((e=>{"undefined"!==typeof this.options[e]&&(this.options[e]=t[e])})),this.currentScale=this.options.initScale,this.scaleFactor=this.options.scaleFactor,this.minScale=this.options.minScale,this.maxScale=this.options.maxScale,this.scaleMargins=this.options.scaleMargins}touchStart(t){2===t.touches.length&&(this.isZooming=!0)}touchMove(t){if(2===t.touches.length){const e=Math.abs(t.touches[0].clientX-t.touches[1].clientX);if(this.prevTouchDiff>0){let s;e>this.prevTouchDiff&&(s=!0),e<this.prevTouchDiff&&(s=!1);const i=this._getPinchCenter(t.touches[1].clientX,t.touches[0].clientX,t.touches[1].clientY,t.touches[0].clientY);this._pinchZoom(s,i.xPoint,i.yPoint)}this.prevTouchDiff=e}}touchEnd(t){this.isZooming=!1,t.changedTouches.length<2&&(this.prevTouchDiff=-1)}pointerStart(t){this.evCache.push(t)}pointerMove(t){const e=this.evCache.findIndex((e=>e.pointerId===t.pointerId));if(this.evCache[e]=t,2===this.evCache.length){const t=Math.abs(this.evCache[0].clientX-this.evCache[1].clientX);if(this.prevDiff>0){let e=!0;t>this.prevDiff&&(e=!0),t<this.prevDiff&&(e=!1);const s=this._getPinchCenter(this.evCache[1].clientX,this.evCache[0].clientX,this.evCache[1].clientY,this.evCache[0].clientY);this._pinchZoom(e,s.xPoint,s.yPoint)}this.prevDiff=t}}pointerEnd(){this.isZooming=!1,this.evCache=[]}_getPinchCenter(t,e,s,i){const a=e-t,n=i-s,o=t+.5*a,l=s+.5*n;return{xPoint:o,yPoint:l}}_removeEvent(t){const e=this.evCache.findIndex((e=>e.pointerId===t.pointerId));this.evCache.splice(e,1)}setZoom(t){this._canZoom(t)&&(this.isZoomIn=t,this.isZooming=!0,this._limitScale(),this.zoomPoints=-1,this.rect.dispatchEvent(new CustomEvent("OnZoom",{bubbles:!1})),this.isZooming=!1)}_pinchZoom(t,e,s){this._canZoom(t)&&(this.isZoomIn=t,this.isZooming=!0,this._limitScale(),this._setZoomPoints(e,s),this.rect.dispatchEvent(new CustomEvent("OnZoom",{bubbles:!1})))}_wheelZoom(t){if(!this._canZoom(t.deltaY<0))return;this.isZoomIn=t.deltaY<0,this._limitScale();const e=t.clientX-this.rect.getBoundingClientRect().left,s=t.clientY-this.rect.getBoundingClientRect().top;this._setZoomPoints(e,s),this.rect.dispatchEvent(new CustomEvent("OnZoom",{bubbles:!1}))}_canZoom(t){const e=Date.now();void 0===this.zoomTimeStart&&(this.zoomTimeStart=e);const s=e-this.zoomTimeStart;if(s<=this.options.zoomInterval)return!1;if(this.zoomTimeStart=e,t){if(this.currentScale>=this.maxScale)return!1;this.currentScale+=this.scaleFactor}else{if(this.currentScale<=this.minScale)return!1;this.currentScale-=this.scaleFactor}return!0}_limitScale(){(this.currentScale>=this.maxScale||this.currentScale<=this.minScale)&&(this.currentScale=Math.min(Math.max(this.currentScale,this.minScale),this.maxScale))}setMaxZoom(){const t=this._naturalSizes.width;let e=document.documentElement.clientWidth/t;if(e+=this.scaleMargins,e>=1)this.currentScale=this.maxScale;else{if(e<=this.minScale)return this.maxScale=this.minScale,void(this.currentScale=this.minScale);this.maxScale=e,e<this.currentScale&&(this.currentScale=e)}}_setZoomPoints(t,e){this._canZoomInPoint()?this.zoomPoints={x:t,y:e}:this.zoomPoints=-1}_canZoomInPoint(){const t=.4,e=this.minScale+(this.maxScale-this.minScale)*t;return this.currentScale>e}}},70737:function(t,e,s){s.r(e),s.d(e,{Hotspots:function(){return a}});s(70560);var i=s(76163);class a{constructor(t,e,s,i){this._canvasGroup=t,this._hotspotRegions=e,this.regionsInfo=s,this._HSColors=i,this.imgW,this.imgH,this.level=0,this.frame=0,this.htDrawCtx,this.htRefCtx,this.filtredRegions=[[[]]],this._uColorSet,this.filterOptions={},this._hsRefTimer,this._delayRefDraw=500,this._lastHovered=void 0,this._useHotspots=!1,this.init()}init(){this.htDrawcanvas=this._canvasGroup.hotspotsDraw,this.htEffectCanvas=this._canvasGroup.hotspotsEffects,this.htRefCanvas=this._canvasGroup.hotspotsRef,this.htEvtCanvas=this._canvasGroup.eventsCanvas,this.htDrawCtx=this.htDrawcanvas.getContext("2d"),this.htEffectCtx=this.htEffectCanvas.getContext("2d"),this.htRefCtx=this.htRefCanvas.getContext("2d",{willReadFrequently:!0}),this.htEvtCtx=this.htRefCanvas.getContext("2d"),this._typesColors=this._HSColors}useHotspots(t){this._useHotspots=t,this._setupHotspots()}_setupHotspots(){this._useHotspots&&(this._initHotspots(),this.drawHts(),this.hSEvents())}_initHotspots(){this._uColorSet=new Set,this._hotspotRegions.forEach(((t,e)=>{if(e>=Object.keys(this.regionsInfo).length)return;const s=t.id,a=this.regionsInfo[s].type,n=this._typesColors[a],o=.2;t.polygons.forEach((t=>{const e=t,a=parseInt(e.state),l=parseInt(e.column),r=this._formatPositions(e.vertices);let c=i.COLOR_HELPER.getUniqColor(this._uColorSet);this._uColorSet.add(c),c=i.COLOR_HELPER.hexToRgb(c);const u={name:s,polygon:r,colorRef:c,fillColor:n,alpha:o},d=i.COLOR_HELPER.getColorString(c);"undefined"===typeof this.filtredRegions[a]&&(this.filtredRegions[a]=[]),"undefined"===typeof this.filtredRegions[a][l]&&(this.filtredRegions[a][l]=[]),this.filtredRegions[a][l][d]=u}))})),this._hotspotRegions.length=0}drawHts(t,e,s,i,a,n){this.level=t,this.frame=e,this.imgW=s,this.imgH=i,this.offsetX=a,this.offsetY=n,this._drawHts()}_drawHts(){this._useHotspots&&(window.clearTimeout(this._hsRefTimer),this._clearCtx(this.htRefCtx),this._clearCtx(this.htEffectCtx),this.drawHotspots(),this._hsRefTimer=window.setTimeout((()=>{this.drawHotspotsRef()}),this._delayRefDraw))}drawHotspots(){this._clearCtx(this.htDrawCtx);const t=this._getCurrentRegion();void 0!=t&&Object.values(t).forEach((t=>{if(this.validate(t.name)){const e=t.polygon,s=i.COLOR_HELPER.getColorFill(i.COLOR_HELPER.hexToRgb(t.fillColor),t.alpha);this._drawPolygon(this.htDrawCtx,e,s,void 0,1)}}))}drawHotspotsRef(){const t=this._getCurrentRegion();void 0!=t&&(this._clearCtx(this.htRefCtx),Object.values(t).forEach((t=>{if(this.validate(t.name)){const e=t.polygon,s=i.COLOR_HELPER.getColorFill(t.colorRef,1);requestAnimationFrame((()=>this._drawPolygon(this.htRefCtx,e,s,void 0)))}})))}_drawPolygon(t,e,s,i,a=2){t.strokeStyle=i,t.lineWidth=1,t.fillStyle=s,t.lineWidth=a,t.beginPath();for(let n=0;n<e.length;n++){const s=e[n],i=Math.round(.5*(t.canvas.width-this.imgW)),a=Math.round(.5*(t.canvas.height-this.imgH)),o=s.x*this.imgW+i-this.offsetX,l=s.y*this.imgH+a-this.offsetY;t.lineTo(o,l)}t.fill(),t.closePath(),i&&t.stroke()}validate(t){const e=this.regionsInfo[t];if(void 0!==e){const t=parseInt(e.surface,10),s=e.statut,i=this.filterOptions.surface,a=this.filterOptions.status;return void 0!==i&&void 0!==a&&(!(t<i.minSurface||t>i.maxSurface)&&!!a.includes(s))}return!1}setSurfaceFilter(t){this.filterOptions.surface={minSurface:t.min,maxSurface:t.max},this._updateHotspots()}setTypesFilter(t){this.filterOptions.types=t,this._updateHotspots()}setStatusFilter(t){this.filterOptions.status=t,this._updateHotspots()}_updateHotspots(){this._useHotspots&&this._drawHts()}_formatPositions(t){let e=[];const s=t,i=s.split("|");for(let a=0;a<i.length;a++){const t=i[a].split(";");for(let s=0;s<t.length;s++){const i=t[s].split(",");e.push({x:i[0],y:i[1]})}}return e}hSEvents(){this.htEvtCanvas.addEventListener("mousemove",(t=>{this.mouseMoveEvent(t)})),window.PointerEvent?(this.htEvtCanvas.addEventListener("pointerdown",(t=>{this._startEvent(t)})),this.htEvtCanvas.addEventListener("pointerup",(t=>{this._canClick()&&this.clickEvent(t)}))):(this.htEvtCanvas.addEventListener("mousedown",(t=>{this._startEvent(t)})),this.htEvtCanvas.addEventListener("mouseup",(t=>{this._canClick()&&this.clickEvent(t)})),this.htEvtCanvas.addEventListener("touchstart",(t=>{this._startEvent(t)})),this.htEvtCanvas.addEventListener("touchend",(t=>{this._canClick()&&this.touchEvent(t)})))}mouseMoveEvent(t){const e=this._getHotspotData({x:t.clientX,y:t.clientY});void 0!==e?this._regionHoverState(e,{x:t.clientX,y:t.clientY}):this._regionOutState()}clickEvent(t){const e=this._getHotspotData({x:t.clientX,y:t.clientY});void 0!==e&&this._regionClickState(e,{x:t.clientX,y:t.clientY})}touchEvent(t){const e=t.changedTouches[0],s=this._getHotspotData({x:e.clientX,y:e.clientY});void 0!==s&&this._regionClickState(s,{x:e.clientX,y:e.clientY})}_startEvent(){this.timeStart=Date.now()}_canClick(){const t=Date.now(),e=t-this.timeStart;return e<300}_regionHoverState(t,e){const s=this._getSelectedHotspot(t);if(!s)return;const i=s.region;void 0===this._lastHovered?this._setHsEffect(i):this._lastHovered.name!==i.name&&(this._clearCtx(this.htEffectCtx),this._setHsEffect(i)),this.htEvtCanvas.style.cursor="pointer",window.dispatchEvent(new CustomEvent("OnHSHover",{bubbles:!1,detail:{mousePos:e,region:s.region}}))}_regionOutState(){void 0!==this._lastHovered&&(this._clearCtx(this.htEffectCtx),this._lastHovered=void 0),this.htEvtCanvas.style.cursor="default",window.dispatchEvent(new CustomEvent("OnHSHoverOut",{bubbles:!1}))}_regionClickState(t,e){this._regionOutState();const s=this._getSelectedHotspot(t);if(void 0===s)return;const i=s.region.name;window.dispatchEvent(new CustomEvent("OnHSClick",{bubbles:!1,detail:{mousePos:e,region:this.regionsInfo[i]}}))}_setHsEffect(t){this._drawPolygon(this.htEffectCtx,t.polygon,"transparent","#FFFFFF",2),this._lastHovered=t}_getHotspotData(t){const e=this.htDrawcanvas.getBoundingClientRect(),s=Math.round(t.x-e.left),i=Math.round(t.y-e.top),a=this.htRefCtx.getImageData(s,i,1,1),n=a.data;if(0!==n[0]||0!==n[1]||0!==n[2])return n}_getSelectedHotspot(t){const e=this._getCurrentRegion();if(void 0===e)return;const s={red:t[0],green:t[1],blue:t[2]},a=i.COLOR_HELPER.getColorString(s),n=e[a];return void 0!==n?{region:n}:void 0}_getCurrentRegion(){if("undefined"!==typeof this.filtredRegions[this.level]){if("undefined"!==typeof this.filtredRegions[this.level][this.frame])return this.filtredRegions[this.level][this.frame];this._clearCtx(this.htRefCtx)}else this._clearCtx(this.htRefCtx)}_clearCtx(t){t.clearRect(0,0,t.canvas.width,t.canvas.height)}}},97907:function(t,e,s){s.r(e),s.d(e,{Orbital:function(){return n}});s(70560);var i=s(11360),a=s(61938);class n{constructor(t,e,s){this.container=t,this._orbitalData=e,this._regionsInfo=s,this.animationsPaths=[],this.animator,this.canvasBuilder}init(t){this.hotspotsConfig=t,this._setup()}_setup(){const t=this._orbitalData.params,e=t.animationsCount;let s=t.imagesFolder+t.preloadedFolder;for(let i=0;i<e;i++){const t=s.replace(/%row/g,i).replace(/%col/g,"?");this.animationsPaths.push(t)}this.canvasBuilder=new a.CanvasBuilder(this.container);const n=this.canvasBuilder.createLayers(),o={maxWidth:t.maxWidth,maxHeight:t.maxHeight,imagesFolder:t.imagesFolder,framesCount:t.framesCount,timeLineSpeed:t.timeLineSpeed,autoplay:t.autoplay,frameStart:t.frameStart,animStart:t.animStart,tilesFolder:this._orbitalData.tiles.tilesFolder,breakpoints_sizes:this._orbitalData.tiles.breakpoints_sizes,breakpoints:this._orbitalData.tiles.breakpoints,breakpoints_folder:this._orbitalData.tiles.breakpoints_folder,maxCache:this._orbitalData.tiles.maxTilesCache,cropSize:this._orbitalData.tiles.cropSize,zoomOptions:this._orbitalData.controls.zoom,dragOptions:this._orbitalData.controls.drag,HSColors:this._orbitalData.hotspots.color_HS};this.animator=new i.Animator(n,this.animationsPaths,o,this.hotspotsConfig,this._regionsInfo),window.addEventListener("OnAnimatorReady",(()=>this.appReady()),{once:!0}),this._setConfigStyles()}_setConfigStyles(){void 0!==this.animator&&(document.getElementById(this.container).style.backgroundColor=this._orbitalData.params.bg_color)}appReady(){this.animationsPaths=null,this.animator.run(),window.dispatchEvent(new CustomEvent("OnAppReady",{bubbles:!1}));const t=this._orbitalData.hotspots.useHotspots;this.useHotspots(t)}getPercentLoaded(){return void 0===this.animator?0:this.animator.percentLoaded}playOrbital(){this.animator.play()}stopOrbital(){this.animator.stop()}next(){this.animator.playFrame(!1)}prev(){this.animator.playFrame(!0)}setLevel(t){this.animator.switchAnimation(t)}filterHSByPrice(t){this.animator&&this.animator.stop(),this.animator.hotspots&&this.animator.hotspots.setSurfaceFilter(t)}filterHSByTypes(t){this.animator&&this.animator.stop(),this.animator.hotspots&&this.animator.hotspots.setTypesFilter(t)}filterHSByStatus(t){this.animator&&this.animator.stop(),this.animator.hotspots&&this.animator.hotspots.setStatusFilter(t)}setZoomOptions(t){this.animator&&this.animator._inputSystem.zoom.setOptions(t)}setZoom(t){this.animator&&this.animator._inputSystem.zoom.setZoom(t)}getParam(t){return this._orbitalData.params[t]}getHSParam(t){return this._orbitalData.hotspots[t]}getCurrentFrame(){return this.animator?this.animator._frameIndex:0}useHotspots(t){this.animator&&this.animator.hotspots&&this.animator.hotspots.useHotspots(t)}getEventsCanvas(){return this.animator?this.animator.eventsCanvas:null}unmountOrbital(){void 0!==this.animator&&(this.animator.cancel=!0)}}},23913:function(t,e,s){s.r(e),s.d(e,{Resizer:function(){return i}});class i{constructor(t){this.canvasObj=t,this.init()}init(){this.resize()}resize(){Object.values(this.canvasObj).forEach((t=>{t.width=document.documentElement.clientWidth,t.height=document.documentElement.clientHeight}))}}},78983:function(t,e,s){s.r(e),s.d(e,{TilesController:function(){return i}});s(70560);class i{constructor(t){if(this.options=t,"undefined"===typeof t.breakpoints_sizes&&"object"!==typeof t.breakpoints_sizes)throw alert("breakpoints not valid"),new Error("breakpoints not valid");this.naturalSizes=t.breakpoints_sizes,this.preloadedBP=this.naturalSizes.preloaded,this.cropSize=t.cropSize,this.maxCache=t.maxCache,this._currentNaturalWidth=null,this._animationIndex=0,this._currentFrame=0,this._currentBreakPoint,this._currentScale,this._cachedFrames=new Array,this._useCache=!0,this._timeOutLoad,this._firstFetch=!0,this.init()}init(){this._setLimitCache(),this.breakPoints=Object.entries(this.naturalSizes).sort((([,t],[,e])=>t-e)).reduce(((t,[e,s])=>({...t,[e]:s})),{})}_setLimitCache(){if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){if(!performance.memory)return void(this.maxCache=15);if(performance.memory.jsHeapSizeLimit<5e8)return void(this.maxCache=15)}}fetchTiles(t,e,s,i){if(this._setCurrentBP(s),this._setCurrentNaturalSize(this._currentBreakPoint),s<=this.preloadedBP)return this._loadTiles(!0);if(this._animationIndex=t,this._currentFrame=e,this._currentScale=i,this._firstFetch)return this._firstFetch=!1,this._loadTiles();if(this._useCache){const t=this._cachedFrames.find((t=>{if(t.animationIndex===this._animationIndex&&t.frame===this._currentFrame&&t.breakPoint===this._currentBreakPoint)return t}));if("undefined"!==typeof t)return this._loadExistingTiles(t)}return this._loadTiles()}_loadExistingTiles(t){return new Promise(((e,s)=>{t.animationIndex===this._animationIndex&&t.frame===this._currentFrame&&t.breakPoint===this._currentBreakPoint?e(t.canvas):s()}))}_loadTiles(t=!1){window.clearTimeout(this._timeOutLoad);const e=new Promise(((e,s)=>{t?s():this._timeOutLoad=window.setTimeout((()=>{const t=this._animationIndex,i=this._currentFrame,a=this._currentBreakPoint,n=this._currentScale,o=this._getTilesFolder(t,i,a);this._createAndLoadTiles(o,(o=>{if(this._useCache){const e={animationIndex:t,frame:i,breakPoint:a,canvas:o};this._addToCache(e)}this._canLoadImg(t,i,a,n)||s(),e(o)}))}),100)}));return e}_addToCache(t){this._cachedFrames.includes(t)||(this._checkCache(),this._cachedFrames.push(t))}_createAndLoadTiles(t,e){const i=this._currentNaturalWidth,a=this._calculateWithAspectRatio(i);let n=document.createElement("canvas"),o=n.getContext("2d");n.width=i,n.height=a;const l=this.cropSize,r=Math.floor(i/l),c=Math.floor(a/l),u=i%l,d=a%l,h=0!=u?r+1:r,v=0!=d?c+1:c;let m=new Array;for(let p=0;p<v;p++)for(let e=0;e<h;e++){const i=new Promise(((i,a)=>{let n=e*l,r=p*l;const c=h*p+e,u=`${t}p-${c}.jpg`,d=s(18116)("./"+u);let v=new Image;v.decoding="async",v.onload=()=>{o.drawImage(v,n,r),v=null,i()},v.onerror=()=>{v=null,a()},v.src=d}));m.push(i)}Promise.all(m).then((()=>{e(n),m=null}))}_canLoadImg(t,e,s,i){return t===this._animationIndex&&e===this._currentFrame&&s===this._currentBreakPoint&&i===this._currentScale}_draw(t,e,s,i){t.clearRect(s,i,t.canvas.width,t.canvas.height),t.drawImage(e,s,i)}_getTilesFolder(t,e,s){let i=this.options.imagesFolder+this.options.tilesFolder;for(const[a,n]of Object.entries(this.breakPoints))if(s===n){const s=this.options.breakpoints_folder[a];i=i.replace(/%row/g,t).replace("%bp",s).replace("%col",e);break}return i}_setCurrentNaturalSize(t){for(const[e,s]of Object.entries(this.breakPoints))if(s===t){this._currentNaturalWidth=this.naturalSizes[e];break}}_setCurrentBP(t){for(const[e=e,s]of Object.entries(this.breakPoints)){if(t<=s){this._currentBreakPoint=s;break}this._currentBreakPoint=s}}_checkCache(){if(this._cachedFrames.length>this.maxCache){let t=this._cachedFrames.shift();t.canvas=null,t=null}}_calculateWithAspectRatio(t){const e=this.options.maxWidth/this.options.maxHeight,s=t/e;return s}}},71580:function(t,e,s){s.r(e),s.d(e,{default:function(){return O}});var i=s(49242),a=s(73396),n=s(87139),o=s(44870),l=s(15668),r=s(48240),c=s(5169),u=s(65543);const d=t=>((0,a.dD)("data-v-8c2888d6"),t=t(),(0,a.Cn)(),t),h={class:"container-fluid card-foot mb-3"},v={class:"row align-items-center"},m={class:"col"},p={class:"dispo"},f={class:"col"},_={key:0,class:"form-parent d-flex flex-column justify-content-center align-items-center"},g={key:0,class:"me-3 h-100"},w=d((()=>(0,a._)("div",{class:"spinner-grow text-type-color text-center",role:"status"},[(0,a._)("span",{class:"visually-hidden"},"Loading...")],-1))),b=[w],y={key:1,class:"col-12 my-2"},x=["value","name","id"],S=["for"],C={key:2,class:"form-footer w-100 col d-flex justify-content-between align-items-center"},H={class:"msg text-center w-75 p-2"};var k={__name:"EditAppt",props:{cardInfo:Object,colorType:String,isAdmin:{type:Boolean,default:!1}},setup(t){(0,i.sj)((e=>({"376c69e4":t.colorType})));const e=(0,c.useAppDataStore)(),{orbitalConfig:s,currentUID:d}=(0,u.Jk)(e),w=(0,a.Fl)((()=>{const t=s.value.hotspots;return t.status})),k=(0,r.useRegionsStore)(),{regions:D,isError:E}=(0,u.Jk)(k),O=t,L=(0,o.iH)(O.cardInfo),z=(0,a.Fl)((()=>L.value[d.value])),M=(0,o.iH)(L.value.statut),P=(0,o.iH)(M.value),I=(0,o.iH)(!1),T=(0,o.iH)(L.value.statut),U=(0,o.iH)(!1),A=(0,a.Fl)((()=>({"alert-success":"Disponible"===L.value.statut&&!U.value,"alert-danger":"Indisponible"===L.value.statut&&!U.value,"alert-warning":"Réservé"===L.value.statut&&!U.value||U.value})));function F(t){if(P.value===M.value)return;const e=1e3;I.value=!0,T.value="Loading",U.value=!1,k.editStatus(t,M.value).then((s=>{if(E.value)return I.value=!1,U.value=!0,T.value=s,void window.setTimeout((()=>{const t=L.value.statut;U.value=!1,T.value=t,P.value=T.value=M.value=t}),e);L.value=D.value[t],P.value=M.value=L.value.statut,U.value=!1,I.value=!1,T.value=s,window.setTimeout((()=>{T.value=L.value.statut}),e)}))}return(0,a.YP)((()=>O.cardInfo),(()=>{L.value=O.cardInfo,P.value=M.value=L.value.statut,T.value=L.value.statut})),(e,s)=>((0,a.wg)(),(0,a.iD)("div",h,[(0,a._)("div",v,[(0,a._)("div",m,[(0,a._)("span",p,(0,n.zw)(L.value.statut),1)]),(0,a._)("div",f,[(0,a.Wm)((0,o.SU)(l["default"]),{status:L.value.statut},null,8,["status"])])]),t.isAdmin?((0,a.wg)(),(0,a.iD)("div",_,[I.value?((0,a.wg)(),(0,a.iD)("div",g,b)):(0,a.kq)("",!0),I.value?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",y,[(0,a._)("form",{action:"",onSubmit:s[1]||(s[1]=(0,i.iM)((()=>{}),["prevent"]))},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(w.value,((t,e)=>((0,a.wg)(),(0,a.iD)("div",{class:"form-check",key:t.name},[(0,a.wy)((0,a._)("input",{class:"form-check-input",type:"radio",value:t.value,name:t.name,id:`${z.value}_${e}`,"onUpdate:modelValue":s[0]||(s[0]=t=>M.value=t)},null,8,x),[[i.G2,M.value]]),(0,a._)("label",{class:"form-check-label",for:`${z.value}_${e}`},(0,n.zw)(t.value),9,S)])))),128))],32)])),I.value?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",C,[(0,a._)("button",{class:"btn btn-success btn-sm",onClick:s[2]||(s[2]=t=>F(z.value))},"Save"),(0,a._)("div",H,[(0,a._)("div",{class:(0,n.C_)(["alert m-0 p-2",A.value])},(0,n.zw)(T.value),3)])]))])):(0,a.kq)("",!0)]))}},D=s(40089);const E=(0,D.Z)(k,[["__scopeId","data-v-8c2888d6"]]);var O=E},42591:function(t,e,s){s.r(e),s.d(e,{default:function(){return r}});var i=s(73396),a=s(87139),n=s(44870),o={__name:"AlertComponent",props:{message:{type:String,default:""},isSuccess:{type:Boolean,default:!0}},setup(t){const e=t,s=(0,n.qj)({"alert-danger":!e.isSuccess,"alert-success":e.isSuccess});return(0,i.m0)((()=>{const t=e.isSuccess;s["alert-danger"]=!t,s["alert-success"]=t})),(e,n)=>""!==t.message?((0,i.wg)(),(0,i.iD)("div",{key:0,class:(0,a.C_)(["alert text-center",s]),role:"alert"},(0,a.zw)(t.message),3)):(0,i.kq)("",!0)}};const l=o;var r=l},18675:function(t,e,s){s.r(e),s.d(e,{default:function(){return D}});var i=s(73396),a=s(44870),n=s(49242),o=s(80806),l=s(63091),r=s(65543);const c=t=>((0,i.dD)("data-v-258a96e6"),t=t(),(0,i.Cn)(),t),u={class:"modal-dialog modal-dialog-centered"},d={class:"modal-content"},h=c((()=>(0,i._)("div",{class:"modal-header"},[(0,i._)("h1",{class:"modal-title",id:"screen-capture"},"Screenshot"),(0,i._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),v={class:"modal-body"},m={key:0,class:"d-flex justify-content-center align-items-center loader"},p=c((()=>(0,i._)("div",{class:"spinner-border",role:"status"},[(0,i._)("span",{class:"visually-hidden"},"Loading...")],-1))),f=[p],_={key:1,class:"text-danger text-center fs-6 p-3"},g=["src"],w={class:"modal-footer"},b={class:"d-flex"},y=["disabled"],x=["disabled"],S=["href","download"];var C={__name:"CaptureModal",setup(t){const e=(0,l.useCaptureStore)(),{isLoading:s,isOpenModal:c,currentImage:p,captureLink:C,errorCapture:H}=(0,r.Jk)(e),k=(0,a.iH)(""),D=(0,a.iH)(null),E=(0,a.iH)(void 0),O=(0,a.iH)(null),L=(0,i.Fl)((()=>""!==k.value?`${k.value}.jpg`:"Screenshot.jpg"));(0,i.bv)((()=>{E.value=new o.u_(D.value),D.value.addEventListener("hidden.bs.modal",(()=>{c.value=!1,k.value=""}))})),(0,i.Ah)((()=>{E.value.dispose()})),(0,i.YP)(c,(()=>{c.value&&E.value.show()}));const z=()=>{O.value.click()};return(t,e)=>((0,i.wg)(),(0,i.iD)("div",null,[((0,i.wg)(),(0,i.j4)(i.lR,{to:"body"},[(0,i._)("div",{class:"screenshot-container modal fade",id:"capture-modal",tabindex:"-1","aria-labelledby":"screen-capture","aria-hidden":"true",ref_key:"capture",ref:D},[(0,i._)("div",u,[(0,i._)("div",d,[h,(0,i._)("div",v,[(0,a.SU)(s)?((0,i.wg)(),(0,i.iD)("div",m,f)):(0,i.kq)("",!0),(0,a.SU)(H)?((0,i.wg)(),(0,i.iD)("h3",_," Une erreur s'est produite lors de la capture ! ")):((0,i.wg)(),(0,i.iD)("img",{key:2,src:(0,a.SU)(p),class:"img-fluid",alt:"",loading:"lazy"},null,8,g))]),(0,i._)("div",w,[(0,i._)("div",b,[(0,i.wy)((0,i._)("input",{class:"filename form-control form-control-sm mx-3",id:"filename",type:"text",placeholder:"Nom du fichier","aria-label":".form-control-sm name","onUpdate:modelValue":e[0]||(e[0]=t=>k.value=t),required:"",disabled:(0,a.SU)(s)||(0,a.SU)(H)},null,8,y),[[n.nr,k.value]]),(0,i._)("button",{type:"button",class:"btn btn-sm custom-btn save-btn",disabled:(0,a.SU)(s)||(0,a.SU)(H),onClick:z},"Telecharger",8,x),(0,i.wy)((0,i._)("a",{href:(0,a.SU)(C),download:L.value,ref_key:"downloadLink",ref:O},"Telecharger",8,S),[[n.F8,!1]])])])])])],512)]))]))}},H=s(40089);const k=(0,H.Z)(C,[["__scopeId","data-v-258a96e6"]]);var D=k},53507:function(t,e,s){s.r(e),s.d(e,{default:function(){return S}});var i=s(49242),a=s(73396),n=s(87139),o=s(44870),l=s(80806),r=s(73909);const c={class:"container-fluid"},u={class:"row align-items-center position-relative"},d={class:"col"},h={class:"carousel-inner d-flex align-items-center"},v={class:"carousel-caption d-block d-md-block"},m={class:"m-0"},p={class:"p-0 m-0"},f={class:"carousel-indicators"},_={class:"indicators-container"},g=["data-bs-slide-to"],w=(0,a.uE)('<button class="carousel-control-prev" type="button" data-bs-target="#carousel-template" data-bs-slide="prev" data-v-30ce2435><span class="" aria-hidden="true" data-v-30ce2435><svg xmlns="http://www.w3.org/2000/svg" width="1.6em" height="1.6em" fill="currentColor" class="bi bi-chevron-left" viewBox="0 0 16 16" data-v-30ce2435><path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z" data-v-30ce2435></path></svg></span><span class="visually-hidden" data-v-30ce2435>Previous</span></button><button class="carousel-control-next" type="button" data-bs-target="#carousel-template" data-bs-slide="next" data-v-30ce2435><span class="" aria-hidden="true" data-v-30ce2435><svg xmlns="http://www.w3.org/2000/svg" width="1.6em" height="1.6em" fill="currentColor" class="bi bi-chevron-right" viewBox="0 0 16 16" data-v-30ce2435><path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z" data-v-30ce2435></path></svg></span><span class="visually-hidden" data-v-30ce2435>Next</span></button>',2);var b={__name:"CarouselComponent",props:{itemsData:Object,colorType:{type:String,default:"var(--app-primary-color)"}},setup(t){(0,i.sj)((e=>({"711f4344":t.colorType})));const e=(0,o.iH)(null);return(0,a.bv)((()=>{new l.lr(e.value)})),(s,i)=>((0,a.wg)(),(0,a.iD)("div",c,[(0,a._)("div",u,[(0,a._)("div",d,[(0,a._)("div",{id:"carousel-template",class:"carousel carousel-dark slide","data-bs-touch":"true",ref_key:"carouselElem",ref:e},[(0,a._)("div",h,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.itemsData,((t,e)=>((0,a.wg)(),(0,a.iD)("div",{class:(0,n.C_)(["carousel-item",{active:0==e}]),key:e},[(0,a.Wm)((0,o.SU)(r["default"]),{src:t.url,class:"d-block w-100"},null,8,["src"]),(0,a._)("div",v,[(0,a._)("h5",m,(0,n.zw)(t.title),1),(0,a._)("p",p,(0,n.zw)(t.desc),1)])],2)))),128))]),(0,a._)("div",f,[(0,a._)("div",_,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.itemsData,((t,e)=>((0,a.wg)(),(0,a.iD)("button",{key:e,type:"button","data-bs-target":"#carousel-template","data-bs-slide-to":e,class:(0,n.C_)({active:0==e}),"aria-current":"true","aria-label":"Slide {{index}}"},null,10,g)))),128))])]),w],512)])])]))}},y=s(40089);const x=(0,y.Z)(b,[["__scopeId","data-v-30ce2435"]]);var S=x},2359:function(t,e,s){s.r(e),s.d(e,{default:function(){return f}});var i=s(73396),a=s(44870),n=s(48240),o=s(65543);const l=t=>((0,i.dD)("data-v-33f7a180"),t=t(),(0,i.Cn)(),t),r={key:0,class:"error-container"},c=l((()=>(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",class:"bi bi-exclamation-lg warning-svg",viewBox:"0 0 16 16"},[(0,i._)("path",{d:"M7.005 3.1a1 1 0 1 1 1.99 0l-.388 6.35a.61.61 0 0 1-1.214 0L7.005 3.1ZM7 12a1 1 0 1 1 2 0 1 1 0 0 1-2 0"})],-1))),u=l((()=>(0,i._)("p",{class:"error"},"Une erreur s'est produite!",-1))),d=l((()=>(0,i._)("p",{class:"retry"},"Essayer ultérieurement",-1))),h=[c,u,d];var v={__name:"ErrorComponent",setup(t){const e=(0,n.useRegionsStore)(),{isError:s}=(0,o.Jk)(e);return(t,e)=>(0,a.SU)(s)?((0,i.wg)(),(0,i.iD)("div",r,h)):(0,i.kq)("",!0)}},m=s(40089);const p=(0,m.Z)(v,[["__scopeId","data-v-33f7a180"]]);var f=p},73909:function(t,e,s){s.r(e),s.d(e,{default:function(){return m}});var i=s(73396),a=s(44870),n=s(90466);const o=t=>((0,i.dD)("data-v-06e900b0"),t=t(),(0,i.Cn)(),t),l={key:0,class:"loader w-100 text-center"},r=o((()=>(0,i._)("div",{class:"spinner-border",role:"status"},[(0,i._)("span",{class:"visually-hidden"},"Loading...")],-1))),c=[r],u=["src","srcset","sizes"];var d={__name:"ImageComponent",props:{src:{type:String,default:""}},setup(t){const e=t,o=s(32794),r=(0,a.qj)({medium:1024,large:1920}),d=(0,i.Fl)((()=>{let t="";return Object.values(r).forEach((function(e){t+=`(max-width: ${e}px) ${e}px, `})),""!==h.value?t:""})),h=(0,i.Fl)((()=>{const t=e.src,s=t.split("/"),i=s[s.length-1],a=s.splice(0,s.length-1).join("/");let n="";Object.entries(r).forEach((function([t,e]){const s=`${a}/${t}/${i}`;let o=f(s);o=""!==o?o+` ${e}w, `:"",n+=o}));const o=r.small,l=t;let c=f(l);c=""!==c?`${c} ${o}w, `:"";const u=`${c} ${n}`;return""!==n?u:""})),v=(0,i.Fl)((()=>{const t=e.src;return p(t)})),{isLoading:m}=(0,n.d9x)({src:v.value});function p(t){let e="";try{e=s(18116)(`./${t}`)}catch(i){e=o}return e}function f(t){let e="";try{e=s(18116)(`./${t}`)}catch(i){e=""}return e}return(t,e)=>(0,a.SU)(m)?((0,i.wg)(),(0,i.iD)("div",l,c)):((0,i.wg)(),(0,i.iD)("img",{key:1,src:v.value,srcset:h.value,sizes:d.value,class:"img-fluid",alt:"",loading:"lazy"},null,8,u))}},h=s(40089);const v=(0,h.Z)(d,[["__scopeId","data-v-06e900b0"]]);var m=v},678:function(t,e,s){s.r(e),s.d(e,{default:function(){return h}});var i=s(73396);const a=t=>((0,i.dD)("data-v-b84584e6"),t=t(),(0,i.Cn)(),t),n={class:"title d-flex justify-content-end align-items-center text-end"},o=a((()=>(0,i._)("div",{class:"line"},null,-1))),l={class:"text"};function r(t,e){return(0,i.wg)(),(0,i.iD)("div",n,[o,(0,i._)("div",l,[(0,i.WI)(t.$slots,"default",{},void 0,!0)])])}var c=s(40089);const u={},d=(0,c.Z)(u,[["render",r],["__scopeId","data-v-b84584e6"]]);var h=d},56549:function(t,e,s){s.r(e),s.d(e,{default:function(){return h}});var i=s(73396),a=s(44870),n=s(49242),o=s(91037);const l={class:"position-relative"},r=(0,i._)("div",{class:"slide-overlay"},null,-1),c={class:"h-100"};var u={__name:"NestedPagesLoader",props:{canShow:{type:Boolean,default:!1}},setup(t){return(e,s)=>((0,i.wg)(),(0,i.iD)("div",l,[r,(0,i.wy)((0,i._)("div",c,[(0,i.Wm)((0,a.SU)(o["default"]),{title:"Loading"})],512),[[n.F8,t.canShow]])]))}};const d=u;var h=d},41703:function(t,e,s){s.r(e),s.d(e,{default:function(){return x}});var i=s(73396),a=s(44870),n=s(6983),o=s(38877),l=s(5395),r=s(77198),c=s(20310),u=s(5169),d=s(48240),h=s(65543);const v={class:"filter-product d-flex flex-column justify-content-center align-items-center shadow p-3"},m={class:"bg-white w-100 mb-3 p-3 shadow-sm"},p={class:"slider bg-white w-100 mb-3 p-3 shadow-sm"},f={class:"types bg-white w-100 mb-3 p-3 shadow-sm"},_={class:"stages bg-white w-100 mb-3 p-3 shadow-sm"},g={class:"status bg-white w-100 mb-3 py-3 shadow-sm"};var w={__name:"SideFilter",emits:["onOrbitalSwitched"],setup(t,{expose:e,emit:s}){const w=s,b=(0,d.useRegionsStore)(),y=(0,u.useAppDataStore)(),{params:x,surfaceMinMax:S}=(0,h.Jk)(y),{defaultFilters:C}=(0,h.Jk)(b),H=(0,a.iH)(x.value.animationsCount),k=(0,a.qj)({});function D(t){y.setCurrentOrbital(t),w("onOrbitalSwitched")}function E(t){k.surface=t}function O(t){k.stages=t}function L(t){k.types=t}function z(t){k.status=t}return(0,i.YP)(k,(()=>{b.filterRegions(k)})),e({filters:k}),(t,e)=>((0,i.wg)(),(0,i.iD)("div",v,[(0,i._)("div",m,[(0,i.Wm)(c["default"],{onOnOrbitalSelect:D})]),(0,i._)("div",p,[(0,i.Wm)((0,a.SU)(n["default"]),{onOnSurfaceChanged:E,min:(0,a.SU)(S).min,max:(0,a.SU)(S).max,step:10,gap:20},null,8,["min","max"])]),(0,i._)("div",f,[(0,i.Wm)((0,a.SU)(o["default"]),{"default-types":(0,a.SU)(C).types,onOnTypesChanged:L},null,8,["default-types"])]),(0,i._)("div",_,[(0,i.Wm)((0,a.SU)(l["default"]),{"stage-count":H.value,"default-stages":(0,a.SU)(C).stages,onOnStagesChanged:O},null,8,["stage-count","default-stages"])]),(0,i._)("div",g,[(0,i.Wm)((0,a.SU)(r["default"]),{onOnStatusChanged:z})])]))}},b=s(40089);const y=(0,b.Z)(w,[["__scopeId","data-v-30945b90"]]);var x=y},15668:function(t,e,s){s.r(e),s.d(e,{default:function(){return p}});var i=s(73396);const a={key:0,class:"mx-1 text-success"},n=(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.5em",height:"1.5em",fill:"currentColor",class:"bi bi-check-lg",viewBox:"0 0 16 16"},[(0,i._)("path",{d:"M12.736 3.97a.733.733 0 0 1 1.047 0c.286.289.29.756.01 1.05L7.88 12.01a.733.733 0 0 1-1.065.02L3.217 8.384a.757.757 0 0 1 0-1.06.733.733 0 0 1 1.047 0l3.052 3.093 5.4-6.425a.247.247 0 0 1 .02-.022Z"})],-1),o=[n],l={key:1,class:"mx-1 text-danger"},r=(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.5em",height:"1.5em",fill:"currentColor",class:"bi bi-x",viewBox:"0 0 16 16"},[(0,i._)("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"})],-1),c=[r],u={key:2,class:"mx-1 text-warning"},d=(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.5em",height:"1.5em",fill:"currentColor",class:"bi bi-exclamation-lg",viewBox:"0 0 16 16"},[(0,i._)("path",{d:"M7.005 3.1a1 1 0 1 1 1.99 0l-.388 6.35a.61.61 0 0 1-1.214 0L7.005 3.1ZM7 12a1 1 0 1 1 2 0 1 1 0 0 1-2 0"})],-1),h=[d];var v={__name:"StatusComponent",props:{status:{type:String,default:"Disponible"}},setup(t){return(e,s)=>"Disponible"===t.status?((0,i.wg)(),(0,i.iD)("span",a,o)):"Indisponible"===t.status?((0,i.wg)(),(0,i.iD)("span",l,c)):((0,i.wg)(),(0,i.iD)("span",u,h))}};const m=v;var p=m},196:function(t,e,s){s.r(e),s.d(e,{default:function(){return d}});var i=s(73396),a=s(90466),n=s(58552),o=s(68180);const l={key:0,class:"to-top"},r=(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.6em",height:"1.6em",fill:"currentColor",class:"bi bi-arrow-up-short",viewBox:"0 0 16 16"},[(0,i._)("path",{"fill-rule":"evenodd",d:"M8 12a.5.5 0 0 0 .5-.5V5.707l2.146 2.147a.5.5 0 0 0 .708-.708l-3-3a.5.5 0 0 0-.708 0l-3 3a.5.5 0 1 0 .708.708L7.5 5.707V11.5a.5.5 0 0 0 .5.5z"})],-1);var c={__name:"ToTopBtn",setup(t){n.ZP.registerPlugin(o.Z);const e=(0,a.vO3)(window),s=(0,i.Fl)((()=>e.y.value>2*window.innerHeight));function c(){n.ZP.to(window,{duration:.2,scrollTo:{y:0}})}return(t,e)=>s.value?((0,i.wg)(),(0,i.iD)("div",l,[(0,i._)("button",{class:"btn custom-btn btn-sm",onClick:c},[r,(0,i.WI)(t.$slots,"default")])])):(0,i.kq)("",!0)}};const u=c;var d=u},34522:function(t,e,s){s.r(e),s.d(e,{default:function(){return p}});var i=s(73396),a=s(58552),n=s(44870);const o=t=>((0,i.dD)("data-v-57e4b332"),t=t(),(0,i.Cn)(),t),l={class:"compass"},r={class:"compass-inner"},c=o((()=>(0,i._)("div",{class:"arrow-up"},null,-1))),u=o((()=>(0,i._)("div",{class:"arrow-down"},null,-1))),d=[c,u];var h={__name:"CompassComponent",setup(t,{expose:e}){const s=(0,n.iH)(null);function o(t){a.p8.to(s.value,{rotate:t+"_short",duration:.3,overwrite:!0})}return e({rotate:o}),(t,e)=>((0,i.wg)(),(0,i.iD)("div",l,[(0,i._)("div",r,[(0,i._)("div",{class:"main-arrow",ref_key:"mainArrow",ref:s},d,512)])]))}},v=s(40089);const m=(0,v.Z)(h,[["__scopeId","data-v-57e4b332"]]);var p=m},57258:function(t,e,s){s.r(e),s.d(e,{default:function(){return y}});var i=s(73396),a=s(87139),n=s(44870),o=s(80806),l=s(6983),r=s(77198),c=s(90466),u=s(48240),d=s(5169),h=s(65543);const v=t=>((0,i.dD)("data-v-c796ed18"),t=t(),(0,i.Cn)(),t),m={class:"d-flex justify-content-center"},p=v((()=>(0,i._)("strong",{class:"me-auto"},"Filtrage de Lot",-1))),f={class:"toast-body"},_=v((()=>(0,i._)("hr",null,null,-1)));var g={__name:"FilterComponent",props:{showToast:{type:Boolean,default:!0}},emits:["onCloseToast","onSurfaceChanged","onStatusChanged"],setup(t,{emit:e}){const s=(0,u.useRegionsStore)(),v=(0,d.useAppDataStore)(),g=e,w=t,b=(0,n.iH)(null),y=(0,n.iH)(null),x=(0,n.iH)(null),{defaultFilters:S}=(0,h.Jk)(s),{surfaceMinMax:C}=(0,h.Jk)(v),H=(0,n.iH)(S.value.status);let k=null;const D=(0,n.iH)(!1),E=(0,n.qj)({min:C.value.min,max:C.value.max}),{style:O,position:L}=(0,c.O1d)(b,{exact:!1,handle:x,pointerTypes:["mouse","touch","pen"],onMove:t=>{const e=b.value,s=e.offsetWidth,i=e.offsetHeight,a=window.innerWidth,n=window.innerHeight;t.x<0&&(L.value.x=0),t.x>a-s&&(L.value.x=a-s),t.y<0&&(L.value.y=0),t.y>n-i&&(L.value.y=n-i)}});function z(){k=new o.FN(y.value),k.show(),M()}function M(){w.showToast?k.show():k.hide()}function P(){g("onCloseToast")}function I(t=E){E.min=t.min,E.max=t.max,D.value&&(E.min=t.min,E.max=t.max,g("onSurfaceChanged",E))}function T(t=S.value.status){D.value&&(H.value=t,g("onStatusChanged",H.value))}function U(){D.value=!0,I(),T()}return(0,c.i9H)(b,(()=>{P()})),(0,i.YP)((()=>w.showToast),(()=>{M()})),(0,i.bv)((()=>{z(),L.value.x=.5*window.innerWidth-.5*b.value.offsetWidth,L.value.y=.5*window.innerHeight-.5*b.value.offsetHeight,window.addEventListener("OnAppReady",U)})),(0,i.Ah)((()=>{window.removeEventListener("OnAppReady",U)})),(t,e)=>((0,i.wg)(),(0,i.iD)("div",{class:"filter position-fixed p-0",style:(0,a.j5)((0,n.SU)(O)),ref_key:"filterParent",ref:b},[(0,i._)("div",m,[(0,i._)("div",{id:"filter",class:"toast",role:"alert","aria-live":"assertive","aria-atomic":"true","data-bs-autohide":"false",ref_key:"filter",ref:y},[(0,i._)("div",{class:"toast-header",ref_key:"draggableCapture",ref:x},[p,(0,i._)("button",{type:"button",class:"btn-close btn-close-white",onClick:P})],512),(0,i._)("div",f,[(0,i.Wm)((0,n.SU)(l["default"]),{onOnSurfaceChanged:I,min:(0,n.SU)(C).min,max:(0,n.SU)(C).max,step:1,gap:10,"slider-delay":300},null,8,["min","max"]),_,(0,i.Wm)((0,n.SU)(r["default"]),{onOnStatusChanged:T})])],512)])],4))}},w=s(40089);const b=(0,w.Z)(g,[["__scopeId","data-v-c796ed18"]]);var y=b},65419:function(t,e,s){s.r(e),s.d(e,{default:function(){return tt}});var i=s(49242),a=s(73396),n=s(44870),o=s(87139),l=s(53507),r=s(90637),c=s(48240),u=s(5169),d=s(63091),h=s(65543);const v=t=>((0,a.dD)("data-v-35d8c34a"),t=t(),(0,a.Cn)(),t),m={class:"parent-hs-more container-fluid",ref:"hsDetailParent"},p={class:"hs-more-carousel hs-more col-lg-9 position-relative d-flex align-items-center"},f={class:"close-detail"},_=v((()=>(0,a._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"2.5em",height:"2.5em",fill:"currentColor",class:"bi bi-backspace",viewBox:"0 0 16 16"},[(0,a._)("path",{d:"M5.83 5.146a.5.5 0 0 0 0 .708L7.975 8l-2.147 2.146a.5.5 0 0 0 .707.708l2.147-2.147 2.146 2.147a.5.5 0 0 0 .707-.708L9.39 8l2.146-2.146a.5.5 0 0 0-.707-.708L8.683 7.293 6.536 5.146a.5.5 0 0 0-.707 0z"}),(0,a._)("path",{d:"M13.683 1a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7.08a2 2 0 0 1-1.519-.698L.241 8.65a1 1 0 0 1 0-1.302L5.084 1.7A2 2 0 0 1 6.603 1h7.08zm-7.08 1a1 1 0 0 0-.76.35L1 8l4.844 5.65a1 1 0 0 0 .759.35h7.08a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1h-7.08z"})],-1))),g=[_],w={class:"hs-more-infos hs-more col-lg-3 text-center d-flex flex-column justify-content-center justify-content-lg-start align-items-center"},b={class:"more-head w-100 mb-3"},y=v((()=>(0,a._)("div",{class:"row"},[(0,a._)("div",{class:"col-12 color-type"})],-1))),x={class:"more-title row align-items-center text-white py-3 text-uppercase"},S={class:"col-12 p-0"},C={class:"p-0 m-0"},H={class:"infos-list-container d-flex flex-column mb-3"},k={class:"content-title"},D=["innerHTML"],E=v((()=>(0,a._)("hr",{class:"my-3"},null,-1))),O={class:"container-fluid"},L={class:"row-dispo row align-items-center p-1 my-4"},z={class:"col-12"},M={class:"dispo-title"},P={class:"col-12"},I={class:"dispo p-2 m-0"},T={key:0,xmlns:"http://www.w3.org/2000/svg",width:"2em",height:"2em",fill:"currentColor",class:"bi bi-check-circle text-success",viewBox:"0 0 16 16"},U=v((()=>(0,a._)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"},null,-1))),A=v((()=>(0,a._)("path",{d:"M10.97 4.97a.235.235 0 0 0-.02.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05z"},null,-1))),F=[U,A],R={key:1,xmlns:"http://www.w3.org/2000/svg",width:"2em",height:"2em",fill:"currentColor",class:"bi bi-x-circle text-danger",viewBox:"0 0 16 16"},Z=v((()=>(0,a._)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"},null,-1))),j=v((()=>(0,a._)("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"},null,-1))),W=[Z,j],B={key:2,xmlns:"http://www.w3.org/2000/svg",width:"2em",height:"2em",fill:"currentColor",class:"bi bi-exclamation-circle text-warning",viewBox:"0 0 16 16"},$=v((()=>(0,a._)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"},null,-1))),V=v((()=>(0,a._)("path",{d:"M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0z"},null,-1))),Y=[$,V],X=v((()=>(0,a._)("hr",{class:"my-3 flex-grow-1"},null,-1))),q={class:"more-footer mb-3"},J=v((()=>(0,a._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"2.5em",height:"2.5em",fill:"currentColor",class:"bi bi-camera",viewBox:"0 0 16 16"},[(0,a._)("path",{d:"M15 12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h1.172a3 3 0 0 0 2.12-.879l.83-.828A1 1 0 0 1 6.827 3h2.344a1 1 0 0 1 .707.293l.828.828A3 3 0 0 0 12.828 5H14a1 1 0 0 1 1 1v6zM2 4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2h-1.172a2 2 0 0 1-1.414-.586l-.828-.828A2 2 0 0 0 9.172 2H6.828a2 2 0 0 0-1.414.586l-.828.828A2 2 0 0 1 3.172 4H2z"}),(0,a._)("path",{d:"M8 11a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5zm0 1a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7zM3 6.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0z"})],-1))),N=[J];var K={__name:"HotspotDetails",props:{canShow:{type:Boolean,default:!0}},emits:["onCloseDetails"],setup(t,{expose:e}){(0,i.sj)((t=>({"756a33f3":(0,n.SU)(U)})));const s=(0,c.useRegionsStore)(),v=(0,u.useAppDataStore)(),_=(0,d.useCaptureStore)(),{currentColor:U,currentRegion:A,AllInfo:Z,titleInfo:j,titleInfoSmall:$}=(0,h.Jk)(s),{currentOrbital:V}=(0,h.Jk)(v),J=(0,n.iH)(null),K=(0,n.iH)([{url:"",title:"Plan 3D",desc:""},{url:"",title:"Plan 2d",desc:""}]),G=()=>{const t=A.value.nom;K.value[0].url=`assets/images/lots/${V.value.id}/3d/${t}.jpg`,K.value[1].url=`assets/images/lots/${V.value.id}/2d/${t}.jpg`};function Q(t){(0,r.transitionEnter)(t)}function tt(t,e){(0,r.transitionLeave)(t,e)}return e({setImageSrc:G}),(e,s)=>((0,a.wg)(),(0,a.j4)(i.uT,{onEnter:Q,onLeave:tt,css:!1},{default:(0,a.w5)((()=>[(0,a.wy)((0,a._)("div",m,[(0,a._)("div",{class:"more-container row align-items-center",ref_key:"screenshot",ref:J},[(0,a._)("div",p,[(0,a.Wm)((0,n.SU)(l["default"]),{"items-data":K.value,"color-type":(0,n.SU)(U)},null,8,["items-data","color-type"]),(0,a._)("div",f,[(0,a._)("button",{class:"btn custom-btn btn-sm btn-style",onClick:s[0]||(s[0]=t=>e.$emit("onCloseDetails"))},g)])]),(0,a._)("div",w,[(0,a._)("div",b,[y,(0,a._)("div",x,[(0,a._)("div",S,[(0,a._)("p",C,[(0,a._)("b",null,(0,o.zw)((0,n.SU)(j)),1),(0,a.Uk)(),(0,a._)("sup",null,(0,o.zw)((0,n.SU)($)),1)])])])]),(0,a._)("div",H,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,n.SU)(Z),((t,e,s)=>((0,a.wg)(),(0,a.iD)("div",{class:"infos-list my-2",key:s},[(0,a._)("span",k,(0,o.zw)(e),1),(0,a._)("span",{class:"content-value",innerHTML:`${(0,n.SU)(A)[t.key]} ${t.suffixTxt}`},null,8,D)])))),128))]),E,(0,a._)("div",O,[(0,a._)("div",L,[(0,a._)("div",z,[(0,a._)("h3",M,(0,o.zw)((0,n.SU)(A).statut),1)]),(0,a._)("div",P,[(0,a._)("p",I,["Disponible"===(0,n.SU)(A).statut?((0,a.wg)(),(0,a.iD)("svg",T,F)):"Indisponible"===(0,n.SU)(A).statut?((0,a.wg)(),(0,a.iD)("svg",R,W)):((0,a.wg)(),(0,a.iD)("svg",B,Y))])])])]),X,(0,a._)("div",q,[(0,a._)("button",{class:"btn custom-btn btn-sm btn-style",type:"button",onClick:s[1]||(s[1]=t=>(0,n.SU)(_).takeScreen(J.value))},N)])])],512)],512),[[i.F8,t.canShow]])])),_:1}))}},G=s(40089);const Q=(0,G.Z)(K,[["__scopeId","data-v-35d8c34a"]]);var tt=Q},56797:function(t,e,s){s.r(e),s.d(e,{default:function(){return O}});var i=s(73396),a=s(44870),n=s(97907),o=s(18675),l=s(34522),r=s(57258),c=s(65419),u=s(46609),d=s(41698),h=s(99402),v=s(2359),m=s(90466),p=s(65543),f=s(48240),_=s(5169),g=s(63091);const w=t=>((0,i.dD)("data-v-77b30100"),t=t(),(0,i.Cn)(),t),b={class:"parent position-relative p-0 m-0 border border-0"},y={class:"s-f-menu d-flex flex-column"},x=w((()=>(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.5em",height:"1.5em",fill:"currentColor",class:"bi bi-camera",viewBox:"0 0 16 16"},[(0,i._)("path",{d:"M15 12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h1.172a3 3 0 0 0 2.12-.879l.83-.828A1 1 0 0 1 6.827 3h2.344a1 1 0 0 1 .707.293l.828.828A3 3 0 0 0 12.828 5H14a1 1 0 0 1 1 1v6zM2 4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2h-1.172a2 2 0 0 1-1.414-.586l-.828-.828A2 2 0 0 0 9.172 2H6.828a2 2 0 0 0-1.414.586l-.828.828A2 2 0 0 1 3.172 4H2z"}),(0,i._)("path",{d:"M8 11a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5zm0 1a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7zM3 6.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0z"})],-1))),S=[x],C=w((()=>(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.3em",height:"1.3em",fill:"currentColor",class:"bi bi-arrows-fullscreen",viewBox:"0 0 16 16"},[(0,i._)("path",{"fill-rule":"evenodd",d:"M5.828 10.172a.5.5 0 0 0-.707 0l-4.096 4.096V11.5a.5.5 0 0 0-1 0v3.975a.5.5 0 0 0 .5.5H4.5a.5.5 0 0 0 0-1H1.732l4.096-4.096a.5.5 0 0 0 0-.707zm4.344 0a.5.5 0 0 1 .707 0l4.096 4.096V11.5a.5.5 0 1 1 1 0v3.975a.5.5 0 0 1-.5.5H11.5a.5.5 0 0 1 0-1h2.768l-4.096-4.096a.5.5 0 0 1 0-.707zm0-4.344a.5.5 0 0 0 .707 0l4.096-4.096V4.5a.5.5 0 1 0 1 0V.525a.5.5 0 0 0-.5-.5H11.5a.5.5 0 0 0 0 1h2.768l-4.096 4.096a.5.5 0 0 0 0 .707zm-4.344 0a.5.5 0 0 1-.707 0L1.025 1.732V4.5a.5.5 0 0 1-1 0V.525a.5.5 0 0 1 .5-.5H4.5a.5.5 0 0 1 0 1H1.732l4.096 4.096a.5.5 0 0 1 0 .707z"})],-1))),H=[C];var k={__name:"OrbitalComponent",emits:["onHSHover","onHSOut","onHSClick"],setup(t,{emit:e}){const s=e,{toggle:w}=(0,m.O9U)(),x=(0,g.useCaptureStore)(),C=(0,f.useRegionsStore)(),k=(0,_.useAppDataStore)(),{regions:D,isError:E}=(0,p.Jk)(C),{currentOrbital:O,currentUID:L,orbitalConfig:z}=(0,p.Jk)(k),M=(0,a.iH)(z.value.hotspots.default_filters),P=(0,a.iH)(null),I=(0,a.iH)(null),T=(0,a.iH)(!0),U=(0,a.iH)(!1),A=(0,a.iH)(),F=(0,a.iH)(!1),R=(0,a.iH)({}),Z=(0,a.iH)(1),j=(0,a.iH)({}),W=(0,a.iH)("#cccccc"),B=(0,a.iH)(0),$=(0,a.iH)(0),V=(0,i.Fl)((()=>Math.min(Math.max(parseInt($.value),0),Z.value-1))),Y=(0,a.iH)(void 0);function X(){C.fetchRegions().then((()=>{if(E.value)return U.value=!0,void(T.value=!1);q()}))}function q(){k.fetchHSConfig().then((t=>{A.value=new n.Orbital("orbital",z.value,D.value),A.value.init(t);const e=z.value.params;Z.value=e.animationsCount,$.value=e.animStart,j.value=z.value.hotspots.color_types,St()}))}function J(t){A.value.setLevel(t)}function N(t){if(t)return A.value.playOrbital();A.value.stopOrbital()}function K(t){window.clearInterval(Y.value),t?A.value.prev():A.value.next(),ut(),Y.value=window.setInterval((()=>{t?A.value.prev():A.value.next(),ut()}),100)}function G(t){window.clearInterval(Y.value),A.value.setZoom(t),Y.value=window.setInterval((()=>A.value.setZoom(t)),30)}const Q=(0,a.iH)(!1);function tt(){window.clearInterval(Y.value)}function et(){Q.value=!0}function st(){Q.value=!1}function it(t){A.value.filterHSByPrice(t)}function at(t){A.value.filterHSByTypes(t)}function nt(t){A.value.filterHSByStatus(t)}const ot=(0,a.iH)(null),lt=(0,a.iH)(0),rt=(0,a.iH)(z.value.params.northAngle);function ct(){const t=z.value.params.framesCount,e=t;lt.value=Math.round(360/e)}function ut(){const t=A.value.getCurrentFrame(),e=rt.value+lt.value*t;ot.value.rotate(e)}function dt(){T.value=!1,ct(),ut();const t=A.value.getEventsCanvas();t.addEventListener("OnDrag",pt)}function ht(){ut()}function vt(){U.value=!0}function mt(){B.value=A.value.getPercentLoaded()}function pt(){ut()}const ft=(0,a.iH)(!1),_t=(0,a.qj)({x:0,y:0}),gt=(0,a.iH)({});function wt(t){const e=t.detail,i=e.region;void 0!==i&&(O.value.isOrbitalSelection?s("onHSClick",i[L.value]):(R.value=i,C.setRegion(i[L.value]),I.value.setImageSrc(),F.value=!0))}function bt(t){const e=t.detail,i=e.region;if(void 0===i||!Object.keys(D.value).length)return;const a=t.detail.mousePos;ft.value=!0,_t.x=a.x,_t.y=a.y;const n=D.value[i.name];if(gt.value===n)return;gt.value=n;const o=n.type;W.value=j.value[o],R.value=n,C.setRegion(i.name),s("onHSHover",i.name)}function yt(){ft.value=!1}function xt(){U.value=!1,B.value=0,X()}function St(){window.addEventListener("OnLoadingChange",mt),window.addEventListener("OnUpdateTimeline",ht),window.addEventListener("OnError",vt),window.addEventListener("OnAppReady",dt),window.addEventListener("OnHSClick",wt),window.addEventListener("OnHSHover",bt),window.addEventListener("OnHSHoverOut",yt)}function Ct(){window.removeEventListener("OnLoadingChange",mt),window.removeEventListener("OnUpdateTimeline",ht),window.removeEventListener("OnError",vt),window.removeEventListener("OnAppReady",dt),window.removeEventListener("OnHSClick",wt),window.removeEventListener("OnHSHover",bt),window.removeEventListener("OnHSHoverOut",yt)}return(0,i.bv)((()=>{X()})),(0,i.Ah)((()=>{Ct(),A.value&&A.value.unmountOrbital()})),(t,e)=>((0,i.wg)(),(0,i.iD)("div",b,[(0,i.Wm)((0,a.SU)(v["default"])),(0,i.Wm)((0,a.SU)(o["default"])),(0,i.Wm)(u["default"],{"is-error":U.value,show:T.value,"percent-loaded":B.value,onOnRefresh:xt},null,8,["is-error","show","percent-loaded"]),(0,i.Wm)((0,a.SU)(c["default"]),{canShow:F.value,onOnCloseDetails:e[0]||(e[0]=t=>F.value=!1),ref_key:"detailsComponent",ref:I},null,8,["canShow"]),(0,i.Wm)((0,a.SU)(d["default"]),{"stage-count":Z.value,"starting-at":V.value,onOnPlay:N,onOnStep:K,onOnStepEnd:tt,onOnSetLevel:J,onOnShowFilter:et,onOnZoom:G,onOnZoomEnd:tt},null,8,["stage-count","starting-at"]),(0,i._)("div",{class:"orbital-canvas full-width full-height",id:"orbital",ref_key:"screenshot",ref:P},[(0,i.Wm)((0,a.SU)(l["default"]),{ref_key:"compass",ref:ot},null,512),(0,i.Wm)((0,a.SU)(h["default"]),{"show-popover":ft.value,positions:_t},null,8,["show-popover","positions"])],512),(0,i.Wm)((0,a.SU)(r["default"]),{"default-filters":M.value,"show-toast":Q.value,onOnCloseToast:st,onOnSurfaceChanged:it,onOnTypesChanged:at,onOnStatusChanged:nt},null,8,["default-filters","show-toast"]),(0,i._)("div",y,[(0,i._)("button",{class:"btn custom-btn btn-sm btn-style capture-btn",type:"button",onClick:e[1]||(e[1]=t=>(0,a.SU)(x).takeScreen(P.value))},S),(0,i._)("button",{class:"btn custom-btn btn-sm btn-style fullscreen-btn",type:"button",onClick:e[2]||(e[2]=(...t)=>(0,a.SU)(w)&&(0,a.SU)(w)(...t))},H)])]))}},D=s(40089);const E=(0,D.Z)(k,[["__scopeId","data-v-77b30100"]]);var O=E},46609:function(t,e,s){s.r(e),s.d(e,{default:function(){return f}});var i=s(49242),a=s(73396),n=s(87139),o=s(44870),l=s(5169),r=s(65543),c=s(58552);const u={key:0,class:"h-100 d-flex flex-column justify-content-center align-items-center"},d=["aria-valuenow"],h={class:"text-center"};var v={__name:"OrbitalLoader",props:{title:{type:String,default:"Orbital"},show:{type:Boolean,default:!0},percentLoaded:{type:Number,default:0},isError:{type:Boolean,default:!1}},emits:["onRefresh"],setup(t){(0,i.sj)((t=>({"7760fffb":b.value})));const e=(0,l.useAppDataStore)(),{currentOrbital:s}=(0,r.Jk)(e),v=t,m=(0,o.iH)(null),p=(0,o.iH)(null),f=(0,o.iH)(null),_=(0,o.iH)(null),g=(0,o.iH)(!0),w=(0,o.iH)(!1);(0,a.m0)((()=>{v.show||w.value||y()}));const b=(0,a.Fl)((()=>v.percentLoaded+"%"));function y(){c.p8.to(m.value,{width:0,duration:1.5,delay:.8,ease:"expo.inOut()"}),c.p8.to(p.value,{y:10,opacity:0,duration:.7,delay:.5,ease:"expo.inOut()"}),c.p8.to(f.value,{y:-10,opacity:0,duration:.7,delay:.5,ease:"expo.inOut()"}),c.p8.to(_.value,{x:-window.outerWidth,opacity:.9,duration:1.5,delay:1.85,ease:"expo.inOut()",onComplete:()=>{c.p8.set(_.value,{x:"-100%",opacity:1}),g.value=!1,w.value=!0}})}return(e,i)=>g.value?((0,a.wg)(),(0,a.iD)("div",{key:0,class:"orital-loader position-fixed",ref_key:"loaderParent",ref:_},[t.isError?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",u,[(0,a._)("p",{class:"loading-txt",ref_key:"loadingTxt",ref:p},"Loading "+(0,n.zw)((0,o.SU)(s).title),513),(0,a._)("div",{class:"progress",ref_key:"progress",ref:m},[(0,a._)("div",{class:"progress-bar",role:"progressbar","aria-label":"range-loading","aria-valuenow":t.percentLoaded,"aria-valuemin":"0","aria-valuemax":"100"},null,8,d)],512),(0,a._)("div",h,[(0,a._)("p",{class:"percentage",ref_key:"percentage",ref:f},(0,n.zw)(t.percentLoaded)+"%",513)])]))],512)):(0,a.kq)("",!0)}},m=s(40089);const p=(0,m.Z)(v,[["__scopeId","data-v-7ca7d423"]]);var f=p},41698:function(t,e,s){s.r(e),s.d(e,{default:function(){return N}});var i=s(73396),a=s(49242),n=s(44870),o=s(58552),l=s(5169),r=s(65543);const c=t=>((0,i.dD)("data-v-797e5b48"),t=t(),(0,i.Cn)(),t),u={class:"sidebar-parent"},d=c((()=>(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.5em",height:"1.5em",fill:"currentColor",class:"bi bi-list",viewBox:"0 0 16 16"},[(0,i._)("path",{"fill-rule":"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"})],-1))),h={class:"sidebar-body p-1 d-flex flex-row justify-content-between align-items-center"},v=c((()=>(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-x-lg",viewBox:"0 0 16 16"},[(0,i._)("path",{d:"M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"})],-1))),m=[v],p=c((()=>(0,i._)("div",{class:"vr"},null,-1))),f={class:"sidebar-menu d-flex align-items-center"},_={class:"sidebar-item"},g=c((()=>(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.3em",height:"1.3em",fill:"currentColor",class:"bi bi-arrow-counterclockwise",viewBox:"0 0 16 16"},[(0,i._)("path",{"fill-rule":"evenodd",d:"M8 3a5 5 0 1 1-4.546 2.914.5.5 0 0 0-.908-.417A6 6 0 1 0 8 2v1z"}),(0,i._)("path",{d:"M8 4.466V.534a.25.25 0 0 0-.41-.192L5.23 2.308a.25.25 0 0 0 0 .384l2.36 1.966A.25.25 0 0 0 8 4.466z"})],-1))),w=[g],b={class:"sidebar-item"},y=c((()=>(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.3em",height:"1.3em",fill:"currentColor",class:"bi bi-play-circle",viewBox:"0 0 16 16"},[(0,i._)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),(0,i._)("path",{d:"M6.271 5.055a.5.5 0 0 1 .52.038l3.5 2.5a.5.5 0 0 1 0 .814l-3.5 2.5A.5.5 0 0 1 6 10.5v-5a.5.5 0 0 1 .271-.445z"})],-1))),x=[y],S={class:"sidebar-item"},C=c((()=>(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.3em",height:"1.3em",fill:"currentColor",class:"bi bi-stop-circle",viewBox:"0 0 16 16"},[(0,i._)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),(0,i._)("path",{d:"M5 6.5A1.5 1.5 0 0 1 6.5 5h3A1.5 1.5 0 0 1 11 6.5v3A1.5 1.5 0 0 1 9.5 11h-3A1.5 1.5 0 0 1 5 9.5v-3z"})],-1))),H=[C],k={class:"sidebar-item"},D=c((()=>(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.3em",height:"1.3em",fill:"currentColor",class:"bi bi-arrow-clockwise",viewBox:"0 0 16 16"},[(0,i._)("path",{"fill-rule":"evenodd",d:"M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2v1z"}),(0,i._)("path",{d:"M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466z"})],-1))),E=[D],O={class:"sidebar-item"},L=c((()=>(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.3em",height:"1.3em",fill:"currentColor",class:"bi bi-zoom-in",viewBox:"0 0 16 16"},[(0,i._)("path",{"fill-rule":"evenodd",d:"M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z"}),(0,i._)("path",{d:"M10.344 11.742c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1 6.538 6.538 0 0 1-1.398 1.4z"}),(0,i._)("path",{"fill-rule":"evenodd",d:"M6.5 3a.5.5 0 0 1 .5.5V6h2.5a.5.5 0 0 1 0 1H7v2.5a.5.5 0 0 1-1 0V7H3.5a.5.5 0 0 1 0-1H6V3.5a.5.5 0 0 1 .5-.5z"})],-1))),z=[L],M={class:"sidebar-item"},P=c((()=>(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.3em",height:"1.3em",fill:"currentColor",class:"bi bi-zoom-out",viewBox:"0 0 16 16"},[(0,i._)("path",{"fill-rule":"evenodd",d:"M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z"}),(0,i._)("path",{d:"M10.344 11.742c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1 6.538 6.538 0 0 1-1.398 1.4z"}),(0,i._)("path",{"fill-rule":"evenodd",d:"M3 6.5a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5z"})],-1))),I=[P],T={key:0,class:"vr"},U={key:1,class:"sidebar-menu align-self-start align-self-sm-center overflow-auto"},A={class:"d-flex align-items-center"},F={class:"sidebar-item"},R=c((()=>(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.5em",height:"1.5em",fill:"currentColor",class:"bi bi-headset-vr",viewBox:"0 0 16 16"},[(0,i._)("path",{d:"M8 1.248c1.857 0 3.526.641 4.65 1.794a4.978 4.978 0 0 1 2.518 1.09C13.907 1.482 11.295 0 8 0 4.75 0 2.12 1.48.844 4.122a4.979 4.979 0 0 1 2.289-1.047C4.236 1.872 5.974 1.248 8 1.248"}),(0,i._)("path",{d:"M12 12a3.988 3.988 0 0 1-2.786-1.13l-.002-.002a1.612 1.612 0 0 0-.276-.167A2.164 2.164 0 0 0 8 10.5c-.414 0-.729.103-.935.201a1.612 1.612 0 0 0-.277.167l-.002.002A4 4 0 1 1 4 4h8a4 4 0 0 1 0 8"})],-1))),Z=c((()=>(0,i._)("small",{class:"px-2"},"Visite virtuelle",-1))),j={key:2,class:"vr"},W={key:3,class:"sidebar-menu"},B={class:"sidebar-item"},$=c((()=>(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",class:"bi bi-sliders",viewBox:"0 0 16 16"},[(0,i._)("path",{"fill-rule":"evenodd",d:"M11.5 2a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM9.05 3a2.5 2.5 0 0 1 4.9 0H16v1h-2.05a2.5 2.5 0 0 1-4.9 0H0V3h9.05zM4.5 7a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM2.05 8a2.5 2.5 0 0 1 4.9 0H16v1H6.95a2.5 2.5 0 0 1-4.9 0H0V8h2.05zm9.45 4a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zm-2.45 1a2.5 2.5 0 0 1 4.9 0H16v1h-2.05a2.5 2.5 0 0 1-4.9 0H0v-1h9.05z"})],-1))),V=c((()=>(0,i._)("small",null,"Filtre",-1))),Y=[$,V];var X={__name:"OrbitalMenu",props:{stageCount:{type:Number,validator(t){return t>0},default:1},startingAt:{type:Number,default:0},stagePrefix:{type:String,default:"R"}},emits:["onSetLevel","onPlay","onStep","onStepEnd","onShowFilter","onZoom","onZoomEnd"],setup(t){const e=(0,l.useAppDataStore)(),{hsParams:s,currentOrbital:c}=(0,r.Jk)(e),v=(0,n.iH)(!1),g=(0,n.iH)(null),y=(0,n.iH)(null);function C(){v.value=!0,o.p8.set(y.value,{autoAlpha:0,y:"100%"}),o.p8.to(y.value,{autoAlpha:1,y:0,duration:.3})}function D(){o.p8.set(g.value,{scale:0,autoAlpha:0}),o.p8.to(y.value,{autoAlpha:0,y:"100%",duration:.3,onComplete:()=>{v.value=!1}}),o.p8.to(g.value,{scale:1,autoAlpha:1,duration:.3,delay:.3,ease:"back.out(3)"})}return(t,e)=>{const o=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",u,[((0,i.wg)(),(0,i.j4)(i.lR,{to:"#app"},[(0,i.wy)((0,i._)("button",{class:"side-menu-toggler btn custom-btn",type:"button",onClick:C,ref_key:"showBtn",ref:g},[d,(0,i.Uk)(" Menu ")],512),[[a.F8,!v.value]])])),(0,i.wy)((0,i._)("div",{class:"sidebar show border-0 rounded",ref_key:"sidebar",ref:y},[(0,i._)("div",h,[(0,i._)("ul",{class:"sidebar-menu p-0 close-menu"},[(0,i._)("li",{class:"sidebar-item"},[(0,i._)("button",{type:"button",class:"btn custom-btn btn-sm",onClick:D},m)])]),p,(0,i._)("ul",f,[(0,i._)("li",_,[(0,i._)("button",{class:"btn custom-btn btn-sm",onMousedown:e[0]||(e[0]=e=>t.$emit("onStep",!0)),onMouseup:e[1]||(e[1]=e=>t.$emit("onStepEnd")),onTouchstart:e[2]||(e[2]=(0,a.iM)((e=>t.$emit("onStep",!0)),["prevent"])),onTouchend:e[3]||(e[3]=e=>t.$emit("onStepEnd"))},w,32)]),(0,i._)("li",b,[(0,i._)("button",{class:"btn custom-btn btn-sm",onClick:e[4]||(e[4]=e=>t.$emit("onPlay",!0))},x)]),(0,i._)("li",S,[(0,i._)("button",{class:"btn custom-btn btn-sm",onClick:e[5]||(e[5]=e=>t.$emit("onPlay",!1))},H)]),(0,i._)("li",k,[(0,i._)("button",{class:"btn custom-btn btn-sm",onMousedown:e[6]||(e[6]=e=>t.$emit("onStep",!1)),onMouseup:e[7]||(e[7]=e=>t.$emit("onStepEnd")),onTouchstart:e[8]||(e[8]=(0,a.iM)((e=>t.$emit("onStep",!1)),["prevent"])),onTouchend:e[9]||(e[9]=e=>t.$emit("onStepEnd"))},E,32)]),(0,i._)("li",O,[(0,i._)("button",{class:"btn custom-btn btn-sm",onMousedown:e[10]||(e[10]=e=>t.$emit("onZoom",!0)),onMouseup:e[11]||(e[11]=e=>t.$emit("onZoomEnd")),onTouchstart:e[12]||(e[12]=(0,a.iM)((e=>t.$emit("onZoom",!0)),["prevent"])),onTouchend:e[13]||(e[13]=e=>t.$emit("onZoomEnd")),onContextmenu:e[14]||(e[14]=(0,a.iM)((()=>{}),["prevent"]))},z,32)]),(0,i._)("li",M,[(0,i._)("button",{class:"btn custom-btn btn-sm",onMousedown:e[15]||(e[15]=e=>t.$emit("onZoom",!1)),onMouseup:e[16]||(e[16]=e=>t.$emit("onZoomEnd")),onTouchstart:e[17]||(e[17]=(0,a.iM)((e=>t.$emit("onZoom",!1)),["prevent"])),onTouchend:e[18]||(e[18]=e=>t.$emit("onZoomEnd")),onContextmenu:e[19]||(e[19]=(0,a.iM)((()=>{}),["prevent"]))},I,32)])]),(0,n.SU)(c).isOrbitalSelection?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",T)),(0,n.SU)(c).isOrbitalSelection?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("ul",U,[(0,i._)("div",A,[(0,i._)("li",F,[(0,i.Wm)(o,{to:`/visite-virtuelles${(0,n.SU)(c).url}`,class:"vr-link btn custom-btn btn-sm"},{default:(0,i.w5)((()=>[R,Z])),_:1},8,["to"])])])])),(0,n.SU)(s).useHotspots?((0,i.wg)(),(0,i.iD)("div",j)):(0,i.kq)("",!0),(0,n.SU)(s).useHotspots?((0,i.wg)(),(0,i.iD)("ul",W,[(0,i._)("li",B,[(0,i._)("button",{class:"btn custom-btn filter-btn",onClick:e[20]||(e[20]=e=>t.$emit("onShowFilter"))},Y)])])):(0,i.kq)("",!0)])],512),[[a.F8,v.value]])])}}},q=s(40089);const J=(0,q.Z)(X,[["__scopeId","data-v-797e5b48"]]);var N=J},99402:function(t,e,s){s.r(e),s.d(e,{default:function(){return E}});var i=s(49242),a=s(73396),n=s(44870),o=s(87139),l=s(15668),r=s(48519),c=s(48240),u=s(65543);const d=t=>((0,a.dD)("data-v-772777d9"),t=t(),(0,a.Cn)(),t),h={class:"card shadow border border-0"},v={class:"card-header p-0 overflow-hidden"},m=d((()=>(0,a._)("div",{class:"color-type"},null,-1))),p={class:"container-fluid"},f={class:"header-bg row align-items-center"},_={class:"col-12 p-0"},g={class:"ms-1"},w={class:"card-body"},b={class:"container-fluid px-0"},y={class:"col-6"},x={class:"col-6"},S=["innerHTML"],C={class:"card-footer bg-transparent"};var H={__name:"PopoverComponent",props:{showPopover:{type:Boolean,default:!1},positions:{type:Object}},setup(t){(0,i.sj)((t=>({"9cd2cd8c":(0,n.SU)(d)})));const e=(0,c.useRegionsStore)(),s=t,{currentColor:d,currentRegion:H,HSHoverInfo:k,titleInfo:D,titleInfoSmall:E}=(0,u.Jk)(e);let O=null,L=null;const z=(0,n.iH)(null);function M(){L={getBoundingClientRect:I()},O=(0,r.fi)(L,z.value,{placement:"top",modifiers:[{name:"offset",options:{offset:({placement:t})=>"bottom"===t||"top"===t?[0,30]:[]}}]})}function P(t,e){L.getBoundingClientRect=I(t,e),O.update()}function I(t=0,e=0){return()=>({width:0,height:0,top:e,right:t,bottom:e,left:t})}return(0,a.YP)(s.positions,(()=>{P(s.positions.x,s.positions.y)})),(0,a.bv)((()=>{M()})),(0,a.Ah)((()=>{O.destroy()})),(e,s)=>(0,a.wy)(((0,a.wg)(),(0,a.iD)("div",{class:"position-absolute popper",ref_key:"popper",ref:z},[(0,a._)("div",h,[(0,a._)("div",v,[m,(0,a._)("div",p,[(0,a._)("div",f,[(0,a._)("div",_,[(0,a._)("p",null,[(0,a._)("b",null,(0,o.zw)((0,n.SU)(D)),1),(0,a._)("sup",g,(0,o.zw)((0,n.SU)(E)),1)])])])])]),(0,a._)("div",w,[(0,a._)("div",b,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,n.SU)(k),((t,e,s)=>((0,a.wg)(),(0,a.iD)("div",{key:s,class:"row align-items-center p-1"},[(0,a._)("div",y,[(0,a._)("span",null,(0,o.zw)(e),1)]),(0,a._)("div",x,[(0,a._)("p",{innerHTML:`${(0,n.SU)(H)[t.key]} ${t.suffixTxt}`},null,8,S)])])))),128))])]),(0,a._)("div",C,[(0,a._)("span",null,(0,o.zw)((0,n.SU)(H).statut),1),(0,a.Wm)((0,n.SU)(l["default"]),{status:(0,n.SU)(H).statut},null,8,["status"])])])],512)),[[i.F8,t.showPopover]])}},k=s(40089);const D=(0,k.Z)(H,[["__scopeId","data-v-772777d9"]]);var E=D},70583:function(t,e,s){s.r(e),s.d(e,{default:function(){return M}});var i=s(49242),a=s(73396),n=s(87139),o=s(44870),l=s(73909),r=s(71580),c=s(48240),u=s(5169),d=s(65543);const h=t=>((0,a.dD)("data-v-2c7e1dc3"),t=t(),(0,a.Cn)(),t),v={class:"card-parent shadow-sm"},m={class:"card-head w-100 mb-2"},p={class:"container-fluid"},f=h((()=>(0,a._)("div",{class:"row"},[(0,a._)("div",{class:"col-12 color-type"})],-1))),_={class:"row card-title text-center align-items-center text-white py-2 text-uppercase py-3"},g={class:"col-12 p-0"},w={class:"p-0 m-0"},b={class:"container-fluid"},y={class:"row"},x={class:"card-image d-flex align-items-center p-1"},S=h((()=>(0,a._)("hr",null,null,-1))),C={class:"container-fluid"},H={class:"col-5 content-title p-2"},k={class:"col-7 content-value"},D=["innerHTML"],E=h((()=>(0,a._)("hr",null,null,-1)));var O={__name:"CardSearch",props:{cardInfo:Object,typesColors:Object,isAdmin:{type:Boolean,default:!1}},setup(t){(0,i.sj)((t=>({"6983645e":M.value})));const e=(0,c.useRegionsStore)(),{AllInfo:s,titleInfoScheme:h}=(0,d.Jk)(e),O=(0,u.useAppDataStore)(),{currentOrbital:L}=(0,d.Jk)(O),z=t,M=(0,a.Fl)((()=>{const t=z.typesColors,e=z.cardInfo.type;return t[e]||"#cecece"})),P=(0,a.Fl)((()=>`assets/images/lots/${L.value.id}/3d/${z.cardInfo.nom}.jpg`)),I=(0,a.Fl)((()=>{const t=z.cardInfo[h.value.normal],e=t<=9?"0":"";return e+t})),T=(0,a.Fl)((()=>{const t=z.cardInfo[h.value.small],e=t<=9?"0":"";return e+t}));return(e,i)=>((0,a.wg)(),(0,a.iD)("div",v,[(0,a._)("div",m,[(0,a._)("div",p,[f,(0,a._)("div",_,[(0,a._)("div",g,[(0,a._)("p",w,[(0,a._)("b",null,"Appt-"+(0,n.zw)(I.value),1),(0,a.Uk)(),(0,a._)("sup",null,"Bloc-"+(0,n.zw)(T.value),1)])])])])]),(0,a._)("div",b,[(0,a._)("div",y,[(0,a._)("div",x,[(0,a.Wm)((0,o.SU)(l["default"]),{src:P.value},null,8,["src"])])])]),S,(0,a._)("div",C,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,o.SU)(s),((e,s,i)=>((0,a.wg)(),(0,a.iD)("div",{class:"card-content row align-items-center",key:i},[(0,a._)("div",H,[(0,a._)("span",null,(0,n.zw)(s),1)]),(0,a._)("div",k,[(0,a._)("span",{innerHTML:`${t.cardInfo[e.key]} ${e.suffixTxt}`},null,8,D)])])))),128))]),E,(0,a.Wm)((0,o.SU)(r["default"]),{"card-info":t.cardInfo,"color-type":M.value,"is-admin":t.isAdmin},null,8,["card-info","color-type","is-admin"])]))}},L=s(40089);const z=(0,L.Z)(O,[["__scopeId","data-v-2c7e1dc3"]]);var M=z},20310:function(t,e,s){s.r(e),s.d(e,{default:function(){return f}});var i=s(73396),a=s(87139),n=s(49242),o=s(44870),l=s(5169),r=s(65543);const c=t=>((0,i.dD)("data-v-6df86c80"),t=t(),(0,i.Cn)(),t),u={class:"FBO"},d=c((()=>(0,i._)("div",{class:"filters-title mb-3"},[(0,i._)("span",null,"Par Villa")],-1))),h=["value"];var v={__name:"FilterByOrbital",emits:["onOrbitalSelect"],setup(t,{emit:e}){const s=e,c=(0,l.useAppDataStore)(),{availableOrbitals:v,currentOrbital:m}=(0,r.Jk)(c),p=(0,o.iH)(m.value.id),f=(0,i.Fl)((()=>{const t=Object.entries(v.value).filter((t=>!t[1].isOrbitalSelection));return Object.fromEntries(t)}));return(0,i.YP)(p,(()=>{s("onOrbitalSelect",p.value)})),(t,e)=>((0,i.wg)(),(0,i.iD)("div",u,[d,(0,i._)("div",null,[(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>p.value=t),class:"custom-select form-select form-select-sm","aria-label":".form-select-sm select-orbital",id:"filtreOrbital"},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(f.value,((t,e,s)=>((0,i.wg)(),(0,i.iD)("option",{key:s,value:e},(0,a.zw)(t.title),9,h)))),128))],512),[[n.bM,p.value]])])]))}},m=s(40089);const p=(0,m.Z)(v,[["__scopeId","data-v-6df86c80"]]);var f=p},83745:function(t,e,s){s.r(e),s.d(e,{default:function(){return S}});s(70560);var i=s(73396),a=s(44870),n=s(70583),o=s(90466),l=s(48240),r=s(5169),c=s(65543);const u=t=>((0,i.dD)("data-v-a5a9470a"),t=t(),(0,i.Cn)(),t),d={class:"list-cards"},h={class:"container-fluid"},v={class:"row justify-content-left"},m={key:0,class:"no-search row text-center"},p=(0,i.uE)('<div class="col" data-v-a5a9470a><p class="title py-5 m-0" data-v-a5a9470a>Aucun resultat</p><div class="icon py-3" data-v-a5a9470a><svg xmlns="http://www.w3.org/2000/svg" width="8em" height="8em" fill="currentColor" class="bi bi-exclamation-square-fill" viewBox="0 0 16 16" data-v-a5a9470a><path d="M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm6 4c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995A.905.905 0 0 1 8 4zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z" data-v-a5a9470a></path></svg></div></div>',1),f=[p],_={key:1},g=u((()=>(0,i._)("div",{class:"d-flex justify-content-center"},[(0,i._)("div",{class:"spinner-grow spinner",role:"status"},[(0,i._)("span",{class:"visually-hidden"},"Loading...")])],-1))),w=[g];var b={__name:"ListCards",props:{fetchBy:{type:Number,default:6},showAdmin:{type:Boolean,default:!1}},setup(t){const e=(0,l.useRegionsStore)(),s=(0,r.useAppDataStore)(),u=t,{filteredRegions:p}=(0,c.Jk)(e),{colorTypes:g}=(0,c.Jk)(s),b=(0,a.iH)(u.fetchBy),y=(0,a.iH)(null),x=(0,a.iH)({}),S=(0,a.iH)(!1);function C(){const t=Object.entries(x.value).length;return Object.entries(p.value).slice(t,t+b.value)}return(0,o.S1d)(y,(([{isIntersecting:t}])=>{const e=Object.keys(x.value).length;if(t){const t=Object.entries(x.value);t.push(...C()),x.value=Object.fromEntries(t)}(e>=Object.keys(p.value).length||e<=0)&&(S.value=!1)}),{threshold:.1}),(0,i.YP)(p,(()=>{x.value=Object.fromEntries(Object.entries(p.value).slice(0,b.value)),S.value=!0})),(e,s)=>((0,i.wg)(),(0,i.iD)("div",d,[(0,i._)("div",h,[(0,i._)("div",v,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(x.value,((e,s,o)=>((0,i.wg)(),(0,i.iD)("div",{class:"col-sm-6 col-md-6 col-lg-4 mb-4",key:o},[(0,i.Wm)(n["default"],{"card-info":e,"types-colors":(0,a.SU)(g),"is-admin":t.showAdmin},null,8,["card-info","types-colors","is-admin"])])))),128))]),0===Object.keys(x.value).length?((0,i.wg)(),(0,i.iD)("div",m,f)):(0,i.kq)("",!0)]),S.value?((0,i.wg)(),(0,i.iD)("span",{key:0,ref_key:"infiniteElem",ref:y},null,512)):(0,i.kq)("",!0),S.value?((0,i.wg)(),(0,i.iD)("div",_,w)):(0,i.kq)("",!0)]))}},y=s(40089);const x=(0,y.Z)(b,[["__scopeId","data-v-a5a9470a"]]);var S=x},6983:function(t,e,s){s.r(e),s.d(e,{default:function(){return H}});var i=s(73396),a=s(49242),n=s(44870),o=s(73738),l=s.n(o);const r=t=>((0,i.dD)("data-v-22bb3bba"),t=t(),(0,i.Cn)(),t),c={class:"slider-parent"},u={class:"slider"},d=r((()=>(0,i._)("div",{class:"filters-title"},[(0,i._)("span",null,"Surface en M²")],-1))),h={class:"position-relative ranges"},v=["max","min","step","value"],m=["max","min","step","value"],p={class:"range-info d-flex justify-content-between align-items-center my-4"},f={class:"form-floating mx-4 mx-sm-1"},_=["value"],g=r((()=>(0,i._)("label",{for:"min-input"},"min",-1))),w={class:"form-floating mx-4 mx-sm-1"},b=["value"],y=r((()=>(0,i._)("label",{for:"max-input"},"max",-1)));var x={__name:"SliderFilter",props:{min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},gap:{type:Number,default:10},sliderColor:{type:String,default:"#cecece"},rangeColor:{type:String,default:"#21af4f"},sliderDelay:{type:Number,default:1e3},inputsDelay:{type:Number,default:800}},emits:["onSurfaceChanged"],setup(t,{emit:e}){const s=e,o=t,r=(0,n.iH)(o.min),x=(0,n.iH)(o.max),S=(0,n.qj)({min:r.value,max:x.value}),C=(0,n.iH)(null);function H(){r.value=S.min=o.min,x.value=S.max=o.max,k(r.value,x.value)}function k(t,e){if(!C.value)return;const s=o.max-o.min,i=t-o.min,a=e-o.min,n=o.sliderColor,l=o.rangeColor;C.value.style.background=`linear-gradient(\n        to right,\n        ${n} 0%,\n        ${n} ${i/s*100}%,\n        ${l} ${i/s*100}%,\n        ${l} ${a/s*100}%, \n        ${n} ${a/s*100}%, \n        ${n} 100%)`}function D(t){const e=Number(o.gap),s=Number(r.value),i=Number(x.value),a=i-e;return s<o.min?(r.value=o.min,void k(s,i)):i>o.max?(x.value=o.max,void k(s,i)):t?s>a?(r.value=a,void k(a,i)):void k(s,i):r.value>a?(x.value=s+e,void k(s,x.value)):void k(s,i)}function E(){s("onSurfaceChanged",S)}function O(){D(!0),z()}function L(){D(!1),M()}const z=l()((()=>{S.min=r.value}),o.sliderDelay),M=l()((()=>{S.max=x.value}),o.sliderDelay),P=l()((t=>{r.value=t.target.value,S.min=r.value,D(!0)}),o.inputsDelay),I=l()((t=>{x.value=t.target.value,S.max=x.value,D(!1)}),o.inputsDelay);return(0,i.YP)(S,(()=>{E()})),(0,i.YP)((()=>[o.min,o.max]),(()=>{H()})),(0,i.bv)((()=>{H()})),(e,s)=>((0,i.wg)(),(0,i.iD)("div",c,[(0,i._)("div",u,[d,(0,i._)("div",h,[(0,i.wy)((0,i._)("input",{type:"range",class:"form-range position-absolute",id:"min-range",ref:"minSlider",max:t.max,min:t.min,step:t.step,"onUpdate:modelValue":s[0]||(s[0]=t=>r.value=t),value:r.value,onInput:O},null,40,v),[[a.nr,r.value]]),(0,i.wy)((0,i._)("input",{type:"range",class:"form-range position-absolute",id:"max-range",ref_key:"maxSlider",ref:C,max:t.max,min:t.min,step:t.step,"onUpdate:modelValue":s[1]||(s[1]=t=>x.value=t),value:x.value,onInput:L},null,40,m),[[a.nr,x.value]])])]),(0,i._)("div",p,[(0,i._)("div",f,[(0,i._)("input",{type:"number",id:"min-input",class:"form-control",value:r.value,onInput:s[2]||(s[2]=(...t)=>(0,n.SU)(P)&&(0,n.SU)(P)(...t))},null,40,_),g]),(0,i._)("div",w,[(0,i._)("input",{class:"form-control",type:"number",id:"max-input",value:x.value,onInput:s[3]||(s[3]=(...t)=>(0,n.SU)(I)&&(0,n.SU)(I)(...t))},null,40,b),y])])]))}},S=s(40089);const C=(0,S.Z)(x,[["__scopeId","data-v-22bb3bba"]]);var H=C},5395:function(t,e,s){s.r(e),s.d(e,{default:function(){return g}});var i=s(73396),a=s(49242),n=s(87139),o=s(44870);const l=t=>((0,i.dD)("data-v-41fca7c0"),t=t(),(0,i.Cn)(),t),r={class:"stages-parent w-100"},c=l((()=>(0,i._)("div",{class:"filters-title mb-2"},[(0,i._)("span",null,"Etages")],-1))),u={class:"container-fluid p-1"},d={class:"row justify-content-center"},h=["id","value"],v=["for"],m=l((()=>(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.2em",height:"1.2em",fill:"currentColor",class:"bi bi-layers-half",viewBox:"0 0 16 16"},[(0,i._)("path",{d:"M8.235 1.559a.5.5 0 0 0-.47 0l-7.5 4a.5.5 0 0 0 0 .882L3.188 8 .264 9.559a.5.5 0 0 0 0 .882l7.5 4a.5.5 0 0 0 .47 0l7.5-4a.5.5 0 0 0 0-.882L12.813 8l2.922-1.559a.5.5 0 0 0 0-.882l-7.5-4zM8 9.433 1.562 6 8 2.567 14.438 6 8 9.433z"})],-1)));var p={__name:"StagesFilter",props:{stageCount:Number,defaultStages:{type:Array,default(){return[]}}},emits:["onStagesChanged"],setup(t,{emit:e}){const s=e,l=t,p=(0,o.iH)(l.defaultStages);function f(){s("onStagesChanged",p.value)}return(0,i.YP)(p,(()=>{f()})),(0,i.YP)((()=>l.defaultStages),(()=>{p.value=l.defaultStages,f()})),(0,i.bv)((()=>{f()})),(e,s)=>((0,i.wg)(),(0,i.iD)("div",r,[c,(0,i._)("div",u,[(0,i._)("div",d,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.stageCount,(t=>((0,i.wg)(),(0,i.iD)("div",{class:"stages-content",key:t},[(0,i.wy)((0,i._)("input",{type:"checkbox",class:"custom-checkbox",id:"stages-"+t,value:t-1,"onUpdate:modelValue":s[0]||(s[0]=t=>p.value=t),autocomplete:"off"},null,8,h),[[a.e8,p.value]]),(0,i._)("label",{class:"btn custom-btn",for:"stages-"+t},[m,(0,i.Uk)(" "+(0,n.zw)(t-1),1)],8,v)])))),128))])])]))}},f=s(40089);const _=(0,f.Z)(p,[["__scopeId","data-v-41fca7c0"]]);var g=_},77198:function(t,e,s){s.r(e),s.d(e,{default:function(){return f}});var i=s(73396),a=s(44870),n=s(49242),o=s(87139),l=s(5169),r=s(65543);const c={class:"status-parent"},u=(0,i._)("div",{class:"filters-title mb-3"},[(0,i._)("span",null,"Status")],-1),d={class:"d-flex justify-content-center flex-wrap text-white"},h=["id","value"],v=["for"];var m={__name:"StatusFilter",emits:["onStatusChanged"],setup(t,{emit:e}){const s=(0,l.useAppDataStore)(),{status:m,defaultStatus:p}=(0,r.Jk)(s),f=e,_=(0,a.iH)(p.value);function g(){f("onStatusChanged",_.value)}return(0,i.YP)(_,(()=>{g()})),(0,i.YP)((()=>p.value),(()=>{_.value=p.value,g()})),(0,i.bv)((()=>{g()})),(t,e)=>((0,i.wg)(),(0,i.iD)("div",c,[u,(0,i._)("div",d,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,a.SU)(m),((t,s)=>((0,i.wg)(),(0,i.iD)("div",{class:"m-1",key:s},[(0,i.wy)((0,i._)("input",{type:"checkbox",class:"btn-check",id:t.name+s,"onUpdate:modelValue":e[0]||(e[0]=t=>_.value=t),value:t.value,autocomplete:"off"},null,8,h),[[n.e8,_.value]]),(0,i._)("label",{class:(0,o.C_)(["btn custom-checkbox border-0 text-white text-start pe-4",t.css_type]),for:t.name+s},(0,o.zw)(t.name),11,v)])))),128))])]))}};const p=m;var f=p},38877:function(t,e,s){s.r(e),s.d(e,{default:function(){return g}});var i=s(73396),a=s(44870),n=s(49242),o=s(87139),l=s(5169),r=s(65543);const c=t=>((0,i.dD)("data-v-9d9b0a8e"),t=t(),(0,i.Cn)(),t),u={class:"types"},d=c((()=>(0,i._)("div",{class:"filters-title mb-3"},[(0,i._)("span",null,"Types")],-1))),h={class:"d-flex justify-content-center"},v=["id","value"],m=["for"];var p={__name:"TypesFilter",props:{defaultTypes:{type:Array,default(){return[]}}},emits:["onTypesChanged"],setup(t,{emit:e}){const s=(0,l.useAppDataStore)(),{colorTypes:c}=(0,r.Jk)(s),p=e,f=t,_=(0,a.iH)(f.defaultTypes);function g(){p("onTypesChanged",_.value)}return(0,i.YP)(_,(()=>{g()})),(0,i.YP)((()=>f.defaultTypes),(()=>{_.value=f.defaultTypes,g()})),(0,i.bv)((()=>{g()})),(t,e)=>((0,i.wg)(),(0,i.iD)("div",u,[d,(0,i._)("div",h,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)((0,a.SU)(c),((t,s,a)=>((0,i.wg)(),(0,i.iD)("div",{class:"me-2 w-50 position-relative",key:a},[(0,i.wy)((0,i._)("input",{type:"checkbox",class:"btn-check",id:"checkbox-"+a,value:s,"onUpdate:modelValue":e[0]||(e[0]=t=>_.value=t),autocomplete:"off"},null,8,v),[[n.e8,_.value]]),(0,i._)("label",{class:"btn custom-checkbox border-0 text-white text-start w-100",for:"checkbox-"+a,style:(0,o.j5)({"background-color":t})},(0,o.zw)(s),13,m)])))),128))])]))}},f=s(40089);const _=(0,f.Z)(p,[["__scopeId","data-v-9d9b0a8e"]]);var g=_},56231:function(t,e,s){s.r(e),s.d(e,{default:function(){return w}});var i=s(73396),a=s(44870),n=s(41703),o=s(83745),l=s(196),r=s(678),c=s(48240),u=s(5169),d=s(65543);const h={class:"row scrollable-pages"},v={class:"col-12"},m=(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.6em",height:"1.6em",fill:"currentColor",class:"bi bi-file-earmark-lock2-fill me-1",viewBox:"0 0 16 16"},[(0,i._)("path",{d:"M7 7a1 1 0 0 1 2 0v1H7V7z"}),(0,i._)("path",{d:"M9.293 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4.707A1 1 0 0 0 13.707 4L10 .293A1 1 0 0 0 9.293 0zM9.5 3.5v-2l3 3h-2a1 1 0 0 1-1-1zM10 7v1.076c.54.166 1 .597 1 1.224v2.4c0 .816-.781 1.3-1.5 1.3h-3c-.719 0-1.5-.484-1.5-1.3V9.3c0-.627.46-1.058 1-1.224V7a2 2 0 1 1 4 0z"})],-1),p={class:"col-md-4 col-lg-3 m-0 p-0 px-3"},f={class:"col-md-8 col-lg-9 m-0 p-0"};var _={__name:"AdminPage",setup(t){const e=(0,c.useRegionsStore)(),{isLoading:s}=(0,d.Jk)(e),_=(0,u.useAppDataStore)(),{currentOrbital:g}=(0,d.Jk)(_),w=(0,a.iH)(null);function b(){y()}function y(){e.fetchAuthRegions().then((()=>{w.value&&e.filterRegions(w.value.filters)}))}return(0,i.wF)((()=>{g.value.isOrbitalSelection&&_.setCurrentOrbital("villa1"),y()})),(t,e)=>((0,i.wg)(),(0,i.iD)("div",h,[(0,i._)("div",v,[(0,i.Wm)((0,a.SU)(r["default"]),null,{default:(0,i.w5)((()=>[m,(0,i.Uk)(" Administration ")])),_:1})]),(0,i._)("div",p,[(0,i.Wm)((0,a.SU)(n["default"]),{"is-loading":(0,a.SU)(s),onOnOrbitalSwitched:b,ref_key:"sideFilterRef",ref:w},null,8,["is-loading"])]),(0,i._)("div",f,[(0,i.Wm)((0,a.SU)(o["default"]),{"fetch-by":6,"show-admin":!0})]),(0,i.Wm)((0,a.SU)(l["default"]),null,{default:(0,i.w5)((()=>[(0,i.Uk)("to top")])),_:1})]))}};const g=_;var w=g},22929:function(t,e,s){s.r(e),s.d(e,{default:function(){return c}});var i=s(73396),a=s(44870),n=s(53507);const o={class:"carousel-parent pages"};var l={__name:"GaleriePage",setup(t){const e=(0,a.iH)([{url:"assets/images/gallery/outside-pers-day.jpg",title:"",desc:""},{url:"assets/images/gallery/outside-pers-night.jpg",title:""},{url:"assets/images/gallery/salon-inside.jpg",title:""}]);return(t,s)=>((0,i.wg)(),(0,i.iD)("div",o,[(0,i.Wm)(n["default"],{itemsData:e.value},null,8,["itemsData"])]))}};const r=l;var c=r},79770:function(t,e,s){s.r(e),s.d(e,{default:function(){return p}});var i=s(73396);const a=t=>((0,i.dD)("data-v-13060527"),t=t(),(0,i.Cn)(),t),n={class:"home-page full-height"},o={class:"bg d-flex justify-content-end align-items-center",ref:"container"},l={class:"hero d-flex justify-content-center align-items-end flex-column"},r=a((()=>(0,i._)("h1",{class:"hero-title"},[(0,i._)("small",null,"residence"),(0,i._)("br"),(0,i.Uk)("le petit paradis")],-1))),c={class:"hero-btns d-flex justify-content-end align-items-center"},u=a((()=>(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",class:"bi bi-geo-alt-fill me-2",viewBox:"0 0 16 16"},[(0,i._)("path",{d:"M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10zm0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6z"})],-1))),d=a((()=>(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",fill:"currentColor",class:"bi bi-box-fill me-2",viewBox:"0 0 16 16"},[(0,i._)("path",{"fill-rule":"evenodd",d:"M15.528 2.973a.75.75 0 0 1 .472.696v8.662a.75.75 0 0 1-.472.696l-7.25 2.9a.75.75 0 0 1-.557 0l-7.25-2.9A.75.75 0 0 1 0 12.331V3.669a.75.75 0 0 1 .471-.696L7.443.184l.004-.001.274-.11a.75.75 0 0 1 .558 0l.274.11.004.001 6.971 2.789Zm-1.374.527L8 5.962 1.846 3.5 1 3.839v.4l6.5 2.6v7.922l.5.2.5-.2V6.84l6.5-2.6v-.4l-.846-.339Z"})],-1)));var h={__name:"HomePage",setup(t){return(t,e)=>{const s=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",n,[(0,i._)("div",o,[(0,i._)("div",l,[r,(0,i._)("div",c,[(0,i.Wm)(s,{to:"/localisation",class:"btn hero-btn",tabindex:"-1",role:"button","aria-disabled":"true"},{default:(0,i.w5)((()=>[u,(0,i.Uk)(" Localisation ")])),_:1}),(0,i.Wm)(s,{to:"/orbitals",class:"btn hero-btn",tabindex:"-1",role:"button","aria-disabled":"true"},{default:(0,i.w5)((()=>[d,(0,i.Uk)(" orbitales ")])),_:1})])])],512)])}}},v=s(40089);const m=(0,v.Z)(h,[["__scopeId","data-v-13060527"]]);var p=m},33750:function(t,e,s){s.r(e),s.d(e,{default:function(){return c}});var i=s(73396),a=s(44870),n=s(53507);const o={class:"pages"};var l={__name:"LocalisationPage",setup(t){const e=(0,a.iH)([{url:"assets/images/localisation/localisation.jpg",title:"Domaine Marrakech",desc:""},{url:"assets/images/localisation/masse-plan.jpg",title:"Plan de masse",desc:""}]);return(t,s)=>((0,i.wg)(),(0,i.iD)("div",o,[(0,i.Wm)(n["default"],{itemsData:e.value},null,8,["itemsData"])]))}};const r=l;var c=r},96051:function(t,e,s){s.r(e),s.d(e,{default:function(){return C}});var i=s(73396),a=s(44870),n=s(49242),o=s(42591),l=s(49865),r=s(65543);const c={class:""},u={class:"container"},d={class:"row justify-content-center align-items-center vh-100"},h={class:"col-8 col-md-6 col-lg-5"},v={class:"login-wrap bg-white shadow p-4 p-md-5"},m=(0,i._)("div",{class:"icon d-flex align-items-center justify-content-center pb-3"},[(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"3em",height:"3em",fill:"currentColor",class:"bi bi-person-fill-lock",viewBox:"0 0 16 16"},[(0,i._)("path",{d:"M11 5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm-9 8c0 1 1 1 1 1h5v-1a1.9 1.9 0 0 1 .01-.2 4.49 4.49 0 0 1 1.534-3.693C9.077 9.038 8.564 9 8 9c-5 0-6 3-6 4Zm7 0a1 1 0 0 1 1-1v-1a2 2 0 1 1 4 0v1a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1v-2Zm3-3a1 1 0 0 0-1 1v1h2v-1a1 1 0 0 0-1-1Z"})])],-1),p=(0,i._)("h3",{class:"text-center lead mb-4"},"Login",-1),f=["onSubmit"],_={class:"form-group mb-3"},g={class:"form-group d-flex mb-3"},w={class:"form-group mb-3 text-center"},b=["disabled"],y={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"};var x={__name:"LoginPage",setup(t){const e=(0,l.useAuthStore)(),{isError:s}=(0,r.Jk)(e),x=(0,a.iH)(""),S=(0,a.iH)(""),C=(0,a.iH)(""),H=(0,a.iH)(!1),k=(0,a.iH)(!1),D=()=>{k.value=!0,e.login(x.value,S.value).then((t=>{C.value=t,H.value=!s.value,k.value=!1}))};return(0,i.bv)((()=>{x.value="",S.value="",C.value=""})),(t,e)=>((0,i.wg)(),(0,i.iD)("div",c,[(0,i._)("div",u,[(0,i._)("div",d,[(0,i._)("div",h,[(0,i._)("div",v,[(0,i.Wm)((0,a.SU)(o["default"]),{message:C.value,"is-success":H.value},null,8,["message","is-success"]),m,p,(0,i._)("form",{onSubmit:(0,n.iM)(D,["prevent"])},[(0,i._)("div",_,[(0,i.wy)((0,i._)("input",{type:"text",class:"form-control",placeholder:"Username","onUpdate:modelValue":e[0]||(e[0]=t=>x.value=t),required:""},null,512),[[n.nr,x.value]])]),(0,i._)("div",g,[(0,i.wy)((0,i._)("input",{type:"password",class:"form-control",placeholder:"Password","onUpdate:modelValue":e[1]||(e[1]=t=>S.value=t),required:""},null,512),[[n.nr,S.value]])]),(0,i._)("div",w,[(0,i._)("button",{type:"submit",class:"btn btn-primary p-2 px-5",disabled:k.value},[k.value?((0,i.wg)(),(0,i.iD)("span",y)):(0,i.kq)("",!0),(0,i.Uk)(" Login ")],8,b)])],40,f)])])])])]))}};const S=x;var C=S},91381:function(t,e,s){s.r(e),s.d(e,{default:function(){return u}});s(70560);var i=s(73396),a=s(44870),n=s(56797),o=s(22483),l=s(5169),r={__name:"OrbitalPage",setup(t){const e=(0,l.useAppDataStore)();e.setCurrentOrbital("listOrbitals");const s=(0,o.tv)();function r(t){const e=`orbitals/${t}`;s.push(e)}return(t,e)=>((0,i.wg)(),(0,i.j4)((0,a.SU)(n["default"]),{onOnHSClick:r}))}};const c=r;var u=c},42223:function(t,e,s){s.r(e),s.d(e,{default:function(){return d}});var i=s(73396),a=s(44870),n=s(49242),o=s(56549),l=s(93444);const r={class:"list-orbitals"};var c={__name:"OrbitalsList",setup(t){const e=(0,a.iH)(null),s=(0,a.iH)(!1);function c(){(0,l.transitionEnter)(e.value,(()=>{s.value=!1}))}function u(t,i){s.value=!0,(0,l.transitionLeave)(e.value,i)}return(t,l)=>{const d=(0,i.up)("router-view");return(0,i.wg)(),(0,i.iD)("div",r,[(0,i._)("div",{ref_key:"SubPagesLoader",ref:e},[(0,i.Wm)((0,a.SU)(o["default"]),{"can-show":s.value},null,8,["can-show"])],512),(0,i.Wm)(d,null,{default:(0,i.w5)((({Component:t})=>[(0,i.Wm)(n.uT,{onEnter:c,onLeave:u,css:!1,mode:"out-in"},{default:(0,i.w5)((()=>[((0,i.wg)(),(0,i.j4)((0,i.LL)(t)))])),_:2},1024)])),_:1})])}}};const u=c;var d=u},78352:function(t,e,s){s.r(e),s.d(e,{default:function(){return c}});var i=s(73396),a=s(44870);const n={class:"pages"},o=["src"];var l={__name:"PanoramaPage",setup(t){const e="https://orbital-360.vercel.app/",s="pano-360",l=(0,a.iH)(e+s);return(t,e)=>((0,i.wg)(),(0,i.iD)("div",n,[(0,i._)("iframe",{src:l.value,width:"100%",height:"100%"},null,8,o)]))}};const r=l;var c=r},83090:function(t,e,s){s.r(e),s.d(e,{default:function(){return d}});var i=s(73396),a=s(44870),n=s(49242),o=s(56549),l=s(93444);const r={class:"list-tours"};var c={__name:"PanoramasList",setup(t){const e=(0,a.iH)(null),s=(0,a.iH)(!1);function c(){(0,l.transitionEnter)(e.value,(()=>{s.value=!1}))}function u(t,i){s.value=!0,(0,l.transitionLeave)(e.value,i)}return(t,l)=>{const d=(0,i.up)("router-view");return(0,i.wg)(),(0,i.iD)("div",r,[(0,i._)("div",{ref_key:"SubPagesLoader",ref:e},[(0,i.Wm)((0,a.SU)(o["default"]),{"can-show":s.value},null,8,["can-show"])],512),(0,i.Wm)(d,null,{default:(0,i.w5)((({Component:t})=>[(0,i.Wm)(n.uT,{onEnter:c,onLeave:u,css:!1,mode:"out-in"},{default:(0,i.w5)((()=>[((0,i.wg)(),(0,i.j4)((0,i.LL)(t)))])),_:2},1024)])),_:1})])}}};const u=c;var d=u},49698:function(t,e,s){s.r(e),s.d(e,{default:function(){return y}});var i=s(73396),a=s(44870),n=s(87139),o=s(83745),l=s(41703),r=s(196),c=s(678),u=s(5169),d=s(48240),h=s(65543);const v={class:"row scrollable-pages"},m={class:"col-12"},p=(0,i._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.2em",height:"1.2em",fill:"currentColor",class:"bi bi-search me-1",viewBox:"0 0 16 16"},[(0,i._)("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"})],-1),f={class:"col-md-4 col-lg-3 m-0 p-0 px-3"},_={class:"col-md-8 col-lg-9 m-0 p-0"},g={class:"list-product p-1"};var w={__name:"SearchPage",setup(t){const e=(0,u.useAppDataStore)(),s=(0,d.useRegionsStore)(),{currentOrbital:w}=(0,h.Jk)(e),{isLoading:b}=(0,h.Jk)(s),y=(0,a.iH)(null);function x(){S()}function S(){s.fetchRegions().then((()=>{y.value&&s.filterRegions(y.value.filters)}))}return(0,i.wF)((()=>{w.value.isOrbitalSelection&&e.setCurrentOrbital("villa1"),S()})),(t,e)=>((0,i.wg)(),(0,i.iD)("div",v,[(0,i._)("div",m,[(0,i.Wm)((0,a.SU)(c["default"]),null,{default:(0,i.w5)((()=>[p,(0,i.Uk)(" Trouver dans "),(0,i._)("b",null,(0,n.zw)((0,a.SU)(w).title),1)])),_:1})]),(0,i._)("div",f,[(0,i.Wm)((0,a.SU)(l["default"]),{"is-loading":(0,a.SU)(b),onOnOrbitalSwitched:x,ref_key:"sideFilterRef",ref:y},null,8,["is-loading"]),(0,i.Wm)((0,a.SU)(r["default"]),null,{default:(0,i.w5)((()=>[(0,i.Uk)("filter")])),_:1})]),(0,i._)("div",_,[(0,i._)("div",g,[(0,i.Wm)((0,a.SU)(o["default"]),{"fetch-by":6})])])]))}};const b=w;var y=b},75022:function(t,e,s){s.r(e),s.d(e,{default:function(){return r}});var i=s(73396);const a={class:"pages"},n=["src"];var o={__name:"TourVillaOne",setup(t){const e="https://orbital-360.vercel.app/",s="pano-360",o=(0,i.Fl)((()=>`${e}${s}`));return(t,e)=>((0,i.wg)(),(0,i.iD)("div",a,[(0,i._)("iframe",{src:o.value,width:"100%",height:"100%"},null,8,n)]))}};const l=o;var r=l},14279:function(t,e,s){s.r(e),s.d(e,{default:function(){return r}});var i=s(73396);const a={class:"pages"},n=["src"];var o={__name:"TourVillaThree",setup(t){const e="https://orbital-360.vercel.app/",s="pano-360",o=(0,i.Fl)((()=>`${e}${s}`));return(t,e)=>((0,i.wg)(),(0,i.iD)("div",a,[(0,i._)("iframe",{src:o.value,width:"100%",height:"100%"},null,8,n)]))}};const l=o;var r=l},15004:function(t,e,s){s.r(e),s.d(e,{default:function(){return r}});var i=s(73396);const a={class:"pages"},n=["src"];var o={__name:"TourVillaTwo",setup(t){const e="https://orbital-360.vercel.app/",s="pano-360",o=(0,i.Fl)((()=>`${e}${s}`));return(t,e)=>((0,i.wg)(),(0,i.iD)("div",a,[(0,i._)("iframe",{src:o.value,width:"100%",height:"100%"},null,8,n)]))}};const l=o;var r=l},88412:function(t,e,s){s.r(e),s.d(e,{default:function(){return m}});var i=s(73396),a=s(44870),n=s(91076);const o={class:"parent-video d-flex align-items-center"},l={class:"ratio ratio-16x9 h-100"},r={controls:""},c=["src"],u=["href"];var d={__name:"VideoPage",setup(t){const e=(0,a.iH)("@/assets/videos/video-sample.mp4"),s=(0,a.iH)("");async function d(){try{const t=await n.Z.get(e.value);return t.data}catch(t){console.error("Error loading video:",t)}}return(0,i.YP)(e,(()=>{s.value=d()}),{immediate:!0}),(t,a)=>((0,i.wg)(),(0,i.iD)("div",o,[(0,i._)("div",l,[(0,i._)("video",r,[(0,i._)("source",{src:s.value,type:"video/mp4"},null,8,c),(0,i._)("p",null,[(0,i.Uk)("Votre navigateur ne prend pas en charge les vidéos HTML5. Voici "),(0,i._)("a",{href:e.value},"un lien pour télécharger la vidéo",8,u),(0,i.Uk)(".")])])])]))}},h=s(40089);const v=(0,h.Z)(d,[["__scopeId","data-v-64f612ea"]]);var m=v},34019:function(t,e,s){s.r(e),s.d(e,{default:function(){return c}});var i=s(73396),a=s(44870),n=s(56797),o=s(5169),l={__name:"VillaOnePage",setup(t){const e=(0,o.useAppDataStore)();return e.setCurrentOrbital("villa1"),(t,e)=>((0,i.wg)(),(0,i.j4)((0,a.SU)(n["default"])))}};const r=l;var c=r},35972:function(t,e,s){s.r(e),s.d(e,{default:function(){return c}});var i=s(73396),a=s(44870),n=s(56797),o=s(5169),l={__name:"VillaThreePage",setup(t){const e=(0,o.useAppDataStore)();return e.setCurrentOrbital("villa8"),(t,e)=>((0,i.wg)(),(0,i.j4)((0,a.SU)(n["default"])))}};const r=l;var c=r},16965:function(t,e,s){s.r(e),s.d(e,{default:function(){return c}});var i=s(73396),a=s(44870),n=s(56797),o=s(5169),l={__name:"VillaTwoPage",setup(t){const e=(0,o.useAppDataStore)();return e.setCurrentOrbital("villa3"),(t,e)=>((0,i.wg)(),(0,i.j4)((0,a.SU)(n["default"])))}};const r=l;var c=r}}]);
//# sourceMappingURL=group-orbital-d87c119a.1e95afd4.js.map